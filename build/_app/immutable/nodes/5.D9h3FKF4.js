import{p as Oe,i as oe,b as bt,_ as si}from"../chunks/Bo_rlaGC.js";import{c as ye,a as L,f as J}from"../chunks/Cq-EHh3y.js";import{d as qe,w as We,r as li,g as rn,o as cn}from"../chunks/CjBLn947.js";import{h as an,a as ci,aI as di,aK as ui,a8 as Cr,b as fi,p as vi,c as hi,d as gi,ac as mi,ad as kr,y as x,ae as _i,A as yi,ag as $i,t as bi,ax as Pn,j as $e,aL as Pe,aM as wi,aN as Di,f as ee,g as i,l as be,q as re,o as le,r as te,m as Yt,s as Ee,ay as C,w as tt,aO as Ti,k as De,aP as Wn,n as Ci,aQ as st,aw as kt,H as ki,al as Er}from"../chunks/DY99hRlv.js";import{e as pe,s as fr,d as nt}from"../chunks/Hrd9LDci.js";import{w as Ei}from"../chunks/B8fJUUNV.js";import{c as Bn}from"../chunks/BQEJzPEG.js";import{e as Ge,i as _t,s as lt}from"../chunks/Dr9EWtn6.js";import{t as Si,s as q,c as vr}from"../chunks/DwHDfmlN.js";import{s as xe,a as o,b as ve,d as Le}from"../chunks/box2CaQC.js";import{i as Gn}from"../chunks/CauxgJ64.js";import{s as Pt}from"../chunks/N53LrMpk.js";function xi(e,t,n){an&&ci();var r=e,a=mi,s,l=di()?ui:Cr;fi(()=>{l(a,a=t())&&(s&&vi(s),s=hi(()=>n(r)))}),an&&(r=gi)}function Et(e,t,n){kr(()=>{var r=x(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var a=!1,s={};_i(()=>{var l=n();yi(l),a&&Cr(s,l)&&(s=l,r.update(l))}),a=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function Tn(e,t={},n,r){for(var a in n){var s=n[a];t[a]!==s&&(n[a]==null?e.style.removeProperty(a):e.style.setProperty(a,s,r))}}function Yn(e,t,n,r){var a=e.__style;if(an||a!==t){var s=Si(t,r);(!an||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=t}else r&&(Array.isArray(r)?(Tn(e,n==null?void 0:n[0],r[0]),Tn(e,n==null?void 0:n[1],r[1],"important")):Tn(e,n,r));return r}function yt(e,t,n){var r=$i(e,t);r&&r.set&&(e[t]=n,bi(()=>{e[t]=null}))}function Ri(e){return function(t){return t.key==="Enter"||t.key===" "&&!t.preventDefault()?e.call(this,t):void 0}}function Se(e,t){let n={update(r){typeof r=="string"?e.innerText=r:r!=null&&r.domNodes?e.replaceChildren(...r.domNodes):r!=null&&r.html&&(e.innerHTML=r.html)}};return n.update(t),n}function Cn(e,t){let n=new ResizeObserver(r=>{for(let a of r)t(a)});return n.observe(e),{destroy(){n.unobserve(e)}}}const Mn=86400;function dt(e=void 0){return e!==void 0?e instanceof Date?gr(e):Ii(e):gr(new Date)}function Ie(e){if(typeof e=="number")e={seconds:e};else if(typeof e=="string"){let n=0,r=2;for(let a of e.split(":",3))n+=parseInt(a,10)*Math.pow(60,r--);e={seconds:n}}else e instanceof Date&&(e={hours:e.getUTCHours(),minutes:e.getUTCMinutes(),seconds:e.getUTCSeconds()});let t=e.weeks||e.week||0;return{years:e.years||e.year||0,months:e.months||e.month||0,days:t*7+(e.days||e.day||0),seconds:(e.hours||e.hour||0)*60*60+(e.minutes||e.minute||0)*60+(e.seconds||e.second||0),inWeeks:!!t}}function B(e){return new Date(e.getTime())}function ae(e,t,n=1){e.setUTCFullYear(e.getUTCFullYear()+n*t.years);let r=e.getUTCMonth()+n*t.months;for(e.setUTCMonth(r),r%=12,r<0&&(r+=12);e.getUTCMonth()!==r;)Mt(e);return e.setUTCDate(e.getUTCDate()+n*t.days),e.setUTCSeconds(e.getUTCSeconds()+n*t.seconds),e}function nn(e,t,n=1){return ae(e,t,-n)}function wt(e,t=1){return e.setUTCDate(e.getUTCDate()+t),e}function Mt(e,t=1){return wt(e,-t)}function Ye(e){return e.setUTCHours(0,0,0,0),e}function Ue(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function ct(e,t=19){return e.toISOString().substring(0,t)}function Qe(e,...t){return t.every(n=>e.getTime()===n.getTime())}function pi(e,t){let n=t-e.getUTCDay();return e.setUTCDate(e.getUTCDate()+(n>=0?n:n+7)),e}function Sr(e,t){let n=t-e.getUTCDay();return e.setUTCDate(e.getUTCDate()+(n<=0?n:n-7)),e}function hr(e){return typeof e=="string"&&e.length<=10}function Ln(e,t){return e.setUTCHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),0),e}function Je(e){return e.seconds}function An(e,t){return ae(e,t),e}function Hn(e,t,n){if(nn(e,t),n.length&&n.length<7)for(;n.includes(e.getUTCDay());)Mt(e);return e}function gr(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()))}function Ii(e){const t=e.match(/\d+/g);return new Date(Date.UTC(Number(t[0]),Number(t[1])-1,Number(t[2]),Number(t[3]||0),Number(t[4]||0),Number(t[5]||0)))}function Lt(...e){return Object.assign(...e)}function mt(e){return Object.keys(e)}function Pi(e){return Object.entries(e)}function Mi(e){return Math.floor(e)}function $t(...e){return Math.min(...e)}function gt(...e){return Math.max(...e)}function Li(){return Symbol("ec")}function qn(e){return Array.isArray(e)}function se(e){return typeof e=="function"}function Ai(e){return e()}function xr(e){e.forEach(Ai)}function Hi(){}const zn=e=>e;function Rr(e,t,n){n.update(r=>r.set(t,e))}function zi(e){xr(e),e.clear()}function Ui(e,t,n){t??(t=e),n.has(t)||n.set(t,setTimeout(()=>{n.delete(t),e()}))}let Vn=Li();function Xn(e,t){e[Vn]=t}function Fi(e){return!!(e!=null&&e[Vn])}function Vt(e){return e[Vn]}function pr(e,t,n,r=[]){let a=document.createElement(e);a.className=t,typeof n=="string"?a.innerText=n:n.domNodes?a.replaceChildren(...n.domNodes):n.html&&(a.innerHTML=n.html);for(let s of r)a.setAttribute(...s);return a}function Oi(e){return e.scrollHeight>e.clientHeight}function At(e){return e.getBoundingClientRect()}function Un(e,t){for(;t--;)e=e.parentElement;return e}function Ni(e){return At(e).height}function It(e,t,n=document,r=[]){r.push(n);for(let a of n.elementsFromPoint(e,t)){if(Fi(a))return a;if(a.shadowRoot&&!r.includes(a.shadowRoot)){let s=It(e,t,a.shadowRoot,r);if(s)return s}}return null}function qt(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Wi(e,t,n,r){return{type:e,title:t,currentStart:n.start,currentEnd:n.end,activeStart:r.start,activeEnd:r.end,calendar:void 0}}function Fe(e){return e=Lt({},e),e.currentStart=Ue(e.currentStart),e.currentEnd=Ue(e.currentEnd),e.activeStart=Ue(e.activeStart),e.activeEnd=Ue(e.activeEnd),e}function Ir(e){return e.startsWith("list")}function kn(e){return e.includes("Timeline")}let Bi=1;function on(e){return e.map(t=>{let n={id:"id"in t?String(t.id):`{generated-${Bi++}}`,resourceIds:En(t,"resourceId").map(String),allDay:t.allDay??(hr(t.start)&&hr(t.end)),start:dt(t.start),end:dt(t.end),title:t.title??"",editable:t.editable,startEditable:t.startEditable,durationEditable:t.durationEditable,display:t.display??"auto",extendedProps:t.extendedProps??{},backgroundColor:t.backgroundColor??t.color,textColor:t.textColor,classNames:En(t,"className"),styles:En(t,"style")};if(n.allDay){Ye(n.start);let r=B(n.end);Ye(n.end),(!Qe(n.end,r)||Qe(n.end,n.start))&&wt(n.end)}return n})}function En(e,t){let n=e[t+"s"]??e[t]??[];return qn(n)?n:[n]}function Gi(e){return e.map(t=>({events:t.events,url:t.url&&t.url.trimEnd("&")||"",method:t.method&&t.method.toUpperCase()||"GET",extraParams:t.extraParams||{}}))}function sn(e,t,n){let r={start:e.start>t?e.start:t,end:e.end<n?e.end:n,event:e};return r.zeroDuration=Qe(r.start,r.end),r}function Pr(e){e.sort((t,n)=>t.start-n.start||n.event.allDay-t.event.allDay)}function Yi(e,t,n,r,a,s){let l=a.formatRange(e.start,t&&e.event.display!=="pointer"&&!e.zeroDuration?Ln(B(e.start),e.end):e.start),u;if(n&&(u=se(n)?n({event:Be(e.event),timeText:l,view:Fe(s)}):n),u===void 0){let d;switch(e.event.display){case"background":d=[];break;case"pointer":d=[mr(l,e,r)];break;default:d=[...e.event.allDay?[]:[mr(l,e,r)],pr("h4",r.eventTitle,e.event.title)]}u={domNodes:d}}return[l,u]}function mr(e,t,n){return pr("time",n.eventTime,e,[["datetime",ct(t.start)]])}function qi(e,t,n){let r=t.classNames;return e&&(se(e)&&(e=e({event:Be(t),view:Fe(n)})),r=[...qn(e)?e:[e],...r]),r}function Be(e){return Mr(e,Ue)}function Sn(e){return Mr(e,B)}function Mr(e,t){return e=Lt({},e),e.start=t(e.start),e.end=t(e.end),e}function xn(e,t){let n={};if(e.length){Pr(e);let r;for(let a of e){let s=[],l=Ye(B(a.start));for(;a.end>l;){if(!t.includes(l.getUTCDay())&&(s.push(B(l)),s.length>1)){let u=l.getTime();n[u]?n[u].chunks.push(a):n[u]={sorted:!1,chunks:[a]}}wt(l)}if(s.length){a.date=s[0],a.days=s.length,a.dates=s,a.start<s[0]&&(a.start=s[0]);let u=wt(B(s.at(-1)));a.end>u&&(a.end=u)}else a.date=Ye(B(a.start)),a.days=1,a.dates=[a.date];r&&Qe(r.date,a.date)&&(a.prev=r),r=a}}return n}function Vi(e,t,n){e.top=0,e.prev&&(e.top=e.prev.bottom+1),e.bottom=e.top+n;let r=1,a=e.date.getTime();if(t[a]){t[a].sorted||(t[a].chunks.sort((s,l)=>s.top-l.top),t[a].sorted=!0);for(let s of t[a].chunks)if(e.top<s.bottom&&e.bottom>s.top){let l=s.bottom-e.top+1;r+=l,e.top+=l,e.bottom+=l}}return r}function Lr(e,t){var r;e.length=t.length;let n=[];for(let a of e)n.push((r=a==null?void 0:a.reposition)==null?void 0:r.call(a));return n}function ln(e,t,n,r){return e.start<n&&e.end>t?r?(qn(r)||(r=[r]),r.some(a=>e.resourceIds.includes(a.id))):!0:!1}function Xt(e){return Xi(e)||Ar(e)||Ki(e)}function ut(e){return e==="background"}function Xi(e){return e==="preview"}function Ar(e){return e==="ghost"}function Ki(e){return e==="pointer"}function Zi(e){return Hr(e,"day")}function Ji(e){return Hr(e,"week")}function Hr(e,t){return{...e,next:"Next "+t,prev:"Previous "+t}}function _r(e){return t=>({...t,view:e})}function Qi(e){let t,n;return e&&({start:t,end:n}=e,t&&(t=Ye(dt(t))),n&&(n=Ye(dt(n)))),{start:t,end:n}}function Kn(e,t){return t.start&&e<t.start||t.end&&e>t.end}function yr(e,t){return t.start&&e<t.start&&(e=t.start),t.end&&e>t.end&&(e=t.end),e}function ji(e){let t=[];return zr(e,0,t),t}function zr(e,t,n){let r=[];for(let a of e){let s=ea(a);r.push(s),n.push(s);let l={level:t,children:[],expanded:!0,hidden:!1};Xn(s,l),a.children&&(l.children=zr(a.children,t+1,n))}return r}function ea(e){return{id:String(e.id),title:e.title||"",eventBackgroundColor:e.eventBackgroundColor,eventTextColor:e.eventTextColor,extendedProps:e.extendedProps??{}}}function ta(e,t){var n;return(n=Ur(e,t))==null?void 0:n.eventBackgroundColor}function na(e,t){var n;return(n=Ur(e,t))==null?void 0:n.eventTextColor}function Ur(e,t){return t.find(n=>e.resourceIds.includes(n.id))}function Rn(e,t){return qe([e,t],([n,r])=>{let a=se(r)?{format:r}:new Intl.DateTimeFormat(n,r);return{format:s=>a.format(Ue(s))}})}function $r(e,t){return qe([e,t],([n,r])=>{let a;if(se(r))a=r;else{let s=new Intl.DateTimeFormat(n,r);a=(l,u)=>{if(l<=u)return s.formatRange(l,u);{let d=s.formatRangeToParts(u,l),v="",c=["startRange","endRange"],w=[!1,!1];for(let h of d){let D=c.indexOf(h.source);D>=0?w[D]||(v+=ra(c[1-D],d),w[D]=!0):v+=h.value}return v}}}return{formatRange:(s,l)=>a(Ue(s),Ue(l))}})}function ra(e,t){let n="";for(let r of t)r.source==e&&(n+=r.value);return n}function ia(e,t,n,r,a){e=B(e);let s=[],l=B(e);ae(e,r.min),ae(l,r.max),n===void 0&&(n=t.seconds<3600?Ie(t.seconds*2):t);let u=B(e);for(;e<l;){for(s.push([ct(e),a.format(e),e>=u]);n.seconds&&e>=u;)ae(u,n);ae(e,t)}return s}function aa(e,t,n,r,a){let s=Ie(e),l=Ie(t);if(n){let u=Ie($t(Je(s),gt(0,Je(l)-Mn))),d=Ie(gt(Je(l),Je(u)+Mn)),v=se(n==null?void 0:n.eventFilter)?n.eventFilter:c=>!ut(c.display);e:for(let c of r){let w=ae(B(c),s),h=ae(B(c),l),D=ae(B(c),u),_=ae(B(c),d);for(let T of a)if(!T.allDay&&v(T)&&T.start<_&&T.end>D){if(T.start<w){let f=gt((T.start-c)/1e3,Je(u));f<Je(s)&&(s.seconds=f)}if(T.end>h){let f=$t((T.end-c)/1e3,Je(d));f>Je(l)&&(l.seconds=f)}if(Je(s)===Je(u)&&Je(l)===Je(d))break e}}}return{min:s,max:l}}function oa(e){var n;let t={allDayContent:void 0,allDaySlot:!0,buttonText:{today:"today"},customButtons:{},date:new Date,datesSet:void 0,dayHeaderFormat:{weekday:"short",month:"numeric",day:"numeric"},dayHeaderAriaLabelFormat:{dateStyle:"full"},displayEventEnd:!0,duration:{weeks:1},events:[],eventAllUpdated:void 0,eventBackgroundColor:void 0,eventClassNames:void 0,eventClick:void 0,eventColor:void 0,eventContent:void 0,eventDidMount:void 0,eventFilter:void 0,eventMouseEnter:void 0,eventMouseLeave:void 0,eventSources:[],eventTextColor:void 0,eventTimeFormat:{hour:"numeric",minute:"2-digit"},filterEventsWithResources:!1,filterResourcesWithEvents:!1,firstDay:0,flexibleSlotTimeLimits:!1,headerToolbar:{start:"title",center:"",end:"today prev,next"},height:void 0,hiddenDays:[],highlightedDates:[],lazyFetching:!0,loading:void 0,locale:void 0,nowIndicator:!1,resourceLabelContent:void 0,resourceLabelDidMount:void 0,resources:[],selectable:!1,scrollTime:"06:00:00",slotDuration:"00:30:00",slotEventOverlap:!0,slotHeight:24,slotLabelInterval:void 0,slotLabelFormat:{hour:"numeric",minute:"2-digit"},slotMaxTime:"24:00:00",slotMinTime:"00:00:00",slotWidth:72,theme:{allDay:"ec-all-day",active:"ec-active",bgEvent:"ec-bg-event",bgEvents:"ec-bg-events",body:"ec-body",button:"ec-button",buttonGroup:"ec-button-group",calendar:"ec",content:"ec-content",day:"ec-day",dayHead:"ec-day-head",days:"ec-days",disabled:"ec-disabled",event:"ec-event",eventBody:"ec-event-body",eventTime:"ec-event-time",eventTitle:"ec-event-title",events:"ec-events",extra:"ec-extra",handle:"ec-handle",header:"ec-header",hiddenScroll:"ec-hidden-scroll",highlight:"ec-highlight",icon:"ec-icon",line:"ec-line",lines:"ec-lines",minor:"ec-minor",nowIndicator:"ec-now-indicator",otherMonth:"ec-other-month",resource:"ec-resource",sidebar:"ec-sidebar",sidebarTitle:"ec-sidebar-title",today:"ec-today",time:"ec-time",title:"ec-title",toolbar:"ec-toolbar",view:"",weekdays:["ec-sun","ec-mon","ec-tue","ec-wed","ec-thu","ec-fri","ec-sat"],withScroll:"ec-with-scroll"},titleFormat:{year:"numeric",month:"short",day:"numeric"},validRange:void 0,view:void 0,viewDidMount:void 0,views:{}};for(let r of e)(n=r.createOptions)==null||n.call(r,t);return t}function sa(e){var n;let t={date:r=>Ye(dt(r)),duration:Ie,events:on,eventSources:Gi,hiddenDays:r=>[...new Set(r)],highlightedDates:r=>r.map(a=>Ye(dt(a))),resources:ji,scrollTime:Ie,slotDuration:Ie,slotLabelInterval:r=>r!==void 0?Ie(r):void 0,slotMaxTime:Ie,slotMinTime:Ie,validRange:Qi};for(let r of e)(n=r.createParsers)==null||n.call(r,t);return t}function la(e,t){let n=[];for(let r of mt(e))e[r]!==t[r]&&n.push([r,e[r]]);return n}function ca(e){return qe(e.view,t=>t==null?void 0:t.startsWith("dayGrid"))}function da(e){return qe([e._currentRange,e.firstDay,e.slotMaxTime,e._dayGrid],([t,n,r,a])=>{let s=B(t.start),l=B(t.end);if(a)Sr(s,n),pi(l,n);else if(r.days||r.seconds>Mn){ae(Mt(l),r);let u=Mt(B(l));u<s&&(s=u)}return{start:s,end:l}})}function ua(e){return qe([e.date,e.duration,e.firstDay],([t,n,r])=>{let a=B(t),s;return n.months?a.setUTCDate(1):n.inWeeks&&Sr(a,r),s=ae(B(a),n),{start:a,end:s}})}function fa(e){return qe([e._activeRange,e.hiddenDays],([t,n])=>{let r=[],a=Ye(B(t.start)),s=Ye(B(t.end));for(;a<s;)n.includes(a.getUTCDay())||r.push(B(a)),wt(a);return!r.length&&n.length&&n.length<7&&(e.date.update(l=>{for(;n.includes(l.getUTCDay());)wt(l);return l}),r=rn(e._viewDates)),r})}function va(e){return qe([e.date,e._activeRange,e._intlTitle,e._dayGrid],([t,n,r,a])=>a?r.formatRange(t,t):r.formatRange(n.start,Mt(B(n.end))))}function ha(e){return qe([e.view,e._viewTitle,e._currentRange,e._activeRange],t=>Wi(...t))}function ga(e){let t=We([]),n,r=0,a={};return qe([e.events,e.eventSources,e._activeRange,e._fetchedRange,e.lazyFetching,e.loading],(s,l)=>Rr(()=>{let[u,d,v,c,w,h]=s;if(!d.length){l(u);return}if(!c.start||c.start>v.start||c.end<v.end||!w){n&&n.abort(),n=new AbortController,se(h)&&!r&&h(!0);let D=()=>{--r===0&&se(h)&&h(!1)},_=[],T=b=>D(),f=b=>{_=_.concat(on(b)),l(_),D()},g=ct(v.start),R=ct(v.end);for(let b of d){if(se(b.events)){let E=b.events({start:Ue(v.start),end:Ue(v.end),startStr:g,endStr:R},f,T);E!==void 0&&Promise.resolve(E).then(f,T)}else{let E=se(b.extraParams)?b.extraParams():Lt({},b.extraParams);E.start=g,E.end=R,E=new URLSearchParams(E);let P=b.url,y={},S;["GET","HEAD"].includes(b.method)?P+=(P.includes("?")?"&":"?")+E:(y["content-type"]="application/x-www-form-urlencoded;charset=UTF-8",S=String(E)),fetch(P,{method:b.method,headers:y,body:S,signal:n.signal,credentials:"same-origin"}).then(p=>p.json()).then(f).catch(T)}++r}c.start=v.start,c.end=v.end}},a,e._queue),[]).subscribe(t.set),t}function ma(e){let t;e._view.subscribe(r=>t=r);let n={};return qe([e._events,e.eventFilter],(r,a)=>Rr(()=>{let[s,l]=r;a(se(l)?s.filter((u,d,v)=>l({event:u,index:d,events:v,view:t})):s)},n,e._queue),[])}function _a(){return li(dt(),e=>{let t=setInterval(()=>{e(dt())},1e3);return()=>clearInterval(t)})}function ya(e){return qe(e._now,t=>Ye(B(t)))}class $a{constructor(t,n){var l,u;t=t||[];let r=oa(t),a=sa(t);r=Fn(r,a),n=Fn(n,a);for(let[d,v]of Object.entries(r))this[d]=We(v);this._queue=We(new Map),this._tasks=new Map,this._auxiliary=We([]),this._dayGrid=ca(this),this._currentRange=ua(this),this._activeRange=da(this),this._fetchedRange=We({start:void 0,end:void 0}),this._events=ga(this),this._now=_a(),this._today=ya(this),this._intlEventTime=$r(this.locale,this.eventTimeFormat),this._intlSlotLabel=Rn(this.locale,this.slotLabelFormat),this._intlDayHeader=Rn(this.locale,this.dayHeaderFormat),this._intlDayHeaderAL=Rn(this.locale,this.dayHeaderAriaLabelFormat),this._intlTitle=$r(this.locale,this.titleFormat),this._bodyEl=We(void 0),this._scrollable=We(!1),this._recheckScrollable=We(!1),this._viewTitle=va(this),this._viewDates=fa(this),this._view=ha(this),this._viewComponent=We(void 0),this._filteredEvents=ma(this),this._interaction=We({}),this._iEvents=We([null,null]),this._iClasses=We(zn),this._iClass=We(void 0),this._set=(d,v)=>{On(d,this)&&(a[d]&&(v=a[d](v)),this[d].set(v))},this._get=d=>On(d,this)?rn(this[d]):void 0;for(let d of t)(l=d.createStores)==null||l.call(d,this);n.view&&this.view.set(n.view);let s=new Set([...mt(r.views),...mt(n.views??{})]);for(let d of s){let v=br(r,r.views[d]??{}),c=br(v,n,((u=n.views)==null?void 0:u[d])??{}),w=c.component;ba(c,this);for(let h of mt(c)){let{set:D,_set:_=D,...T}=this[h];this[h]={set:["buttonText","theme"].includes(h)?f=>{if(se(f)){let g=f(v[h]);c[h]=g,D(D===_?g:f)}else c[h]=f,D(f)}:f=>{c[h]=f,D(f)},_set:_,...T}}this.view.subscribe(h=>{if(h===d){this._viewComponent.set(w),se(c.viewDidMount)&&Pn().then(()=>c.viewDidMount({view:Fe(rn(this._view))}));for(let D of mt(c))this[D]._set(c[D])}})}}}function Fn(e,t){let n={...e};for(let r of mt(t))r in n&&(n[r]=t[r](n[r]));if(e.views){n.views={};for(let r of mt(e.views))n.views[r]=Fn(e.views[r],t)}return n}function br(...e){let t={};for(let n of e){let r={};for(let a of["buttonText","theme"])se(n[a])&&(r[a]=n[a](t[a]));t={...t,...n,...r}}return t}function ba(e,t){mt(e).filter(n=>!On(n,t)||n==="view").forEach(n=>delete e[n])}function On(e,t){return t.hasOwnProperty(e)&&e[0]!=="_"}var wa=J("<h2></h2>"),Da=J("<button><i></i></button>"),Ta=J("<button><i></i></button>"),Ca=J("<button> </button>"),ka=J("<button></button>"),Ea=J("<button> </button>");function wr(e,t){$e(t,!1);const[n,r]=xe(),a=()=>o(A,"$validRange",n),s=()=>o(P,"$date",n),l=()=>o(y,"$duration",n),u=()=>o(S,"$hiddenDays",n),d=()=>o(f,"$_currentRange",n),v=()=>o(R,"$_viewDates",n),c=()=>o(p,"$theme",n),w=()=>o(g,"$_viewTitle",n),h=()=>o(b,"$buttonText",n),D=()=>o(E,"$customButtons",n),_=()=>o(H,"$view",n);let T=Oe(t,"buttons",8),{_currentRange:f,_viewTitle:g,_viewDates:R,buttonText:b,customButtons:E,date:P,duration:y,hiddenDays:S,theme:p,validRange:A,view:H}=Pe("state"),U=Ye(dt()),F=Yt(),V=Yt(),M=Yt(),G=Yt(!1);function ge(){return i(G)}function ne(){return v().every(ce=>Kn(ce,a()))}function I(){ve(P,Hn(s(),l(),u()))}function X(){ve(P,An(s(),l()))}wi(()=>(a(),s(),l(),u(),i(M),d(),Pn),()=>{if(!ge()){if(Ee(G,!0),Ee(F,!1),Ee(V,!1),a().start){let ce=B(s());ve(P,Hn(s(),l(),u())),Ee(F,ne()),ve(P,ce)}if(a().end){let ce=B(s());ve(P,An(s(),l())),Ee(V,ne()),ve(P,ce)}if(Ee(M,U>=d().start&&U<d().end),!i(M)&&(a().start||a().end)){let ce=B(s());ve(P,B(U)),Ee(M,ne()),ve(P,ce)}Pn().then(()=>Ee(G,!1))}}),Di(),Gn();var Q=ye(),Te=ee(Q);Ge(Te,1,T,_t,(ce,O)=>{var Ae=ye(),Ne=ee(Ae);{var He=me=>{var de=wa();Et(de,(Me,Ve)=>Se==null?void 0:Se(Me,Ve),w),re(()=>q(de,1,(c(),x(()=>c().title)))),L(me,de)},ft=(me,de)=>{{var Me=Re=>{var Ce=Da(),ue=le(Ce);te(Ce),re(()=>{q(Ce,1,`${c(),x(()=>c().button)??""} ec-${i(O)??""}`),lt(Ce,"aria-label",(h(),x(()=>h().prev))),lt(Ce,"title",(h(),x(()=>h().prev))),Ce.disabled=i(F),q(ue,1,`${c(),x(()=>c().icon)??""} ec-${i(O)??""}`)}),pe("click",Ce,I),L(Re,Ce)},Ve=(Re,Ce)=>{{var ue=K=>{var ie=Ta(),k=le(ie);te(ie),re(()=>{q(ie,1,`${c(),x(()=>c().button)??""} ec-${i(O)??""}`),lt(ie,"aria-label",(h(),x(()=>h().next))),lt(ie,"title",(h(),x(()=>h().next))),ie.disabled=i(V),q(k,1,`${c(),x(()=>c().icon)??""} ec-${i(O)??""}`)}),pe("click",ie,X),L(K,ie)},N=(K,ie)=>{{var k=Z=>{var fe=Ca(),Xe=le(fe,!0);te(fe),re(()=>{q(fe,1,`${c(),x(()=>c().button)??""} ec-${i(O)??""}`),fe.disabled=i(M),fr(Xe,(h(),i(O),x(()=>h()[i(O)])))}),pe("click",fe,()=>ve(P,B(U))),L(Z,fe)},z=(Z,fe)=>{{var Xe=rt=>{var _e=ka();kr(()=>pe("click",_e,function(...vt){var it;(it=D()[i(O)].click)==null||it.apply(this,vt)})),Et(_e,(vt,it)=>Se==null?void 0:Se(vt,it),()=>D()[i(O)].text),re(()=>q(_e,1,`${c(),x(()=>c().button)??""} ec-${i(O)??""}${D(),i(O),c(),x(()=>D()[i(O)].active?" "+c().active:"")??""}`)),L(rt,_e)},Ht=(rt,_e)=>{{var vt=it=>{var Dt=Ea(),dn=le(Dt,!0);te(Dt),re(()=>{q(Dt,1,`${c(),x(()=>c().button)??""}${_(),i(O),c(),x(()=>_()===i(O)?" "+c().active:"")??""} ec-${i(O)??""}`),fr(dn,(h(),i(O),x(()=>h()[i(O)])))}),pe("click",Dt,()=>ve(H,i(O))),L(it,Dt)};oe(rt,it=>{i(O)!=""&&it(vt)},_e)}};oe(Z,rt=>{D(),i(O),x(()=>D()[i(O)])?rt(Xe):rt(Ht,!1)},fe)}};oe(K,Z=>{i(O)=="today"?Z(k):Z(z,!1)},ie)}};oe(Re,K=>{i(O)=="next"?K(ue):K(N,!1)},Ce)}};oe(me,Re=>{i(O)=="prev"?Re(Me):Re(Ve,!1)},de)}};oe(Ne,me=>{i(O)=="title"?me(He):me(ft,!1)})}L(ce,Ae)}),L(e,Q),be(),r()}var Sa=J("<div><!></div>"),xa=J("<div></div>"),Ra=J("<nav></nav>");function pa(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(l,"$headerToolbar",n),s=()=>o(u,"$theme",n);let{headerToolbar:l,theme:u}=Pe("state"),d=C(()=>{var w;let c={};for(let h of["start","center","end"])c[h]=((w=a()[h])==null?void 0:w.split(" ").map(D=>D.split(",")))??[];return c});var v=Ra();Ge(v,21,()=>mt(i(d)),_t,(c,w)=>{var h=xa();Ge(h,21,()=>i(d)[i(w)],_t,(D,_)=>{var T=ye(),f=ee(T);{var g=b=>{var E=Sa(),P=le(E);wr(P,{get buttons(){return i(_)}}),te(E),re(()=>q(E,1,s().buttonGroup)),L(b,E)},R=b=>{wr(b,{get buttons(){return i(_)}})};oe(f,b=>{i(_).length>1?b(g):b(R,!1)})}L(D,T)}),te(h),re(()=>q(h,1,`ec-${i(w)??""}`)),L(c,h)}),te(v),re(()=>q(v,1,s().toolbar)),L(e,v),be(),r()}function Ia(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(f,"$_activeRange",n),s=()=>o(D,"$datesSet",n),l=()=>o(S,"$_view",n),u=()=>o(g,"$_filteredEvents",n),d=()=>o(_,"$eventAllUpdated",n),v=()=>o(y,"$_queue",n),c=()=>o(P,"$_recheckScrollable",n),w=()=>o(b,"$_bodyEl",n),h=()=>o(T,"$_auxiliary",n);let{datesSet:D,eventAllUpdated:_,_auxiliary:T,_activeRange:f,_filteredEvents:g,_scrollable:R,_bodyEl:b,_tasks:E,_recheckScrollable:P,_queue:y,_view:S}=Pe("state");tt(()=>{a(),x(()=>{se(s())&&s()({start:Ue(a().start),end:Ue(a().end),startStr:ct(a().start),endStr:ct(a().end),view:Fe(l())})})}),tt(()=>{u(),x(()=>{se(d())&&Ui(()=>d()({view:Fe(l())}),"eau",E)})}),tt(()=>{v(),x(()=>{zi(v())})}),tt(()=>{c(),x(()=>{w()&&ve(R,Oi(w())),ve(P,!1)})});var p=ye(),A=ee(p);Ge(A,1,h,_t,(H,U)=>{var F=ye(),V=ee(F);Bn(V,()=>i(U),(M,G)=>{G(M,{})}),L(H,F)}),L(e,p),be(),r()}var Pa=J("<div><!> <!></div> <!>",1);function Ma(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(P,"$_events",n),s=()=>o(b,"$_interaction",n),l=()=>o(S,"$date",n),u=()=>o(p,"$duration",n),d=()=>o(A,"$hiddenDays",n),v=()=>o(R,"$_viewComponent",n),c=()=>o(U,"$theme",n),w=()=>o(y,"$_scrollable",n),h=()=>o(E,"$_iClass",n),D=()=>o(H,"$height",n),_=()=>o(F,"$view",n);let T=Oe(t,"plugins",19,()=>[]),f=Oe(t,"options",19,()=>({})),g=new $a(T(),f());Ti("state",g);let{_viewComponent:R,_interaction:b,_iClass:E,_events:P,_scrollable:y,date:S,duration:p,hiddenDays:A,height:H,theme:U,view:F}=g,V={...f()};tt(()=>{for(let[N,K]of la(f(),V))x(()=>{M(N,K)});Lt(V,f())});function M(N,K){return g._set(N,K),this}function G(N){let K=g._get(N);return K instanceof Date?Ue(K):K}function ge(){return g._fetchedRange.set({start:void 0,end:void 0}),this}function ne(){return a().map(Be)}function I(N){for(let K of a())if(K.id==N)return Be(K);return null}function X(N){return N=on([N])[0],a().push(N),ve(P,a()),Be(N)}function Q(N){let K=String(N.id),ie=a().findIndex(k=>k.id===K);return ie>=0?(N=on([N])[0],Le(P,x(a)[ie]=N,x(a)),Be(N)):null}function Te(N){N=String(N);let K=a().findIndex(ie=>ie.id===N);return K>=0&&(a().splice(K,1),ve(P,a())),this}function ce(){return Fe(rn(g._view))}function O(){var N;return(N=s().action)==null||N.unselect(),this}function Ae(N,K){let ie=It(N,K);if(ie){let k=Vt(ie)(N,K);return k.date=Ue(k.date),k}return null}function Ne(){return ve(S,An(l(),u())),this}function He(){return ve(S,Hn(l(),u(),d())),this}let ft=C(v);var me=Pa(),de=ee(me);let Me;var Ve=le(de);pa(Ve,{});var Re=De(Ve,2);Bn(Re,()=>i(ft),(N,K)=>{K(N,{})}),te(de);var Ce=De(de,2);Ia(Ce,{}),re(N=>{q(de,1,`${c().calendar??""} ${c().view??""}${w()?" "+c().withScroll:""}${h()?" "+c()[h()]:""}`),lt(de,"role",N),Me=Yn(de,"",Me,{height:D()})},[()=>Ir(_())?"list":"table"]),L(e,me);var ue=be({setOption:M,getOption:G,refetchEvents:ge,getEvents:ne,getEventById:I,addEvent:X,updateEvent:Q,removeEventById:Te,getView:ce,unselect:O,dateFromPoint:Ae,next:Ne,prev:He});return r(),ue}var La=J("<div></div>"),Aa=J("<article><!></article>");function Ha(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(G,"$resources",n),s=()=>o(y,"$eventBackgroundColor",n),l=()=>o(S,"$eventColor",n),u=()=>o(M,"$eventTextColor",n),d=()=>o(ge,"$theme",n),v=()=>o(U,"$eventClassNames",n),c=()=>o(ne,"$_view",n),w=()=>o(P,"$displayEventEnd",n),h=()=>o(p,"$eventContent",n),D=()=>o(I,"$_intlEventTime",n),_=()=>o(H,"$eventDidMount",n),T=()=>o(A,"$eventClick",n),f=()=>o(F,"$eventMouseEnter",n),g=()=>o(V,"$eventMouseLeave",n);let R=Oe(t,"el",15),b=Oe(t,"classes",3,zn),E=Oe(t,"styles",3,zn),{displayEventEnd:P,eventBackgroundColor:y,eventColor:S,eventContent:p,eventClick:A,eventDidMount:H,eventClassNames:U,eventMouseEnter:F,eventMouseLeave:V,eventTextColor:M,resources:G,theme:ge,_view:ne,_intlEventTime:I}=Pe("state"),X=C(()=>t.chunk.event),Q=C(()=>t.chunk.event.display),Te=C(()=>i(X).backgroundColor??ta(i(X),a())??s()??l()),ce=C(()=>i(X).textColor??na(i(X),a())??u()),O=C(()=>Pi(E()({"background-color":i(Te),color:i(ce)})).map(k=>`${k[0]}:${k[1]}`).concat(i(X).styles).join(";")),Ae=C(()=>b()([ut(i(Q))?d().bgEvent:d().event,...qi(v(),i(X),c())]).join(" ")),Ne=C(()=>Yi(t.chunk,w(),h(),d(),D(),c())),He=C(()=>Wn(i(Ne),2)),ft=C(()=>i(He)[0]),me=C(()=>i(He)[1]);cn(()=>{se(_())&&_()({event:Be(i(X)),timeText:i(ft),el:R(),view:Fe(c())})});function de(k,z){return!Xt(z)&&se(k)?Z=>k({event:Be(i(X)),el:R(),jsEvent:Z,view:Fe(c())}):void 0}let Me=C(()=>!ut(i(Q))&&de(T(),i(Q))||void 0),Ve=C(()=>i(Me)&&Ri(i(Me))),Re=C(()=>de(f(),i(Q))),Ce=C(()=>de(g(),i(Q)));var ue=Aa();ue.__click=function(...k){var z;(z=i(Me))==null||z.apply(this,k)},ue.__keydown=function(...k){var z;(z=i(Ve))==null||z.apply(this,k)},ue.__pointerdown=function(...k){var z;(z=t.onpointerdown)==null||z.apply(this,k)};{const k=z=>{var Z=La();Et(Z,(fe,Xe)=>Se==null?void 0:Se(fe,Xe),()=>i(me)),re(()=>q(Z,1,vr(d().eventBody))),L(z,Z)};var N=le(ue);{var K=z=>{var Z=ye(),fe=ee(Z);Pt(fe,()=>t.body,()=>k,()=>i(Te),()=>i(ce)),L(z,Z)},ie=z=>{k(z)};oe(N,z=>{t.body?z(K):z(ie,!1)})}te(ue),bt(ue,z=>R(z),()=>R())}re(()=>{q(ue,1,vr(i(Ae))),Yn(ue,i(O)),lt(ue,"role",i(Me)?"button":void 0),lt(ue,"tabindex",i(Me)?0:void 0)}),pe("mouseenter",ue,function(...k){var z;(z=i(Re))==null||z.apply(this,k)}),pe("mouseleave",ue,function(...k){var z;(z=i(Ce))==null||z.apply(this,k)}),L(e,ue),be(),r()}nt(["click","keydown","pointerdown"]);function Fr(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(d,"$_iClasses",n),s=()=>o(u,"$_interaction",n);let l=Oe(t,"el",15),{_interaction:u,_iClasses:d}=Pe("state"),v=C(()=>t.chunk.event),c=C(()=>t.chunk.event.display),w=C(()=>T=>a()(T,i(v)));function h(T){var f,g;return(f=s().action)!=null&&f.draggable(T)?R=>{var b,E;return s().action.drag(T,R,(b=t.forceDate)==null?void 0:b.call(t),(E=t.forceMargin)==null?void 0:E.call(t))}:(g=s().action)==null?void 0:g.noAction}let D=C(()=>!ut(i(c))&&!Xt(i(c))?h(i(v)):void 0),_=C(()=>s().resizer);Ha(e,{get chunk(){return t.chunk},get classes(){return i(w)},get styles(){return t.styles},get onpointerdown(){return i(D)},get el(){return l()},set el(f){l(f)},body:(f,g=Ci)=>{var R=ye(),b=ee(R);{var E=y=>{var S=ye(),p=ee(S);Bn(p,()=>i(_),(A,H)=>{H(A,{get chunk(){return t.chunk},get axis(){return t.axis},get forceDate(){return t.forceDate},get forceMargin(){return t.forceMargin},children:(U,F)=>{var V=ye(),M=ee(V);Pt(M,g),L(U,V)},$$slots:{default:!0}})}),L(y,S)},P=y=>{var S=ye(),p=ee(S);Pt(p,g),L(y,S)};oe(b,y=>{i(_)?y(E):y(P,!1)})}L(f,R)},$$slots:{body:!0}}),be(),r()}nt(["pointerdown","click","keydown"]);nt(["pointerdown","click","keydown"]);function Or(e,t,n){return e.startEditable??t??e.editable??n}function za(e,t,n){return e.durationEditable??t??e.editable??n}let pn=!1;function Ua(e){pn||(pn=!0,window.requestAnimationFrame(()=>{e(),pn=!1}))}function Dr(e,t,n){return gt(t,$t(n,e))}function Fa(e,t){$e(t,!1);const[n,r]=xe(),a=()=>o(ue,"$eventStartEditable",n),s=()=>o(Ce,"$editable",n),l=()=>o(Wr,"$slotDuration",n),u=()=>o(_e,"$selectable",n),d=()=>o(Kr,"$view",n),v=()=>o(me,"$_bodyEl",n),c=()=>o(de,"$datesAboveResources",n),w=()=>o(dn,"$selectLongPressDelay",n),h=()=>o(z,"$eventLongPressDelay",n),D=()=>o(Ht,"$longPressDelay",n),_=()=>o(Nr,"$selectMinDistance",n),T=()=>o(N,"$eventDragMinDistance",n),f=()=>o(O,"$_iEvents",n),g=()=>o(Z,"$eventResizeStart",n),R=()=>o(K,"$eventDragStart",n),b=()=>o(rt,"$resizeConstraint",n),E=()=>o(Dt,"$selectConstraint",n),P=()=>o(Ve,"$dragConstraint",n),y=()=>o(Re,"$dragScroll",n),S=()=>o(Br,"$slotHeight",n),p=()=>o(Gr,"$slotWidth",n),A=()=>o(qr,"$unselectAuto",n),H=()=>o(Vr,"$unselectCancel",n),U=()=>o(vt,"$selectFn",n),F=()=>o(fe,"$eventResizeStop",n),V=()=>o(ie,"$eventDragStop",n),M=()=>o(He,"$_view",n),G=()=>o(Xe,"$eventResize",n),ge=()=>o(k,"$eventDrop",n),ne=()=>o(Me,"$dateClick",n),I=()=>o(Xr,"$validRange",n),X=()=>o(ft,"$_dayGrid",n),Q=()=>o(Ne,"$_events",n),Te=()=>o(it,"$selectBackgroundColor",n),ce=()=>o(Yr,"$unselectFn",n);let{_iEvents:O,_iClass:Ae,_events:Ne,_view:He,_dayGrid:ft,_bodyEl:me,datesAboveResources:de,dateClick:Me,dragConstraint:Ve,dragScroll:Re,editable:Ce,eventStartEditable:ue,eventDragMinDistance:N,eventDragStart:K,eventDragStop:ie,eventDrop:k,eventLongPressDelay:z,eventResizeStart:Z,eventResizeStop:fe,eventResize:Xe,longPressDelay:Ht,resizeConstraint:rt,selectable:_e,select:vt,selectBackgroundColor:it,selectConstraint:Dt,selectLongPressDelay:dn,selectMinDistance:Nr,slotDuration:Wr,slotHeight:Br,slotWidth:Gr,unselect:Yr,unselectAuto:qr,unselectCancel:Vr,validRange:Xr,view:Kr}=Pe("state");const Zn=1,Jn=2,Qn=3,jn=4,un=5,Kt=6;let ke,St,W,fn,je,vn,Ke,xt,hn,gn,ze,we,at,Ze,zt,Zt,ot,ht,Jt,he,Qt,jt,mn,Ut=Yt(),Ft,Ot,Rt;function er(m){return Or(m,a(),s())}function tr(m,$,j,Y){ke||(ke=bn($)?Zn:Kt,Ct()&&(W=m,_n($),j&&(je=j),Y&&(Ot=Y),Jt="dragging",pt($)))}function nr(m,$,j,Y,et,Gt,Dn){ke||(ke=bn($)?j?Qn:Jn:Kt,Ct()&&(W=m,_n($),et&&(je=et),Gt&&(Ot=Gt),Jt=Y==="x"?"resizingX":"resizingY",en()?(he=B(W.end),ht?(Ln(he,W.start),he>=W.end&&Mt(he)):(nn(he,l()),he<W.start&&(he=W.start),je=W.start)):(he=B(W.start),ht?(Ln(he,W.end),he<=W.start&&!Dn&&wt(he)):(ae(he,l()),he>W.end&&(he=W.end),je=W.end,Dn||(je=nn(B(je),l()))),Dn&&!ht&&(Rt=l())),pt($)))}function rr(m){ke||(ke=bn(m)?u()&&!Ir(d())?jn:un:Kt,Ct()&&(_n(m),Jt="selecting",Qt=ht?Ie({day:1}):l(),W={allDay:ht,start:je,end:ae(B(je),Qt),resourceIds:Ke?[Ke.id]:[]},pt(m)))}function ir(){ke||(ke=Kt)}function _n(m){window.getSelection().removeAllRanges(),hn=ze=m.clientX,gn=we=m.clientY;let $=It(ze,we);({allDay:ht,date:je,resource:Ke}=Vt($)(ze,we)),kn(d())?at=zt=v():(at=Un($,Ke?4:3),zt=Un($,Ke&&(ti()||c())?2:1)),or(),m.pointerType!=="mouse"&&Ee(Ut,setTimeout(()=>{ke&&(St=!0,pt(m))},(Tt()?w():h())??D()))}function pt(m){if(St||m&&m.pointerType==="mouse"&&ei()>=(Tt()?_():T())){St=!0,Bt(m),ve(Ae,Jt),f()[0]||(Tt()?jr():Qr(m,Wt()?g():R()));let $=$n(Jr());if($){let j;if({allDay:j,date:vn,resource:xt}=$,j===ht){let Y=Nt({},f()[0]),et=b();ot=Ie((vn-je)/1e3),en()?(Y.start=ae(B(W.start),ot),Y.start>he&&(Y.start=he,ot=Ie((he-W.start)/1e3))):(Y.end=ae(B(W.end),ot),Rt&&ae(Y.end,Rt),Wt()?Y.end<he&&(Y.end=he,ot=Ie((he-W.end)/1e3)):Tt()?(Y.end<W.end?(Y.start=nn(Y.end,Qt),Y.end=W.end):Y.start=W.start,et=E()):(Y.start=ae(B(W.start),ot),Ke&&(Y.resourceIds=W.resourceIds.filter(Gt=>Gt!==Ke.id),Y.resourceIds.push(xt.id)),et=P()));do{if(et!==void 0&&(Y=Nt(Sn(W),Y),et(Tt()?cr(Y,m):dr(Y,W,m))===!1)){Le(O,x(f)[0]=Nt(f()[0],W),x(f));break}Le(O,x(f)[0]=Nt(f()[0],Y),x(f))}while(!1)}}}if(y()){let $=S()*2,j=p();Ua(()=>{at&&(we<$&&window.scrollBy(0,gt(-10,(we-$)/3)),we<Ze.top+$&&(at.scrollTop+=gt(-10,(we-Ze.top-$)/3)),we>window.innerHeight-$&&window.scrollBy(0,$t(10,(we-window.innerHeight+$)/3)),we>Ze.bottom-$&&(at.scrollTop+=$t(10,(we-Ze.bottom+$)/3)),kn(d())&&(ze<Ze.left+j&&(at.scrollLeft+=gt(-10,(ze-Ze.left-j)/3)),ze>Ze.right-j&&(at.scrollLeft+=$t(10,(ze-Ze.right+j)/3))))})}}function yn(){Ct()&&(or(),pt())}function Zr(m){Ct()&&m.isPrimary&&(ze=m.clientX,we=m.clientY,pt(m))}function ar(m){if(jt&&A()&&!(H()&&m.target.closest(H()))&&Bt(m),ke&&m.isPrimary){if(St)if(Tt()){if(jt=!0,se(U())){let $=cr(f()[0],m);U()($)}}else{W.display=fn;let $=Wt()?F():V();se($)&&$({event:Be(W),jsEvent:m,view:Fe(M())});let j=Sn(W);if(lr(W,f()[0]),sr(),$=Wt()?G():ge(),se($)){let Y=W,et=dr(W,j,m);$(Lt(et,{revert(){lr(Y,j)}}))}}else if((ni()||Tt())&&se(ne())&&!mn){ze=m.clientX,we=m.clientY;let $=It(ze,we);if($){let{allDay:j,date:Y,resource:et}=Vt($)(ze,we);ne()({allDay:j,date:Ue(Y),dateStr:ct(Y),dayEl:$,jsEvent:m,view:Fe(M()),resource:et})}}St=!1,ke=hn=gn=ze=we=W=fn=je=vn=Ke=xt=ot=Rt=ht=ve(Ae,he=Qt=Ot=void 0),at=zt=Ze=Zt=void 0,i(Ut)&&(clearTimeout(i(Ut)),Ee(Ut,void 0))}mn=!1}function Jr(){return It(Dr(ze,Ft[0],Ft[1]),Dr(we,Ft[2],Ft[3]))}function $n(m){if(m){let $=Vt(m)(ze,we);if($.disabled){if(!I().end||$.date<I().end)return $n(m.nextElementSibling);if(!I().start||$.date>I().start)return $n(m.previousElementSibling)}else return $}return null}function or(){Ze=At(at),Zt=At(zt),Ft=[gt(0,Zt.left+(kn(d())?1:X()?0:8)),$t(document.documentElement.clientWidth,Zt.left+zt.clientWidth)-2,gt(0,Ze.top),$t(document.documentElement.clientHeight,Ze.top+at.clientHeight)-2]}function Qr(m,$){se($)&&$({event:Be(W),jsEvent:m,view:Fe(M())}),fn=W.display,W.display="preview",Le(O,x(f)[0]=Sn(W),x(f)),Ot!==void 0&&Le(O,x(f)[0]._margin=Ot,x(f)),Rt&&ae(f()[0].end,Rt),W.display="ghost",ve(Ne,Q())}function jr(){Le(O,x(f)[0]={id:"{select}",allDay:W.allDay,start:W.start,title:"",display:"preview",extendedProps:{},backgroundColor:Te(),resourceIds:W.resourceIds,classNames:[],styles:[]},x(f))}function sr(){Le(O,x(f)[0]=null,x(f))}function Nt(m,$){return m.start=$.start,m.end=$.end,m.resourceIds=$.resourceIds,m}function lr(m,$){Nt(m,$),ve(Ne,Q())}function cr(m,$){let{start:j,end:Y}=Be(m);return{start:j,end:Y,startStr:ct(m.start),endStr:ct(m.end),allDay:ht,view:Fe(M()),resource:Ke,jsEvent:$}}function dr(m,$,j){let Y;return Wt()?Y=en()?{startDelta:ot,endDelta:Ie(0)}:{startDelta:Ie(0),endDelta:ot}:Y={delta:ot,oldResource:Ke!==xt?Ke:void 0,newResource:Ke!==xt?xt:void 0},Lt(Y,{event:Be(m),oldEvent:Be($),view:Fe(M()),jsEvent:j}),Y}function ei(){return Math.sqrt(Math.pow(ze-hn,2)+Math.pow(we-gn,2))}function ti(){return ke===Zn}function Wt(){return ke===Jn||en()}function en(){return ke===Qn}function ni(){return ke===un}function Tt(){return ke===jn}function Ct(){return ke&&ke<un}function bn(m){return m.isPrimary&&(m.pointerType!=="mouse"||m.buttons&1)}function Bt(m){jt&&(jt=!1,sr(),se(ce())&&ce()({jsEvent:m,view:Fe(M())}))}function ur(){mn=!0}He.subscribe(Bt);function ri(m){if(Ct()){let $=m.target,j=[],Y=()=>xr(j);j.push(qt(window,"touchmove",Hi,{passive:!1})),j.push(qt($,"touchmove",wn(()=>St))),j.push(qt($,"touchend",Y)),j.push(qt($,"touchcancel",Y))}}function wn(m){return $=>{m()&&$.preventDefault()}}Gn(),pe("pointermove",st,Zr),pe("pointerup",st,ar),pe("pointercancel",st,ar),pe("scroll",st,yn);var ii=C(()=>wn(Ct));pe("selectstart",st,function(...m){var $;($=i(ii))==null||$.apply(this,m)});var ai=C(()=>wn(()=>i(Ut)));pe("contextmenu",st,function(...m){var $;($=i(ai))==null||$.apply(this,m)}),pe("touchstart",st,ri,void 0,!0),yt(t,"draggable",er),yt(t,"drag",tr),yt(t,"resize",nr),yt(t,"select",rr),yt(t,"noAction",ir),yt(t,"handleScroll",yn),yt(t,"unselect",Bt),yt(t,"noClick",ur);var oi=be({draggable:er,drag:tr,resize:nr,select:rr,noAction:ir,handleScroll:yn,unselect:Bt,noClick:ur});return r(),oi}function Oa(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(l,"$_iEvents",n),s=()=>o(u,"$slotDuration",n);let{_iEvents:l,slotDuration:u}=Pe("state"),d=0,v=0;tt(()=>{a()[0]&&_()});function c(){let g=It(d,v);if(g){let{allDay:R,date:b,resource:E,disabled:P}=Vt(g)(d,v);if(!P){let y=R?2:1;a()[y]||D(y),Le(l,x(a)[y].start=b,x(a)),Le(l,x(a)[y].end=ae(B(b),s()),x(a)),Le(l,x(a)[y].resourceIds=E?[E.id]:[],x(a));return}}_()}function w(){c()}function h(g){T(g)&&(d=g.clientX,v=g.clientY,c())}function D(g){Le(l,x(a)[g]={id:"{pointer}",title:"",display:"pointer",extendedProps:{},backgroundColor:"transparent",classNames:[],styles:[]},x(a))}function _(){a()[1]&&Le(l,x(a)[1]=null,x(a)),a()[2]&&Le(l,x(a)[2]=null,x(a))}function T(g){return g.isPrimary&&g.pointerType==="mouse"}pe("pointermove",st,h),pe("scroll",st,w);var f=be({handleScroll:w});return r(),f}var Na=J("<div></div>"),Wa=J("<div></div>"),Ba=J("<!> <!> <!>",1);function Ga(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(h,"$eventDurationEditable",n),s=()=>o(_,"$editable",n),l=()=>o(T,"$_interaction",n),u=()=>o(D,"$eventResizableFromStart",n),d=()=>o(w,"$theme",n);let v=Oe(t,"forceDate",3,void 0),c=Oe(t,"forceMargin",3,void 0),{theme:w,eventDurationEditable:h,eventResizableFromStart:D,editable:_,_interaction:T}=Pe("state"),f=C(()=>t.chunk.event),g=C(()=>t.chunk.event.display),R=C(()=>!ut(i(g))&&!Xt(i(g))&&za(i(f),a(),s()));function b(H){return U=>{var F,V;return l().action.resize(i(f),U,H,t.axis,(F=v())==null?void 0:F(),(V=c())==null?void 0:V(),t.chunk.zeroDuration)}}var E=Ba(),P=ee(E);{var y=H=>{var U=Na(),F=C(()=>b(!0));U.__pointerdown=function(...V){var M;(M=i(F))==null||M.apply(this,V)},re(()=>q(U,1,`${d().resizer??""} ${d().start??""}`)),L(H,U)};oe(P,H=>{i(R)&&u()&&H(y)})}var S=De(P,2);Pt(S,()=>t.children);var p=De(S,2);{var A=H=>{var U=Wa(),F=C(()=>b(!1));U.__pointerdown=function(...V){var M;(M=i(F))==null||M.apply(this,V)},re(()=>q(U,1,d().resizer)),L(H,U)};oe(p,H=>{i(R)&&H(A)})}L(e,E),be(),r()}nt(["pointerdown"]);var Ya=J("<!> <!>",1);function qa(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(T,"$_interaction",n),s=()=>o(c,"$theme",n),l=()=>o(h,"$eventStartEditable",n),u=()=>o(w,"$editable",n),d=()=>o(_,"$_bodyEl",n),v=()=>o(D,"$pointer",n);let{theme:c,editable:w,eventStartEditable:h,pointer:D,_bodyEl:_,_interaction:T,_iClasses:f}=Pe("state");Le(T,x(a).resizer=Ga,x(a)),tt(()=>{s(),l(),u(),ve(f,(y,S)=>{let{display:p}=S;return[...y,Xt(p)?[s()[p]]:!ut(p)&&Or(S,l(),u())?[s().draggable]:[]]})}),tt(()=>{if(d())return qt(d(),"scroll",g)});function g(){var y;for(let S of Object.values(a()))(y=S==null?void 0:S.handleScroll)==null||y.call(S)}var R=Ya(),b=ee(R);bt(Fa(b,{}),y=>Le(T,x(a).action=y,x(a)),()=>{var y;return(y=a())==null?void 0:y.action});var E=De(b,2);{var P=y=>{bt(Oa(y,{}),S=>Le(T,x(a).pointer=S,x(a)),()=>{var S;return(S=a())==null?void 0:S.pointer})};oe(E,y=>{v()&&y(P)})}L(e,R),be(),r()}const Va={createOptions(e){e.dateClick=void 0,e.dragConstraint=void 0,e.dragScroll=!0,e.editable=!1,e.eventDragMinDistance=5,e.eventDragStart=void 0,e.eventDragStop=void 0,e.eventDrop=void 0,e.eventDurationEditable=!0,e.eventLongPressDelay=void 0,e.eventResizableFromStart=!1,e.eventResizeStart=void 0,e.eventResizeStop=void 0,e.eventResize=void 0,e.eventStartEditable=!0,e.longPressDelay=1e3,e.pointer=!1,e.resizeConstraint=void 0,e.select=void 0,e.selectBackgroundColor=void 0,e.selectConstraint=void 0,e.selectLongPressDelay=void 0,e.selectMinDistance=5,e.unselect=void 0,e.unselectAuto=!0,e.unselectCancel="",e.theme.draggable="ec-draggable",e.theme.ghost="ec-ghost",e.theme.preview="ec-preview",e.theme.pointer="ec-pointer",e.theme.resizer="ec-resizer",e.theme.start="ec-start",e.theme.dragging="ec-dragging",e.theme.resizingY="ec-resizing-y",e.theme.resizingX="ec-resizing-x",e.theme.selecting="ec-selecting"},createStores(e){e._auxiliary.update(t=>[...t,qa])}};nt(["pointerdown"]);nt(["click"]);function Xa(e){return qe([e.slotDuration,e.slotLabelInterval,e._slotTimeLimits,e._intlSlotLabel],t=>ia(Ye(dt()),...t))}function Ka(e){return qe([e.slotMinTime,e.slotMaxTime,e.flexibleSlotTimeLimits,e._viewDates,e._filteredEvents],t=>aa(...t))}function Za(e){if(!e.length)return;Pr(e);let t={columns:[],end:e[0].end};for(let n of e){let r=0;if(n.start<t.end){for(;r<t.columns.length&&!(t.columns[r].at(-1).end<=n.start);++r);n.end>t.end&&(t.end=n.end)}else t={columns:[],end:n.end};t.columns.length<r+1&&t.columns.push([]),t.columns[r].push(n),n.group=t,n.column=r}}function Ja(e){let t="all-day",n;return e?(n=se(e)?e({text:t}):e,typeof n=="string"&&(n={html:n})):n={html:t},n}var Qa=J("<time></time>"),ja=J('<div><div></div> <!></div> <div role="row"><div><!></div> <!></div>',1);function Nn(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(d,"$allDayContent",n),s=()=>o(v,"$slotLabelInterval",n),l=()=>o(c,"$theme",n),u=()=>o(w,"$_times",n);let{allDayContent:d,slotLabelInterval:v,theme:c,_times:w}=Pe("state"),h=C(()=>Ja(a())),D=C(()=>s()&&s().seconds<=0);var _=ja(),T=ee(_),f=le(T);Et(f,(p,A)=>Se==null?void 0:Se(p,A),()=>i(h));var g=De(f,2);Ge(g,1,u,_t,(p,A,H)=>{var U=Qa();Et(U,(F,V)=>Se==null?void 0:Se(F,V),()=>i(A)[1]),re(()=>{q(U,1,`${l().time??""}${(H||i(D))&&i(A)[2]?"":" "+l().minor}`),lt(U,"datetime",i(A)[0])}),L(p,U)}),te(T);var R=De(T,2),b=le(R),E=le(b);{var P=p=>{var A=ye(),H=ee(A);Pt(H,()=>t.lines),L(p,A)};oe(E,p=>{t.lines&&p(P)})}te(b);var y=De(b,2);{var S=p=>{var A=ye(),H=ee(A);Pt(H,()=>t.children),L(p,A)};oe(y,p=>{t.children&&p(S)})}te(R),re(()=>{q(T,1,l().sidebar),q(f,1,l().sidebarTitle),q(R,1,l().days),q(b,1,l().lines)}),L(e,_),be(),r()}var eo=J("<div></div>"),to=J("<div><div><!></div></div>");function no(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(h,"$_viewDates",n),s=()=>o(f,"$scrollTime",n),l=()=>o(D,"$_slotTimeLimits",n),u=()=>o(g,"$slotDuration",n),d=()=>o(R,"$slotHeight",n),v=()=>o(b,"$theme",n),c=()=>o(_,"$_times",n);let{_bodyEl:w,_viewDates:h,_slotTimeLimits:D,_times:_,_recheckScrollable:T,scrollTime:f,slotDuration:g,slotHeight:R,theme:b}=Pe("state"),E=kt(void 0);tt(()=>{ve(w,i(E))}),tt(()=>{a(),s(),x(P)});function P(){i(E).scrollTop=((s().seconds-l().min.seconds)/u().seconds-.5)*d()}var y=to(),S=le(y),p=le(S);Nn(p,{get children(){return t.children},lines:H=>{var U=ye(),F=ee(U);Ge(F,1,c,_t,(V,M)=>{var G=eo();re(()=>q(G,1,`${v().line??""}${i(M)[2]?"":" "+v().minor}`)),L(V,G)}),L(H,U)},$$slots:{lines:!0}}),te(S),te(y),bt(y,A=>Ee(E,A),()=>i(E)),Et(y,(A,H)=>Cn==null?void 0:Cn(A,H),()=>()=>ve(T,!0)),re(()=>{q(y,1,v().body),q(S,1,v().content)}),L(e,y),be(),r()}function tn(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(v,"$slotDuration",n),s=()=>o(w,"$_slotTimeLimits",n),l=()=>o(c,"$slotHeight",n),u=()=>o(d,"$slotEventOverlap",n);let{slotEventOverlap:d,slotDuration:v,slotHeight:c,_slotTimeLimits:w}=Pe("state"),h=C(()=>t.chunk.event.display),D=C(()=>_=>{let T=a().seconds,f=s().min.seconds,g=(t.chunk.start-t.date)/1e3,R=(t.chunk.end-t.date)/1e3,b=(g-f)/T*l(),E=(R-g)/T*l()||l(),P=(s().max.seconds-g)/T*l();return _.top=`${b}px`,_["min-height"]=`${E}px`,_.height=`${E}px`,_["max-height"]=`${P}px`,(!ut(i(h))&&!Xt(i(h))||Ar(i(h)))&&(_["z-index"]=`${t.chunk.column+1}`,_.left=`${100/t.chunk.group.columns.length*t.chunk.column}%`,_.width=`${100/t.chunk.group.columns.length*(u()?.5*(1+t.chunk.group.columns.length-t.chunk.column):1)}%`),_});Fr(e,{get chunk(){return t.chunk},get styles(){return i(D)},axis:"y"}),be(),r()}var ro=J("<div></div>");function io(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(D,"$_now",n),s=()=>o(_,"$_today",n),l=()=>o(c,"$slotDuration",n),u=()=>o(T,"$_slotTimeLimits",n),d=()=>o(w,"$slotHeight",n),v=()=>o(h,"$theme",n);let{slotDuration:c,slotHeight:w,theme:h,_now:D,_today:_,_slotTimeLimits:T}=Pe("state"),f=C(()=>(a()-s())/1e3),g=C(()=>{let b=l().seconds,E=u().min.seconds;return(i(f)-E)/b*d()});var R=ro();re(()=>{q(R,1,v().nowIndicator),Yn(R,`top:${i(g)??""}px`)}),L(e,R),be(),r()}var ao=J("<!> <!> <!>",1),oo=J('<div role="cell"><div><!></div> <div><!></div> <div><!></div></div>');function so(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(V,"$_today",n),s=()=>o(E,"$highlightedDates",n),l=()=>o(U,"$validRange",n),u=()=>o(M,"$_slotTimeLimits",n),d=()=>o(p,"$filterEventsWithResources",n),v=()=>o(H,"$resources",n),c=()=>o(R,"$_filteredEvents",n),w=()=>o(b,"$_iEvents",n),h=()=>o(y,"$slotDuration",n),D=()=>o(S,"$slotHeight",n),_=()=>o(A,"$theme",n),T=()=>o(F,"$_interaction",n),f=()=>o(P,"$nowIndicator",n);let g=Oe(t,"resource",3,void 0),{_filteredEvents:R,_iEvents:b,highlightedDates:E,nowIndicator:P,slotDuration:y,slotHeight:S,filterEventsWithResources:p,theme:A,resources:H,validRange:U,_interaction:F,_today:V,_slotTimeLimits:M}=Pe("state"),G=kt(void 0),ge=C(()=>Qe(t.date,a())),ne=C(()=>s().some(k=>Qe(k,t.date))),I=C(()=>Kn(t.date,l())),X=C(()=>ae(B(t.date),u().min)),Q=C(()=>ae(B(t.date),u().max)),Te=C(()=>g()??(d()?v():void 0)),ce=C(()=>{if(i(I))return[[],[]];let k=[],z=[];for(let Z of c())if((!Z.allDay||ut(Z.display))&&ln(Z,i(X),i(Q),i(Te))){let fe=sn(Z,i(X),i(Q));switch(Z.display){case"background":z.push(fe);break;default:k.push(fe)}}return Za(k),[k,z]}),O=C(()=>Wn(i(ce),2)),Ae=C(()=>i(O)[0]),Ne=C(()=>i(O)[1]),He=C(()=>i(I)?[]:w().map(k=>k&&ln(k,i(X),i(Q),g())?sn(k,i(X),i(Q)):null));function ft(k,z){return z-=At(i(G)).top,{allDay:!1,date:ae(ae(B(t.date),u().min),h(),Mi(z/D())),resource:g(),dayEl:i(G),disabled:i(I)}}cn(()=>{Xn(i(G),ft)});var me=oo();me.__pointerdown=function(...k){var z,Z;(Z=i(I)||(z=T().action)==null?void 0:z.select)==null||Z.apply(this,k)};var de=le(me),Me=le(de);{var Ve=k=>{var z=ye(),Z=ee(z);Ge(Z,17,()=>i(Ne),fe=>fe.event,(fe,Xe)=>{tn(fe,{get date(){return t.date},get chunk(){return i(Xe)}})}),L(k,z)};oe(Me,k=>{i(I)||k(Ve)})}te(de);var Re=De(de,2),Ce=le(Re);{var ue=k=>{var z=ao(),Z=ee(z);{var fe=_e=>{tn(_e,{get date(){return t.date},get chunk(){return i(He)[1]}})};oe(Z,_e=>{i(He)[1]&&_e(fe)})}var Xe=De(Z,2);Ge(Xe,17,()=>i(Ae),_e=>_e.event,(_e,vt)=>{tn(_e,{get date(){return t.date},get chunk(){return i(vt)}})});var Ht=De(Xe,2);{var rt=_e=>{tn(_e,{get date(){return t.date},get chunk(){return i(He)[0]}})};oe(Ht,_e=>{i(He)[0]&&!i(He)[0].event.allDay&&_e(rt)})}L(k,z)};oe(Ce,k=>{i(I)||k(ue)})}te(Re);var N=De(Re,2),K=le(N);{var ie=k=>{io(k,{})};oe(K,k=>{f()&&i(ge)&&!i(I)&&k(ie)})}te(N),te(me),bt(me,k=>Ee(G,k),()=>i(G)),re(k=>{q(me,1,`${_().day??""} ${k??""}${i(ge)?" "+_().today:""}${i(ne)?" "+_().highlight:""}${i(I)?" "+_().disabled:""}`),q(de,1,_().bgEvents),q(Re,1,_().events),q(N,1,_().extra)},[()=>{var k;return(k=_().weekdays)==null?void 0:k[t.date.getUTCDay()]}]),L(e,me),be(),r()}nt(["pointerdown"]);function In(e,t){$e(t,!0);let n=Oe(t,"longChunks",19,()=>({})),r=kt(void 0),a=kt(1),s=C(()=>t.chunk.event),l=C(()=>t.chunk.event.display),u=C(()=>v=>(ut(i(l))?v.width=`calc(${t.chunk.days*100}% + ${t.chunk.days-1}px)`:(v.width=`calc(${t.chunk.days*100}% + ${(t.chunk.days-1)*7}px)`,v["margin-top"]=`${i(s)._margin??i(a)}px`),v));function d(){i(r)&&Ee(a,Vi(t.chunk,n(),Ni(i(r))),!0)}return Fr(e,{get chunk(){return t.chunk},get styles(){return i(u)},axis:"x",forceMargin:()=>At(i(r)).top-At(Un(i(r),1)).top,get el(){return i(r)},set el(v){Ee(r,v,!0)}}),be({reposition:d})}var lo=J("<div><!></div>"),co=J('<div role="cell"><div><!></div> <!> <div><!></div></div>');function uo(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(T,"$_today",n),s=()=>o(w,"$highlightedDates",n),l=()=>o(D,"$validRange",n),u=()=>o(h,"$theme",n),d=()=>o(_,"$_interaction",n);let v=Oe(t,"iChunks",19,()=>[]),c=Oe(t,"resource",3,void 0),{highlightedDates:w,theme:h,validRange:D,_interaction:_,_today:T}=Pe("state"),f=kt(void 0),g=[],R=C(()=>t.chunks.filter(I=>Qe(I.date,t.date))),b=C(()=>t.bgChunks.filter(I=>Qe(I.date,t.date))),E=C(()=>Qe(t.date,a())),P=C(()=>s().some(I=>Qe(I,t.date))),y=C(()=>Kn(t.date,l()));cn(()=>{Xn(i(f),()=>({allDay:!0,date:t.date,resource:c(),dayEl:i(f),disabled:i(y)}))});function S(){i(y)||Lr(g,i(R))}var p=co();p.__pointerdown=function(...I){var X,Q;(Q=i(y)||(X=d().action)==null?void 0:X.select)==null||Q.apply(this,I)};var A=le(p),H=le(A);{var U=I=>{var X=ye(),Q=ee(X);Ge(Q,17,()=>i(b),Te=>Te.event,(Te,ce)=>{In(Te,{get chunk(){return i(ce)}})}),L(I,X)};oe(H,I=>{i(y)||I(U)})}te(A);var F=De(A,2);{var V=I=>{var X=lo(),Q=le(X);In(Q,{get chunk(){return v()[0]}}),te(X),re(()=>q(X,1,`${u().events??""} ${u().preview??""}`)),L(I,X)};oe(F,I=>{v()[0]&&Qe(v()[0].date,t.date)&&!i(y)&&I(V)})}var M=De(F,2),G=le(M);{var ge=I=>{var X=ye(),Q=ee(X);Ge(Q,19,()=>i(R),Te=>Te.event,(Te,ce,O)=>{bt(In(Te,{get chunk(){return i(ce)},get longChunks(){return t.longChunks}}),(Ae,Ne)=>g[Ne]=Ae,Ae=>g==null?void 0:g[Ae],()=>[i(O)])}),L(I,X)};oe(G,I=>{i(y)||I(ge)})}te(M),te(p),bt(p,I=>Ee(f,I),()=>i(f)),re(I=>{q(p,1,`${u().day??""} ${I??""}${i(E)?" "+u().today:""}${i(P)?" "+u().highlight:""}${i(y)?" "+u().disabled:""}`),q(A,1,u().bgEvents),q(M,1,u().events)},[()=>{var I;return(I=u().weekdays)==null?void 0:I[t.date.getUTCDay()]}]),L(e,p);var ne=be({reposition:S});return r(),ne}nt(["pointerdown"]);function fo(e,t){$e(t,!0);const[n,r]=xe(),a=()=>o(f,"$validRange",n),s=()=>o(T,"$filterEventsWithResources",n),l=()=>o(_,"$resources",n),u=()=>o(w,"$_filteredEvents",n),d=()=>o(D,"$hiddenDays",n),v=()=>o(h,"$_iEvents",n);let c=Oe(t,"resource",3,void 0),{_filteredEvents:w,_iEvents:h,hiddenDays:D,resources:_,filterEventsWithResources:T,validRange:f}=Pe("state"),g=[],R=C(()=>yr(t.dates[0],a())),b=C(()=>wt(B(yr(t.dates.at(-1),a())))),E=C(()=>c()??(s()?l():void 0)),P=C(()=>{let M=[],G=[];for(let ne of u())if(ne.allDay&&ln(ne,i(R),i(b),i(E))){let I=sn(ne,i(R),i(b));ut(ne.display)?G.push(I):M.push(I)}xn(G,d());let ge=xn(M,d());return[M,G,ge]}),y=C(()=>Wn(i(P),3)),S=C(()=>i(y)[0]),p=C(()=>i(y)[1]),A=C(()=>i(y)[2]);function H(){Lr(g,t.dates)}tt(()=>{i(S),x(H)});let U=C(()=>v().map(M=>{let G;return M&&M.allDay&&ln(M,i(R),i(b),c())?(G=sn(M,i(R),i(b)),xn([G],d())):G=null,G}));var F=ye();pe("resize",st,H);var V=ee(F);Ge(V,17,()=>t.dates,_t,(M,G,ge)=>{bt(uo(M,{get date(){return i(G)},get chunks(){return i(S)},get bgChunks(){return i(p)},get longChunks(){return i(A)},get iChunks(){return i(U)},get resource(){return c()}}),(ne,I)=>g[I]=ne,ne=>g==null?void 0:g[ne],()=>[ge])}),L(e,F),be(),r()}var vo=J('<div role="columnheader"><time></time></div>'),ho=J("<div><div><!> <div></div></div></div>"),go=J("<div><!> <div></div></div> <!> <!>",1);function Tr(e,t){$e(t,!1);const[n,r]=xe(),a=()=>o(T,"$theme",n),s=()=>o(c,"$_viewDates",n),l=()=>o(D,"$_today",n),u=()=>o(h,"$_intlDayHeaderAL",n),d=()=>o(w,"$_intlDayHeader",n),v=()=>o(_,"$allDaySlot",n);let{_viewDates:c,_intlDayHeader:w,_intlDayHeaderAL:h,_today:D,allDaySlot:_,theme:T}=Pe("state");Gn();var f=go(),g=ee(f),R=le(g);Nn(R,{children:(S,p)=>{var A=ye(),H=ee(A);Ge(H,1,s,_t,(U,F)=>{var V=vo(),M=le(V);Et(M,(G,ge)=>Se==null?void 0:Se(G,ge),()=>d().format(i(F))),te(V),re((G,ge,ne,I)=>{q(V,1,`${a().day??""} ${G??""}${ge??""}`),lt(M,"datetime",ne),lt(M,"aria-label",I)},[()=>{var G;return(G=a().weekdays)==null?void 0:G[i(F).getUTCDay()]},()=>Qe(i(F),l())?" "+a().today:"",()=>ct(i(F),10),()=>u().format(i(F))],ki),L(U,V)}),L(S,A)},$$slots:{default:!0}});var b=De(R,2);te(g);var E=De(g,2);{var P=S=>{var p=ho(),A=le(p),H=le(A);Nn(H,{children:(F,V)=>{fo(F,{get dates(){return s()}})},$$slots:{default:!0}});var U=De(H,2);te(A),te(p),re(()=>{q(p,1,a().allDay),q(A,1,a().content),q(U,1,a().hiddenScroll)}),L(S,p)};oe(E,S=>{v()&&S(P)})}var y=De(E,2);no(y,{children:(S,p)=>{var A=ye(),H=ee(A);Ge(H,1,s,_t,(U,F)=>{so(U,{get date(){return i(F)}})}),L(S,A)},$$slots:{default:!0}}),re(()=>{q(g,1,a().header),q(b,1,a().hiddenScroll)}),L(e,f),be(),r()}const mo={createOptions(e){e.buttonText.timeGridDay="day",e.buttonText.timeGridWeek="week",e.view="timeGridWeek",e.views.timeGridDay={buttonText:Zi,component:Tr,dayHeaderFormat:{weekday:"long"},duration:{days:1},theme:_r("ec-time-grid ec-day-view"),titleFormat:{year:"numeric",month:"long",day:"numeric"}},e.views.timeGridWeek={buttonText:Ji,component:Tr,duration:{weeks:1},theme:_r("ec-time-grid ec-week-view")}},createStores(e){e._slotTimeLimits=Ka(e),e._times=Xa(e)}};nt(["click"]);nt(["pointerdown"]);function _o(e,t){let n=Er({view:"timeGridWeek",events:t.events});const r=C(()=>[mo,Va]);Ma(e,{get plugins(){return i(r)},get options(){return n}})}const yo=async(e,t,n,r)=>{if(!i(t))return;const a="TEST",s="TEST",l="hotpink";await i(t).addActivity(a),await i(t).addProject(s,l);const u=Date.now(),d=2*60*60*1e3,v=u+d,c=d,w=await i(t).addLog(a,s,c,u,v);Ee(n,r(w),!0)};var $o=J("<button>Add test log</button> <!>",1),bo=J("<p>Please wait while the calendar loads</p>");function Mo(e,t){$e(t,!0);let n=kt(null),r=kt(Er([]));const a=c=>c.map(w=>({id:w.id,title:w.activity,start:new Date(w.start).toISOString(),end:new Date(w.end).toISOString(),backgroundColor:w.project_color}));cn(async()=>{const c=await si(()=>import("../chunks/DIHOYDEx.js"),[],import.meta.url);Ee(n,Ei(new c.default),!0),await i(n).initWorker(),Ee(r,a(await i(n).listLog()),!0)});var l=ye(),u=ee(l);{var d=c=>{var w=$o(),h=ee(w);h.__click=[yo,n,r,a];var D=De(h,2);xi(D,()=>i(r),_=>{_o(_,{get events(){return i(r)}})}),L(c,w)},v=c=>{var w=bo();L(c,w)};oe(u,c=>{i(n)?c(d):c(v,!1)})}L(e,l),be()}nt(["click"]);export{Mo as component};
