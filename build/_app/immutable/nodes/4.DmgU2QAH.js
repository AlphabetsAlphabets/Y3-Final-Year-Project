import{d as F,f as h,a as c,g as N,c as G,s as I}from"../chunks/BLYeUyYq.js";import"../chunks/6bccSeWu.js";import{p as H,i as j,b as q,_ as J}from"../chunks/Blysb1Co.js";import{A as D,D as i,B as W,F as p,G as _,I as T,j as s,C as A,z as f,H as L,ak as K,aw as Q}from"../chunks/Babm-7jm.js";import{k as U}from"../chunks/Ck1OnL1C.js";import{M as X,w as Z}from"../chunks/DQCzdT6O.js";import{b as O,a as $,d as ee,c as te,T as ae,l as se}from"../chunks/BPb4tRUs.js";import{r as B,s as re,e as oe}from"../chunks/rWHTdQe2.js";import{s as le}from"../chunks/CLOgTPVS.js";const ie=async(l,t,e,a,n)=>{t.dbWorker?e(await $(t.dbWorker,s(a),s(n))):console.error("Worker is not ready. Please try again.")};var ne=h('<header class="svelte-xt44rj"><h1 class="svelte-xt44rj">Tasks</h1> <p class="svelte-xt44rj">Stay organized and get things done.</p></header> <div class="add-task-wrapper svelte-xt44rj"><div class="task-inputs svelte-xt44rj"><input type="text" placeholder="e.g., Finish project report" class="svelte-xt44rj"/> <input type="text" class="description-input svelte-xt44rj" placeholder="description"/></div> <button aria-label="Add new task" class="svelte-xt44rj"><i class="bi bi-plus-lg svelte-xt44rj"></i> <span>Add Task</span></button></div>',1);function ve(l,t){D(t,!0);let e=H(t,"tasks",15),a=T(""),n=T("");var r=ne(),k=i(W(r),2),m=p(k),d=p(m);B(d);var x=i(d,2);B(x),_(m);var v=i(m,2);v.__click=[ie,t,e,a,n],_(k),O(d,()=>s(a),g=>f(a,g)),O(x,()=>s(n),g=>f(n,g)),c(l,r),A()}F(["click"]);var ce=(l,t)=>{var e;return(e=s(t))==null?void 0:e.showModal()},de=h('<span class="tooltip svelte-1ffcuub">Delete all COMPLETED tasks</span>'),ue=(l,t,e)=>{var a;t.yesAction(),(a=s(e))==null||a.closeModal()},_e=(l,t)=>{var e;return(e=s(t))==null?void 0:e.closeModal()},ke=h("<!> <button>Yes</button> <button>No</button>",1),me=h('<button class="delete-all-btn svelte-1ffcuub" aria-label="Delete all completed tasks"><i class="bi bi-trash"></i> <!></button> <div class="message-modal-wrapper svelte-1ffcuub"><!></div>',1);function be(l,t){D(t,!0);let e=T(null),a=T(!1);var n=me(),r=W(n);r.__click=[ce,e];var k=i(p(r),2);{var m=v=>{var g=de();c(v,g)};j(k,v=>{s(a)&&v(m)})}_(r);var d=i(r,2),x=p(d);q(X(x,{get title(){return t.title},children:(v,g)=>{var o=ke(),u=W(o);re(u,()=>t.children);var b=i(u,2);b.__click=[ue,t,e];var w=i(b,2);w.__click=[_e,e],c(v,o)},$$slots:{default:!0}}),v=>f(e,v,!0),()=>s(e)),_(d),N("mouseenter",r,()=>f(a,!0)),N("mouseleave",r,()=>f(a,!1)),c(l,n),A()}F(["click"]);var pe=(l,t)=>f(t,!s(t)),fe=h("<p>Are you sure you want to delete all completed tasks?</p>"),he=async(l,t,e,a)=>{t.dbWorker?e(await te(t.dbWorker,s(a).id)):console.error("Worker not ready. Please wait.")},ge=h('<li class="task-item svelte-mroz56"><button aria-label="Finish task" class="checkbox svelte-mroz56"><i class="bi bi-check svelte-mroz56"></i></button> <span class="task-name svelte-mroz56"> </span> <small> </small> <button class="delete-btn svelte-mroz56" aria-label="Delete task"><i class="bi bi-trash"></i></button></li>'),we=h('<ul class="task-list svelte-mroz56"></ul>'),xe=h('<div class="tasks-section svelte-mroz56"><div class="section-header svelte-mroz56"><button class="section-title-button svelte-mroz56"><h2 class="section-title svelte-mroz56">Done</h2> <i></i></button> <!></div> <!></div>');function ye(l,t){D(t,!0);let e=H(t,"tasks",15),a=T(!0);var n=xe(),r=p(n),k=p(r);k.__click=[pe,a];var m=i(p(k),2);let d;_(k);var x=i(k,2);be(x,{title:"Are you sure?",yesAction:async()=>e(await ee(t.dbWorker)),children:(o,u)=>{var b=fe();c(o,b)},$$slots:{default:!0}}),_(r);var v=i(r,2);{var g=o=>{var u=we();oe(u,21,e,b=>b.id,(b,w)=>{var z=G(),y=W(z);{var R=M=>{var P=ge(),C=i(p(P),2),S=p(C,!0);_(C);var E=i(C,2),V=p(E,!0);_(E);var Y=i(E,2);Y.__click=[he,t,e,w],_(P),L(()=>{I(S,s(w).name),I(V,s(w).description)}),c(M,P)};j(y,M=>{s(w).completed&&M(R)})}c(b,z)}),_(u),c(o,u)};j(v,o=>{s(a)||o(g)})}_(n),L(o=>d=le(m,1,"bi bi-chevron-down svelte-mroz56",null,d,o),[()=>({rotated:s(a)})]),c(l,n),A()}F(["click"]);var Te=h("<!> <!> <!>",1),We=h("<p>Please wait while the app loads.</p>"),ze=h('<div class="container svelte-1eux5ee"><!></div>');function je(l,t){D(t,!0);let e=T(null),a=T(K([]));Q(async()=>{const m=await J(()=>import("../chunks/BVjkO3Q2.js"),[],import.meta.url);f(e,Z(new m.default),!0),await s(e).initWorker(),f(a,await se(s(e)),!0)});var r=ze(),k=p(r);U(k,()=>s(e),m=>{var d=G(),x=W(d);{var v=o=>{var u=Te(),b=W(u);ve(b,{get dbWorker(){return s(e)},get tasks(){return s(a)},set tasks(y){f(a,y,!0)}});var w=i(b,2);ye(w,{get dbWorker(){return s(e)},get tasks(){return s(a)},set tasks(y){f(a,y,!0)}});var z=i(w,2);ae(z,{get dbWorker(){return s(e)},get tasks(){return s(a)},set tasks(y){f(a,y,!0)}}),c(o,u)},g=o=>{var u=We();c(o,u)};j(x,o=>{s(e)?o(v):o(g,!1)})}c(m,d)}),_(r),c(l,r),A()}function Le(l){je(l,{})}export{Le as component};
