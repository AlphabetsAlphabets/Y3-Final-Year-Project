import{p as Fe,i as ce,b as yt,_ as li}from"../chunks/4bz4uomn.js";import{c as De,a as P,f as J,o as xe,s as fr,d as et}from"../chunks/DDpgsnWW.js";import{ac as kr,g as p,n as si,k as ci,s as di,ae as ui,t as fi,aW as Ve,aE as We,aX as vi,z as on,au as Pn,B as ge,aY as Pe,aZ as hi,a_ as mi,C as j,j as i,F as _e,J as re,G as ne,I as Q,x as Yt,A as le,av as T,f as rt,a$ as gi,H as ie,at as dn,b0 as Wn,w as _i,b1 as st,D as Ge,N as yi,af as Er}from"../chunks/Nagih0ik.js";import{k as bi}from"../chunks/DUcmQWgZ.js";import{w as wi}from"../chunks/B8fJUUNV.js";import{c as Bn}from"../chunks/CGJs_zZ1.js";import{s as q,a as ct,d as Gn,e as vr,r as tn,f as nn}from"../chunks/qkCkcpST.js";import{s as pe,a as o,b as me,d as Ie}from"../chunks/BlX3xRMM.js";import{e as Ye,i as bt,s as Pt}from"../chunks/BdrVcQUR.js";import"../chunks/CLNk2ODh.js";import{i as Yn}from"../chunks/XlJgZQad.js";import{M as $i}from"../chunks/E9bWymkK.js";import{f as hr,h as Di,u as Ci,b as Ti,a as ki,l as Ei}from"../chunks/Bm68CKNN.js";import{c as xi,a as Si,l as pi,b as Ri}from"../chunks/Bv_r7GIl.js";function Et(e,t,n){kr(()=>{var r=p(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var a=!1,s={};si(()=>{var l=n();ci(l),a&&di(s,l)&&(s=l,r.update(l))}),a=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function wt(e,t,n){var r=ui(e,t);r&&r.set&&(e[t]=n,fi(()=>{e[t]=null}))}function Mi(e){return function(t){return t.key==="Enter"||t.key===" "&&!t.preventDefault()?e.call(this,t):void 0}}function Se(e,t){let n={update(r){typeof r=="string"?e.innerText=r:r!=null&&r.domNodes?e.replaceChildren(...r.domNodes):r!=null&&r.html&&(e.innerHTML=r.html)}};return n.update(t),n}function Tn(e,t){let n=new ResizeObserver(r=>{for(let a of r)t(a)});return n.observe(e),{destroy(){n.unobserve(e)}}}const Ln=86400;function ut(e=void 0){return e!==void 0?e instanceof Date?gr(e):Li(e):gr(new Date)}function Me(e){if(typeof e=="number")e={seconds:e};else if(typeof e=="string"){let n=0,r=2;for(let a of e.split(":",3))n+=parseInt(a,10)*Math.pow(60,r--);e={seconds:n}}else e instanceof Date&&(e={hours:e.getUTCHours(),minutes:e.getUTCMinutes(),seconds:e.getUTCSeconds()});let t=e.weeks||e.week||0;return{years:e.years||e.year||0,months:e.months||e.month||0,days:t*7+(e.days||e.day||0),seconds:(e.hours||e.hour||0)*60*60+(e.minutes||e.minute||0)*60+(e.seconds||e.second||0),inWeeks:!!t}}function B(e){return new Date(e.getTime())}function se(e,t,n=1){e.setUTCFullYear(e.getUTCFullYear()+n*t.years);let r=e.getUTCMonth()+n*t.months;for(e.setUTCMonth(r),r%=12,r<0&&(r+=12);e.getUTCMonth()!==r;)Lt(e);return e.setUTCDate(e.getUTCDate()+n*t.days),e.setUTCSeconds(e.getUTCSeconds()+n*t.seconds),e}function an(e,t,n=1){return se(e,t,-n)}function Dt(e,t=1){return e.setUTCDate(e.getUTCDate()+t),e}function Lt(e,t=1){return Dt(e,-t)}function qe(e){return e.setUTCHours(0,0,0,0),e}function Ue(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function dt(e,t=19){return e.toISOString().substring(0,t)}function je(e,...t){return t.every(n=>e.getTime()===n.getTime())}function Pi(e,t){let n=t-e.getUTCDay();return e.setUTCDate(e.getUTCDate()+(n>=0?n:n+7)),e}function xr(e,t){let n=t-e.getUTCDay();return e.setUTCDate(e.getUTCDate()+(n<=0?n:n-7)),e}function mr(e){return typeof e=="string"&&e.length<=10}function In(e,t){return e.setUTCHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),0),e}function Qe(e){return e.seconds}function An(e,t){return se(e,t),e}function Hn(e,t,n){if(an(e,t),n.length&&n.length<7)for(;n.includes(e.getUTCDay());)Lt(e);return e}function gr(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()))}function Li(e){const t=e.match(/\d+/g);return new Date(Date.UTC(Number(t[0]),Number(t[1])-1,Number(t[2]),Number(t[3]||0),Number(t[4]||0),Number(t[5]||0)))}function It(...e){return Object.assign(...e)}function _t(e){return Object.keys(e)}function Ii(e){return Object.entries(e)}function Ai(e){return Math.floor(e)}function $t(...e){return Math.min(...e)}function gt(...e){return Math.max(...e)}function Hi(){return Symbol("ec")}function qn(e){return Array.isArray(e)}function de(e){return typeof e=="function"}function zi(e){return e()}function Sr(e){e.forEach(zi)}function Ui(){}const zn=e=>e;function pr(e,t,n){n.update(r=>r.set(t,e))}function Fi(e){Sr(e),e.clear()}function Ni(e,t,n){t??(t=e),n.has(t)||n.set(t,setTimeout(()=>{n.delete(t),e()}))}let Vn=Hi();function Xn(e,t){e[Vn]=t}function Oi(e){return!!(e!=null&&e[Vn])}function Vt(e){return e[Vn]}function Rr(e,t,n,r=[]){let a=document.createElement(e);a.className=t,typeof n=="string"?a.innerText=n:n.domNodes?a.replaceChildren(...n.domNodes):n.html&&(a.innerHTML=n.html);for(let s of r)a.setAttribute(...s);return a}function Wi(e){return e.scrollHeight>e.clientHeight}function At(e){return e.getBoundingClientRect()}function Un(e,t){for(;t--;)e=e.parentElement;return e}function Bi(e){return At(e).height}function Mt(e,t,n=document,r=[]){r.push(n);for(let a of n.elementsFromPoint(e,t)){if(Oi(a))return a;if(a.shadowRoot&&!r.includes(a.shadowRoot)){let s=Mt(e,t,a.shadowRoot,r);if(s)return s}}return null}function qt(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Gi(e,t,n,r){return{type:e,title:t,currentStart:n.start,currentEnd:n.end,activeStart:r.start,activeEnd:r.end,calendar:void 0}}function Ne(e){return e=It({},e),e.currentStart=Ue(e.currentStart),e.currentEnd=Ue(e.currentEnd),e.activeStart=Ue(e.activeStart),e.activeEnd=Ue(e.activeEnd),e}function Mr(e){return e.startsWith("list")}function kn(e){return e.includes("Timeline")}let Yi=1;function ln(e){return e.map(t=>{let n={id:"id"in t?String(t.id):`{generated-${Yi++}}`,resourceIds:En(t,"resourceId").map(String),allDay:t.allDay??(mr(t.start)&&mr(t.end)),start:ut(t.start),end:ut(t.end),title:t.title??"",editable:t.editable,startEditable:t.startEditable,durationEditable:t.durationEditable,display:t.display??"auto",extendedProps:t.extendedProps??{},backgroundColor:t.backgroundColor??t.color,textColor:t.textColor,classNames:En(t,"className"),styles:En(t,"style")};if(n.allDay){qe(n.start);let r=B(n.end);qe(n.end),(!je(n.end,r)||je(n.end,n.start))&&Dt(n.end)}return n})}function En(e,t){let n=e[t+"s"]??e[t]??[];return qn(n)?n:[n]}function qi(e){return e.map(t=>({events:t.events,url:t.url&&t.url.trimEnd("&")||"",method:t.method&&t.method.toUpperCase()||"GET",extraParams:t.extraParams||{}}))}function sn(e,t,n){let r={start:e.start>t?e.start:t,end:e.end<n?e.end:n,event:e};return r.zeroDuration=je(r.start,r.end),r}function Pr(e){e.sort((t,n)=>t.start-n.start||n.event.allDay-t.event.allDay)}function Vi(e,t,n,r,a,s){let l=a.formatRange(e.start,t&&e.event.display!=="pointer"&&!e.zeroDuration?In(B(e.start),e.end):e.start),d;if(n&&(d=de(n)?n({event:Be(e.event),timeText:l,view:Ne(s)}):n),d===void 0){let u;switch(e.event.display){case"background":u=[];break;case"pointer":u=[_r(l,e,r)];break;default:u=[...e.event.allDay?[]:[_r(l,e,r)],Rr("h4",r.eventTitle,e.event.title)]}d={domNodes:u}}return[l,d]}function _r(e,t,n){return Rr("time",n.eventTime,e,[["datetime",dt(t.start)]])}function Xi(e,t,n){let r=t.classNames;return e&&(de(e)&&(e=e({event:Be(t),view:Ne(n)})),r=[...qn(e)?e:[e],...r]),r}function Be(e){return Lr(e,Ue)}function xn(e){return Lr(e,B)}function Lr(e,t){return e=It({},e),e.start=t(e.start),e.end=t(e.end),e}function Sn(e,t){let n={};if(e.length){Pr(e);let r;for(let a of e){let s=[],l=qe(B(a.start));for(;a.end>l;){if(!t.includes(l.getUTCDay())&&(s.push(B(l)),s.length>1)){let d=l.getTime();n[d]?n[d].chunks.push(a):n[d]={sorted:!1,chunks:[a]}}Dt(l)}if(s.length){a.date=s[0],a.days=s.length,a.dates=s,a.start<s[0]&&(a.start=s[0]);let d=Dt(B(s.at(-1)));a.end>d&&(a.end=d)}else a.date=qe(B(a.start)),a.days=1,a.dates=[a.date];r&&je(r.date,a.date)&&(a.prev=r),r=a}}return n}function Zi(e,t,n){e.top=0,e.prev&&(e.top=e.prev.bottom+1),e.bottom=e.top+n;let r=1,a=e.date.getTime();if(t[a]){t[a].sorted||(t[a].chunks.sort((s,l)=>s.top-l.top),t[a].sorted=!0);for(let s of t[a].chunks)if(e.top<s.bottom&&e.bottom>s.top){let l=s.bottom-e.top+1;r+=l,e.top+=l,e.bottom+=l}}return r}function Ir(e,t){var r;e.length=t.length;let n=[];for(let a of e)n.push((r=a==null?void 0:a.reposition)==null?void 0:r.call(a));return n}function cn(e,t,n,r){return e.start<n&&e.end>t?r?(qn(r)||(r=[r]),r.some(a=>e.resourceIds.includes(a.id))):!0:!1}function Xt(e){return Ji(e)||Ar(e)||Ki(e)}function ft(e){return e==="background"}function Ji(e){return e==="preview"}function Ar(e){return e==="ghost"}function Ki(e){return e==="pointer"}function Qi(e){return Hr(e,"day")}function ji(e){return Hr(e,"week")}function Hr(e,t){return{...e,next:"Next "+t,prev:"Previous "+t}}function yr(e){return t=>({...t,view:e})}function ea(e){let t,n;return e&&({start:t,end:n}=e,t&&(t=qe(ut(t))),n&&(n=qe(ut(n)))),{start:t,end:n}}function Zn(e,t){return t.start&&e<t.start||t.end&&e>t.end}function br(e,t){return t.start&&e<t.start&&(e=t.start),t.end&&e>t.end&&(e=t.end),e}function ta(e){let t=[];return zr(e,0,t),t}function zr(e,t,n){let r=[];for(let a of e){let s=na(a);r.push(s),n.push(s);let l={level:t,children:[],expanded:!0,hidden:!1};Xn(s,l),a.children&&(l.children=zr(a.children,t+1,n))}return r}function na(e){return{id:String(e.id),title:e.title||"",eventBackgroundColor:e.eventBackgroundColor,eventTextColor:e.eventTextColor,extendedProps:e.extendedProps??{}}}function ra(e,t){var n;return(n=Ur(e,t))==null?void 0:n.eventBackgroundColor}function ia(e,t){var n;return(n=Ur(e,t))==null?void 0:n.eventTextColor}function Ur(e,t){return t.find(n=>e.resourceIds.includes(n.id))}function pn(e,t){return Ve([e,t],([n,r])=>{let a=de(r)?{format:r}:new Intl.DateTimeFormat(n,r);return{format:s=>a.format(Ue(s))}})}function wr(e,t){return Ve([e,t],([n,r])=>{let a;if(de(r))a=r;else{let s=new Intl.DateTimeFormat(n,r);a=(l,d)=>{if(l<=d)return s.formatRange(l,d);{let u=s.formatRangeToParts(d,l),v="",c=["startRange","endRange"],g=[!1,!1];for(let f of u){let _=c.indexOf(f.source);_>=0?g[_]||(v+=aa(c[1-_],u),g[_]=!0):v+=f.value}return v}}}return{formatRange:(s,l)=>a(Ue(s),Ue(l))}})}function aa(e,t){let n="";for(let r of t)r.source==e&&(n+=r.value);return n}function oa(e,t,n,r,a){e=B(e);let s=[],l=B(e);se(e,r.min),se(l,r.max),n===void 0&&(n=t.seconds<3600?Me(t.seconds*2):t);let d=B(e);for(;e<l;){for(s.push([dt(e),a.format(e),e>=d]);n.seconds&&e>=d;)se(d,n);se(e,t)}return s}function la(e,t,n,r,a){let s=Me(e),l=Me(t);if(n){let d=Me($t(Qe(s),gt(0,Qe(l)-Ln))),u=Me(gt(Qe(l),Qe(d)+Ln)),v=de(n==null?void 0:n.eventFilter)?n.eventFilter:c=>!ft(c.display);e:for(let c of r){let g=se(B(c),s),f=se(B(c),l),_=se(B(c),d),y=se(B(c),u);for(let w of a)if(!w.allDay&&v(w)&&w.start<y&&w.end>_){if(w.start<g){let h=gt((w.start-c)/1e3,Qe(d));h<Qe(s)&&(s.seconds=h)}if(w.end>f){let h=$t((w.end-c)/1e3,Qe(u));h>Qe(l)&&(l.seconds=h)}if(Qe(s)===Qe(d)&&Qe(l)===Qe(u))break e}}}return{min:s,max:l}}function sa(e){var n;let t={allDayContent:void 0,allDaySlot:!0,buttonText:{today:"today"},customButtons:{},date:new Date,datesSet:void 0,dayHeaderFormat:{weekday:"short",month:"numeric",day:"numeric"},dayHeaderAriaLabelFormat:{dateStyle:"full"},displayEventEnd:!0,duration:{weeks:1},events:[],eventAllUpdated:void 0,eventBackgroundColor:void 0,eventClassNames:void 0,eventClick:void 0,eventColor:void 0,eventContent:void 0,eventDidMount:void 0,eventFilter:void 0,eventMouseEnter:void 0,eventMouseLeave:void 0,eventSources:[],eventTextColor:void 0,eventTimeFormat:{hour:"numeric",minute:"2-digit"},filterEventsWithResources:!1,filterResourcesWithEvents:!1,firstDay:0,flexibleSlotTimeLimits:!1,headerToolbar:{start:"title",center:"",end:"today prev,next"},height:void 0,hiddenDays:[],highlightedDates:[],lazyFetching:!0,loading:void 0,locale:void 0,nowIndicator:!1,resourceLabelContent:void 0,resourceLabelDidMount:void 0,resources:[],selectable:!1,scrollTime:"06:00:00",slotDuration:"00:30:00",slotEventOverlap:!0,slotHeight:24,slotLabelInterval:void 0,slotLabelFormat:{hour:"numeric",minute:"2-digit"},slotMaxTime:"24:00:00",slotMinTime:"00:00:00",slotWidth:72,theme:{allDay:"ec-all-day",active:"ec-active",bgEvent:"ec-bg-event",bgEvents:"ec-bg-events",body:"ec-body",button:"ec-button",buttonGroup:"ec-button-group",calendar:"ec",content:"ec-content",day:"ec-day",dayHead:"ec-day-head",days:"ec-days",disabled:"ec-disabled",event:"ec-event",eventBody:"ec-event-body",eventTime:"ec-event-time",eventTitle:"ec-event-title",events:"ec-events",extra:"ec-extra",handle:"ec-handle",header:"ec-header",hiddenScroll:"ec-hidden-scroll",highlight:"ec-highlight",icon:"ec-icon",line:"ec-line",lines:"ec-lines",minor:"ec-minor",nowIndicator:"ec-now-indicator",otherMonth:"ec-other-month",resource:"ec-resource",sidebar:"ec-sidebar",sidebarTitle:"ec-sidebar-title",today:"ec-today",time:"ec-time",title:"ec-title",toolbar:"ec-toolbar",view:"",weekdays:["ec-sun","ec-mon","ec-tue","ec-wed","ec-thu","ec-fri","ec-sat"],withScroll:"ec-with-scroll"},titleFormat:{year:"numeric",month:"short",day:"numeric"},validRange:void 0,view:void 0,viewDidMount:void 0,views:{}};for(let r of e)(n=r.createOptions)==null||n.call(r,t);return t}function ca(e){var n;let t={date:r=>qe(ut(r)),duration:Me,events:ln,eventSources:qi,hiddenDays:r=>[...new Set(r)],highlightedDates:r=>r.map(a=>qe(ut(a))),resources:ta,scrollTime:Me,slotDuration:Me,slotLabelInterval:r=>r!==void 0?Me(r):void 0,slotMaxTime:Me,slotMinTime:Me,validRange:ea};for(let r of e)(n=r.createParsers)==null||n.call(r,t);return t}function da(e,t){let n=[];for(let r of _t(e))e[r]!==t[r]&&n.push([r,e[r]]);return n}function ua(e){return Ve(e.view,t=>t==null?void 0:t.startsWith("dayGrid"))}function fa(e){return Ve([e._currentRange,e.firstDay,e.slotMaxTime,e._dayGrid],([t,n,r,a])=>{let s=B(t.start),l=B(t.end);if(a)xr(s,n),Pi(l,n);else if(r.days||r.seconds>Ln){se(Lt(l),r);let d=Lt(B(l));d<s&&(s=d)}return{start:s,end:l}})}function va(e){return Ve([e.date,e.duration,e.firstDay],([t,n,r])=>{let a=B(t),s;return n.months?a.setUTCDate(1):n.inWeeks&&xr(a,r),s=se(B(a),n),{start:a,end:s}})}function ha(e){return Ve([e._activeRange,e.hiddenDays],([t,n])=>{let r=[],a=qe(B(t.start)),s=qe(B(t.end));for(;a<s;)n.includes(a.getUTCDay())||r.push(B(a)),Dt(a);return!r.length&&n.length&&n.length<7&&(e.date.update(l=>{for(;n.includes(l.getUTCDay());)Dt(l);return l}),r=on(e._viewDates)),r})}function ma(e){return Ve([e.date,e._activeRange,e._intlTitle,e._dayGrid],([t,n,r,a])=>a?r.formatRange(t,t):r.formatRange(n.start,Lt(B(n.end))))}function ga(e){return Ve([e.view,e._viewTitle,e._currentRange,e._activeRange],t=>Gi(...t))}function _a(e){let t=We([]),n,r=0,a={};return Ve([e.events,e.eventSources,e._activeRange,e._fetchedRange,e.lazyFetching,e.loading],(s,l)=>pr(()=>{let[d,u,v,c,g,f]=s;if(!u.length){l(d);return}if(!c.start||c.start>v.start||c.end<v.end||!g){n&&n.abort(),n=new AbortController,de(f)&&!r&&f(!0);let _=()=>{--r===0&&de(f)&&f(!1)},y=[],w=C=>_(),h=C=>{y=y.concat(ln(C)),l(y),_()},m=dt(v.start),S=dt(v.end);for(let C of u){if(de(C.events)){let E=C.events({start:Ue(v.start),end:Ue(v.end),startStr:m,endStr:S},h,w);E!==void 0&&Promise.resolve(E).then(h,w)}else{let E=de(C.extraParams)?C.extraParams():It({},C.extraParams);E.start=m,E.end=S,E=new URLSearchParams(E);let L=C.url,$={},x;["GET","HEAD"].includes(C.method)?L+=(L.includes("?")?"&":"?")+E:($["content-type"]="application/x-www-form-urlencoded;charset=UTF-8",x=String(E)),fetch(L,{method:C.method,headers:$,body:x,signal:n.signal,credentials:"same-origin"}).then(R=>R.json()).then(h).catch(w)}++r}c.start=v.start,c.end=v.end}},a,e._queue),[]).subscribe(t.set),t}function ya(e){let t;e._view.subscribe(r=>t=r);let n={};return Ve([e._events,e.eventFilter],(r,a)=>pr(()=>{let[s,l]=r;a(de(l)?s.filter((d,u,v)=>l({event:d,index:u,events:v,view:t})):s)},n,e._queue),[])}function ba(){return vi(ut(),e=>{let t=setInterval(()=>{e(ut())},1e3);return()=>clearInterval(t)})}function wa(e){return Ve(e._now,t=>qe(B(t)))}class $a{constructor(t,n){var l,d;t=t||[];let r=sa(t),a=ca(t);r=Fn(r,a),n=Fn(n,a);for(let[u,v]of Object.entries(r))this[u]=We(v);this._queue=We(new Map),this._tasks=new Map,this._auxiliary=We([]),this._dayGrid=ua(this),this._currentRange=va(this),this._activeRange=fa(this),this._fetchedRange=We({start:void 0,end:void 0}),this._events=_a(this),this._now=ba(),this._today=wa(this),this._intlEventTime=wr(this.locale,this.eventTimeFormat),this._intlSlotLabel=pn(this.locale,this.slotLabelFormat),this._intlDayHeader=pn(this.locale,this.dayHeaderFormat),this._intlDayHeaderAL=pn(this.locale,this.dayHeaderAriaLabelFormat),this._intlTitle=wr(this.locale,this.titleFormat),this._bodyEl=We(void 0),this._scrollable=We(!1),this._recheckScrollable=We(!1),this._viewTitle=ma(this),this._viewDates=ha(this),this._view=ga(this),this._viewComponent=We(void 0),this._filteredEvents=ya(this),this._interaction=We({}),this._iEvents=We([null,null]),this._iClasses=We(zn),this._iClass=We(void 0),this._set=(u,v)=>{Nn(u,this)&&(a[u]&&(v=a[u](v)),this[u].set(v))},this._get=u=>Nn(u,this)?on(this[u]):void 0;for(let u of t)(l=u.createStores)==null||l.call(u,this);n.view&&this.view.set(n.view);let s=new Set([..._t(r.views),..._t(n.views??{})]);for(let u of s){let v=$r(r,r.views[u]??{}),c=$r(v,n,((d=n.views)==null?void 0:d[u])??{}),g=c.component;Da(c,this);for(let f of _t(c)){let{set:_,_set:y=_,...w}=this[f];this[f]={set:["buttonText","theme"].includes(f)?h=>{if(de(h)){let m=h(v[f]);c[f]=m,_(_===y?m:h)}else c[f]=h,_(h)}:h=>{c[f]=h,_(h)},_set:y,...w}}this.view.subscribe(f=>{if(f===u){this._viewComponent.set(g),de(c.viewDidMount)&&Pn().then(()=>c.viewDidMount({view:Ne(on(this._view))}));for(let _ of _t(c))this[_]._set(c[_])}})}}}function Fn(e,t){let n={...e};for(let r of _t(t))r in n&&(n[r]=t[r](n[r]));if(e.views){n.views={};for(let r of _t(e.views))n.views[r]=Fn(e.views[r],t)}return n}function $r(...e){let t={};for(let n of e){let r={};for(let a of["buttonText","theme"])de(n[a])&&(r[a]=n[a](t[a]));t={...t,...n,...r}}return t}function Da(e,t){_t(e).filter(n=>!Nn(n,t)||n==="view").forEach(n=>delete e[n])}function Nn(e,t){return t.hasOwnProperty(e)&&e[0]!=="_"}var Ca=J("<h2></h2>"),Ta=J("<button><i></i></button>"),ka=J("<button><i></i></button>"),Ea=J("<button> </button>"),xa=J("<button></button>"),Sa=J("<button> </button>");function Dr(e,t){ge(t,!1);const[n,r]=pe(),a=()=>o(A,"$validRange",n),s=()=>o(L,"$date",n),l=()=>o($,"$duration",n),d=()=>o(x,"$hiddenDays",n),u=()=>o(h,"$_currentRange",n),v=()=>o(S,"$_viewDates",n),c=()=>o(R,"$theme",n),g=()=>o(m,"$_viewTitle",n),f=()=>o(C,"$buttonText",n),_=()=>o(E,"$customButtons",n),y=()=>o(H,"$view",n);let w=Fe(t,"buttons",8),{_currentRange:h,_viewTitle:m,_viewDates:S,buttonText:C,customButtons:E,date:L,duration:$,hiddenDays:x,theme:R,validRange:A,view:H}=Pe("state"),U=qe(ut()),F=Yt(),V=Yt(),I=Yt(),G=Yt(!1);function be(){return i(G)}function ae(){return v().every(ue=>Zn(ue,a()))}function M(){me(L,Hn(s(),l(),d()))}function X(){me(L,An(s(),l()))}hi(()=>(a(),s(),l(),d(),i(I),u(),Pn),()=>{if(!be()){if(le(G,!0),le(F,!1),le(V,!1),a().start){let ue=B(s());me(L,Hn(s(),l(),d())),le(F,ae()),me(L,ue)}if(a().end){let ue=B(s());me(L,An(s(),l())),le(V,ae()),me(L,ue)}if(le(I,U>=u().start&&U<u().end),!i(I)&&(a().start||a().end)){let ue=B(s());me(L,B(U)),le(I,ae()),me(L,ue)}Pn().then(()=>le(G,!1))}}),mi(),Yn();var ee=De(),Te=j(ee);Ye(Te,1,w,bt,(ue,N)=>{var Ae=De(),Oe=j(Ae);{var He=we=>{var fe=Ca();Et(fe,(Le,Xe)=>Se==null?void 0:Se(Le,Xe),g),re(()=>q(fe,1,(c(),p(()=>c().title)))),P(we,fe)},vt=(we,fe)=>{{var Le=Re=>{var ke=Ta(),ve=ne(ke);Q(ke),re(()=>{q(ke,1,`${c(),p(()=>c().button)??""} ec-${i(N)??""}`),ct(ke,"aria-label",(f(),p(()=>f().prev))),ct(ke,"title",(f(),p(()=>f().prev))),ke.disabled=i(F),q(ve,1,`${c(),p(()=>c().icon)??""} ec-${i(N)??""}`)}),xe("click",ke,M),P(Re,ke)},Xe=(Re,ke)=>{{var ve=Z=>{var oe=ka(),k=ne(oe);Q(oe),re(()=>{q(oe,1,`${c(),p(()=>c().button)??""} ec-${i(N)??""}`),ct(oe,"aria-label",(f(),p(()=>f().next))),ct(oe,"title",(f(),p(()=>f().next))),oe.disabled=i(V),q(k,1,`${c(),p(()=>c().icon)??""} ec-${i(N)??""}`)}),xe("click",oe,X),P(Z,oe)},O=(Z,oe)=>{{var k=K=>{var he=Ea(),Ze=ne(he,!0);Q(he),re(()=>{q(he,1,`${c(),p(()=>c().button)??""} ec-${i(N)??""}`),he.disabled=i(I),fr(Ze,(f(),i(N),p(()=>f()[i(N)])))}),xe("click",he,()=>me(L,B(U))),P(K,he)},z=(K,he)=>{{var Ze=it=>{var $e=xa();kr(()=>xe("click",$e,function(...ht){var at;(at=_()[i(N)].click)==null||at.apply(this,ht)})),Et($e,(ht,at)=>Se==null?void 0:Se(ht,at),()=>_()[i(N)].text),re(()=>q($e,1,`${c(),p(()=>c().button)??""} ec-${i(N)??""}${_(),i(N),c(),p(()=>_()[i(N)].active?" "+c().active:"")??""}`)),P(it,$e)},Ht=(it,$e)=>{{var ht=at=>{var Ct=Sa(),un=ne(Ct,!0);Q(Ct),re(()=>{q(Ct,1,`${c(),p(()=>c().button)??""}${y(),i(N),c(),p(()=>y()===i(N)?" "+c().active:"")??""} ec-${i(N)??""}`),fr(un,(f(),i(N),p(()=>f()[i(N)])))}),xe("click",Ct,()=>me(H,i(N))),P(at,Ct)};ce(it,at=>{i(N)!=""&&at(ht)},$e)}};ce(K,it=>{_(),i(N),p(()=>_()[i(N)])?it(Ze):it(Ht,!1)},he)}};ce(Z,K=>{i(N)=="today"?K(k):K(z,!1)},oe)}};ce(Re,Z=>{i(N)=="next"?Z(ve):Z(O,!1)},ke)}};ce(we,Re=>{i(N)=="prev"?Re(Le):Re(Xe,!1)},fe)}};ce(Oe,we=>{i(N)=="title"?we(He):we(vt,!1)})}P(ue,Ae)}),P(e,ee),_e(),r()}var pa=J("<div><!></div>"),Ra=J("<div></div>"),Ma=J("<nav></nav>");function Pa(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(l,"$headerToolbar",n),s=()=>o(d,"$theme",n);let{headerToolbar:l,theme:d}=Pe("state"),u=T(()=>{var g;let c={};for(let f of["start","center","end"])c[f]=((g=a()[f])==null?void 0:g.split(" ").map(_=>_.split(",")))??[];return c});var v=Ma();Ye(v,21,()=>_t(i(u)),bt,(c,g)=>{var f=Ra();Ye(f,21,()=>i(u)[i(g)],bt,(_,y)=>{var w=De(),h=j(w);{var m=C=>{var E=pa(),L=ne(E);Dr(L,{get buttons(){return i(y)}}),Q(E),re(()=>q(E,1,s().buttonGroup)),P(C,E)},S=C=>{Dr(C,{get buttons(){return i(y)}})};ce(h,C=>{i(y).length>1?C(m):C(S,!1)})}P(_,w)}),Q(f),re(()=>q(f,1,`ec-${i(g)??""}`)),P(c,f)}),Q(v),re(()=>q(v,1,s().toolbar)),P(e,v),_e(),r()}function La(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(h,"$_activeRange",n),s=()=>o(_,"$datesSet",n),l=()=>o(x,"$_view",n),d=()=>o(m,"$_filteredEvents",n),u=()=>o(y,"$eventAllUpdated",n),v=()=>o($,"$_queue",n),c=()=>o(L,"$_recheckScrollable",n),g=()=>o(C,"$_bodyEl",n),f=()=>o(w,"$_auxiliary",n);let{datesSet:_,eventAllUpdated:y,_auxiliary:w,_activeRange:h,_filteredEvents:m,_scrollable:S,_bodyEl:C,_tasks:E,_recheckScrollable:L,_queue:$,_view:x}=Pe("state");rt(()=>{a(),p(()=>{de(s())&&s()({start:Ue(a().start),end:Ue(a().end),startStr:dt(a().start),endStr:dt(a().end),view:Ne(l())})})}),rt(()=>{d(),p(()=>{de(u())&&Ni(()=>u()({view:Ne(l())}),"eau",E)})}),rt(()=>{v(),p(()=>{Fi(v())})}),rt(()=>{c(),p(()=>{g()&&me(S,Wi(g())),me(L,!1)})});var R=De(),A=j(R);Ye(A,1,f,bt,(H,U)=>{var F=De(),V=j(F);Bn(V,()=>i(U),(I,G)=>{G(I,{})}),P(H,F)}),P(e,R),_e(),r()}var Ia=J("<div><!> <!></div> <!>",1);function Aa(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(L,"$_events",n),s=()=>o(C,"$_interaction",n),l=()=>o(x,"$date",n),d=()=>o(R,"$duration",n),u=()=>o(A,"$hiddenDays",n),v=()=>o(S,"$_viewComponent",n),c=()=>o(U,"$theme",n),g=()=>o($,"$_scrollable",n),f=()=>o(E,"$_iClass",n),_=()=>o(H,"$height",n),y=()=>o(F,"$view",n);let w=Fe(t,"plugins",19,()=>[]),h=Fe(t,"options",19,()=>({})),m=new $a(w(),h());gi("state",m);let{_viewComponent:S,_interaction:C,_iClass:E,_events:L,_scrollable:$,date:x,duration:R,hiddenDays:A,height:H,theme:U,view:F}=m,V={...h()};rt(()=>{for(let[O,Z]of da(h(),V))p(()=>{I(O,Z)});It(V,h())});function I(O,Z){return m._set(O,Z),this}function G(O){let Z=m._get(O);return Z instanceof Date?Ue(Z):Z}function be(){return m._fetchedRange.set({start:void 0,end:void 0}),this}function ae(){return a().map(Be)}function M(O){for(let Z of a())if(Z.id==O)return Be(Z);return null}function X(O){return O=ln([O])[0],a().push(O),me(L,a()),Be(O)}function ee(O){let Z=String(O.id),oe=a().findIndex(k=>k.id===Z);return oe>=0?(O=ln([O])[0],Ie(L,p(a)[oe]=O,p(a)),Be(O)):null}function Te(O){O=String(O);let Z=a().findIndex(oe=>oe.id===O);return Z>=0&&(a().splice(Z,1),me(L,a())),this}function ue(){return Ne(on(m._view))}function N(){var O;return(O=s().action)==null||O.unselect(),this}function Ae(O,Z){let oe=Mt(O,Z);if(oe){let k=Vt(oe)(O,Z);return k.date=Ue(k.date),k}return null}function Oe(){return me(x,An(l(),d())),this}function He(){return me(x,Hn(l(),d(),u())),this}let vt=T(v);var we=Ia(),fe=j(we);let Le;var Xe=ne(fe);Pa(Xe,{});var Re=ie(Xe,2);Bn(Re,()=>i(vt),(O,Z)=>{Z(O,{})}),Q(fe);var ke=ie(fe,2);La(ke,{}),re(O=>{q(fe,1,`${c().calendar??""} ${c().view??""}${g()?" "+c().withScroll:""}${f()?" "+c()[f()]:""}`),ct(fe,"role",O),Le=Gn(fe,"",Le,{height:_()})},[()=>Mr(y())?"list":"table"]),P(e,we);var ve=_e({setOption:I,getOption:G,refetchEvents:be,getEvents:ae,getEventById:M,addEvent:X,updateEvent:ee,removeEventById:Te,getView:ue,unselect:N,dateFromPoint:Ae,next:Oe,prev:He});return r(),ve}var Ha=J("<div></div>"),za=J("<article><!></article>");function Ua(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(G,"$resources",n),s=()=>o($,"$eventBackgroundColor",n),l=()=>o(x,"$eventColor",n),d=()=>o(I,"$eventTextColor",n),u=()=>o(be,"$theme",n),v=()=>o(U,"$eventClassNames",n),c=()=>o(ae,"$_view",n),g=()=>o(L,"$displayEventEnd",n),f=()=>o(R,"$eventContent",n),_=()=>o(M,"$_intlEventTime",n),y=()=>o(H,"$eventDidMount",n),w=()=>o(A,"$eventClick",n),h=()=>o(F,"$eventMouseEnter",n),m=()=>o(V,"$eventMouseLeave",n);let S=Fe(t,"el",15),C=Fe(t,"classes",3,zn),E=Fe(t,"styles",3,zn),{displayEventEnd:L,eventBackgroundColor:$,eventColor:x,eventContent:R,eventClick:A,eventDidMount:H,eventClassNames:U,eventMouseEnter:F,eventMouseLeave:V,eventTextColor:I,resources:G,theme:be,_view:ae,_intlEventTime:M}=Pe("state"),X=T(()=>t.chunk.event),ee=T(()=>t.chunk.event.display),Te=T(()=>i(X).backgroundColor??ra(i(X),a())??s()??l()),ue=T(()=>i(X).textColor??ia(i(X),a())??d()),N=T(()=>Ii(E()({"background-color":i(Te),color:i(ue)})).map(k=>`${k[0]}:${k[1]}`).concat(i(X).styles).join(";")),Ae=T(()=>C()([ft(i(ee))?u().bgEvent:u().event,...Xi(v(),i(X),c())]).join(" ")),Oe=T(()=>Vi(t.chunk,g(),f(),u(),_(),c())),He=T(()=>Wn(i(Oe),2)),vt=T(()=>i(He)[0]),we=T(()=>i(He)[1]);dn(()=>{de(y())&&y()({event:Be(i(X)),timeText:i(vt),el:S(),view:Ne(c())})});function fe(k,z){return!Xt(z)&&de(k)?K=>k({event:Be(i(X)),el:S(),jsEvent:K,view:Ne(c())}):void 0}let Le=T(()=>!ft(i(ee))&&fe(w(),i(ee))||void 0),Xe=T(()=>i(Le)&&Mi(i(Le))),Re=T(()=>fe(h(),i(ee))),ke=T(()=>fe(m(),i(ee)));var ve=za();ve.__click=function(...k){var z;(z=i(Le))==null||z.apply(this,k)},ve.__keydown=function(...k){var z;(z=i(Xe))==null||z.apply(this,k)},ve.__pointerdown=function(...k){var z;(z=t.onpointerdown)==null||z.apply(this,k)};{const k=z=>{var K=Ha();Et(K,(he,Ze)=>Se==null?void 0:Se(he,Ze),()=>i(we)),re(()=>q(K,1,vr(u().eventBody))),P(z,K)};var O=ne(ve);{var Z=z=>{var K=De(),he=j(K);Pt(he,()=>t.body,()=>k,()=>i(Te),()=>i(ue)),P(z,K)},oe=z=>{k(z)};ce(O,z=>{t.body?z(Z):z(oe,!1)})}Q(ve),yt(ve,z=>S(z),()=>S())}re(()=>{q(ve,1,vr(i(Ae))),Gn(ve,i(N)),ct(ve,"role",i(Le)?"button":void 0),ct(ve,"tabindex",i(Le)?0:void 0)}),xe("mouseenter",ve,function(...k){var z;(z=i(Re))==null||z.apply(this,k)}),xe("mouseleave",ve,function(...k){var z;(z=i(ke))==null||z.apply(this,k)}),P(e,ve),_e(),r()}et(["click","keydown","pointerdown"]);function Fr(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(u,"$_iClasses",n),s=()=>o(d,"$_interaction",n);let l=Fe(t,"el",15),{_interaction:d,_iClasses:u}=Pe("state"),v=T(()=>t.chunk.event),c=T(()=>t.chunk.event.display),g=T(()=>w=>a()(w,i(v)));function f(w){var h,m;return(h=s().action)!=null&&h.draggable(w)?S=>{var C,E;return s().action.drag(w,S,(C=t.forceDate)==null?void 0:C.call(t),(E=t.forceMargin)==null?void 0:E.call(t))}:(m=s().action)==null?void 0:m.noAction}let _=T(()=>!ft(i(c))&&!Xt(i(c))?f(i(v)):void 0),y=T(()=>s().resizer);Ua(e,{get chunk(){return t.chunk},get classes(){return i(g)},get styles(){return t.styles},get onpointerdown(){return i(_)},get el(){return l()},set el(h){l(h)},body:(h,m=_i)=>{var S=De(),C=j(S);{var E=$=>{var x=De(),R=j(x);Bn(R,()=>i(y),(A,H)=>{H(A,{get chunk(){return t.chunk},get axis(){return t.axis},get forceDate(){return t.forceDate},get forceMargin(){return t.forceMargin},children:(U,F)=>{var V=De(),I=j(V);Pt(I,m),P(U,V)},$$slots:{default:!0}})}),P($,x)},L=$=>{var x=De(),R=j(x);Pt(R,m),P($,x)};ce(C,$=>{i(y)?$(E):$(L,!1)})}P(h,S)},$$slots:{body:!0}}),_e(),r()}et(["pointerdown","click","keydown"]);et(["pointerdown","click","keydown"]);function Nr(e,t,n){return e.startEditable??t??e.editable??n}function Fa(e,t,n){return e.durationEditable??t??e.editable??n}let Rn=!1;function Na(e){Rn||(Rn=!0,window.requestAnimationFrame(()=>{e(),Rn=!1}))}function Cr(e,t,n){return gt(t,$t(n,e))}function Oa(e,t){ge(t,!1);const[n,r]=pe(),a=()=>o(ve,"$eventStartEditable",n),s=()=>o(ke,"$editable",n),l=()=>o(Wr,"$slotDuration",n),d=()=>o($e,"$selectable",n),u=()=>o(Zr,"$view",n),v=()=>o(we,"$_bodyEl",n),c=()=>o(fe,"$datesAboveResources",n),g=()=>o(un,"$selectLongPressDelay",n),f=()=>o(z,"$eventLongPressDelay",n),_=()=>o(Ht,"$longPressDelay",n),y=()=>o(Or,"$selectMinDistance",n),w=()=>o(O,"$eventDragMinDistance",n),h=()=>o(N,"$_iEvents",n),m=()=>o(K,"$eventResizeStart",n),S=()=>o(Z,"$eventDragStart",n),C=()=>o(it,"$resizeConstraint",n),E=()=>o(Ct,"$selectConstraint",n),L=()=>o(Xe,"$dragConstraint",n),$=()=>o(Re,"$dragScroll",n),x=()=>o(Br,"$slotHeight",n),R=()=>o(Gr,"$slotWidth",n),A=()=>o(qr,"$unselectAuto",n),H=()=>o(Vr,"$unselectCancel",n),U=()=>o(ht,"$selectFn",n),F=()=>o(he,"$eventResizeStop",n),V=()=>o(oe,"$eventDragStop",n),I=()=>o(He,"$_view",n),G=()=>o(Ze,"$eventResize",n),be=()=>o(k,"$eventDrop",n),ae=()=>o(Le,"$dateClick",n),M=()=>o(Xr,"$validRange",n),X=()=>o(vt,"$_dayGrid",n),ee=()=>o(Oe,"$_events",n),Te=()=>o(at,"$selectBackgroundColor",n),ue=()=>o(Yr,"$unselectFn",n);let{_iEvents:N,_iClass:Ae,_events:Oe,_view:He,_dayGrid:vt,_bodyEl:we,datesAboveResources:fe,dateClick:Le,dragConstraint:Xe,dragScroll:Re,editable:ke,eventStartEditable:ve,eventDragMinDistance:O,eventDragStart:Z,eventDragStop:oe,eventDrop:k,eventLongPressDelay:z,eventResizeStart:K,eventResizeStop:he,eventResize:Ze,longPressDelay:Ht,resizeConstraint:it,selectable:$e,select:ht,selectBackgroundColor:at,selectConstraint:Ct,selectLongPressDelay:un,selectMinDistance:Or,slotDuration:Wr,slotHeight:Br,slotWidth:Gr,unselect:Yr,unselectAuto:qr,unselectCancel:Vr,validRange:Xr,view:Zr}=Pe("state");const Jn=1,Kn=2,Qn=3,jn=4,fn=5,Zt=6;let Ee,xt,W,vn,tt,hn,Je,St,mn,gn,ze,Ce,ot,Ke,zt,Jt,lt,mt,Kt,ye,Qt,jt,_n,Ut=Yt(),Ft,Nt,pt;function er(b){return Nr(b,a(),s())}function tr(b,D,te,Y){Ee||(Ee=$n(D)?Jn:Zt,kt()&&(W=b,yn(D),te&&(tt=te),Y&&(Nt=Y),Kt="dragging",Rt(D)))}function nr(b,D,te,Y,nt,Gt,Cn){Ee||(Ee=$n(D)?te?Qn:Kn:Zt,kt()&&(W=b,yn(D),nt&&(tt=nt),Gt&&(Nt=Gt),Kt=Y==="x"?"resizingX":"resizingY",en()?(ye=B(W.end),mt?(In(ye,W.start),ye>=W.end&&Lt(ye)):(an(ye,l()),ye<W.start&&(ye=W.start),tt=W.start)):(ye=B(W.start),mt?(In(ye,W.end),ye<=W.start&&!Cn&&Dt(ye)):(se(ye,l()),ye>W.end&&(ye=W.end),tt=W.end,Cn||(tt=an(B(tt),l()))),Cn&&!mt&&(pt=l())),Rt(D)))}function rr(b){Ee||(Ee=$n(b)?d()&&!Mr(u())?jn:fn:Zt,kt()&&(yn(b),Kt="selecting",Qt=mt?Me({day:1}):l(),W={allDay:mt,start:tt,end:se(B(tt),Qt),resourceIds:Je?[Je.id]:[]},Rt(b)))}function ir(){Ee||(Ee=Zt)}function yn(b){window.getSelection().removeAllRanges(),mn=ze=b.clientX,gn=Ce=b.clientY;let D=Mt(ze,Ce);({allDay:mt,date:tt,resource:Je}=Vt(D)(ze,Ce)),kn(u())?ot=zt=v():(ot=Un(D,Je?4:3),zt=Un(D,Je&&(ti()||c())?2:1)),or(),b.pointerType!=="mouse"&&le(Ut,setTimeout(()=>{Ee&&(xt=!0,Rt(b))},(Tt()?g():f())??_()))}function Rt(b){if(xt||b&&b.pointerType==="mouse"&&ei()>=(Tt()?y():w())){xt=!0,Bt(b),me(Ae,Kt),h()[0]||(Tt()?jr():Qr(b,Wt()?m():S()));let D=wn(Kr());if(D){let te;if({allDay:te,date:hn,resource:St}=D,te===mt){let Y=Ot({},h()[0]),nt=C();lt=Me((hn-tt)/1e3),en()?(Y.start=se(B(W.start),lt),Y.start>ye&&(Y.start=ye,lt=Me((ye-W.start)/1e3))):(Y.end=se(B(W.end),lt),pt&&se(Y.end,pt),Wt()?Y.end<ye&&(Y.end=ye,lt=Me((ye-W.end)/1e3)):Tt()?(Y.end<W.end?(Y.start=an(Y.end,Qt),Y.end=W.end):Y.start=W.start,nt=E()):(Y.start=se(B(W.start),lt),Je&&(Y.resourceIds=W.resourceIds.filter(Gt=>Gt!==Je.id),Y.resourceIds.push(St.id)),nt=L()));do{if(nt!==void 0&&(Y=Ot(xn(W),Y),nt(Tt()?cr(Y,b):dr(Y,W,b))===!1)){Ie(N,p(h)[0]=Ot(h()[0],W),p(h));break}Ie(N,p(h)[0]=Ot(h()[0],Y),p(h))}while(!1)}}}if($()){let D=x()*2,te=R();Na(()=>{ot&&(Ce<D&&window.scrollBy(0,gt(-10,(Ce-D)/3)),Ce<Ke.top+D&&(ot.scrollTop+=gt(-10,(Ce-Ke.top-D)/3)),Ce>window.innerHeight-D&&window.scrollBy(0,$t(10,(Ce-window.innerHeight+D)/3)),Ce>Ke.bottom-D&&(ot.scrollTop+=$t(10,(Ce-Ke.bottom+D)/3)),kn(u())&&(ze<Ke.left+te&&(ot.scrollLeft+=gt(-10,(ze-Ke.left-te)/3)),ze>Ke.right-te&&(ot.scrollLeft+=$t(10,(ze-Ke.right+te)/3))))})}}function bn(){kt()&&(or(),Rt())}function Jr(b){kt()&&b.isPrimary&&(ze=b.clientX,Ce=b.clientY,Rt(b))}function ar(b){if(jt&&A()&&!(H()&&b.target.closest(H()))&&Bt(b),Ee&&b.isPrimary){if(xt)if(Tt()){if(jt=!0,de(U())){let D=cr(h()[0],b);U()(D)}}else{W.display=vn;let D=Wt()?F():V();de(D)&&D({event:Be(W),jsEvent:b,view:Ne(I())});let te=xn(W);if(sr(W,h()[0]),lr(),D=Wt()?G():be(),de(D)){let Y=W,nt=dr(W,te,b);D(It(nt,{revert(){sr(Y,te)}}))}}else if((ni()||Tt())&&de(ae())&&!_n){ze=b.clientX,Ce=b.clientY;let D=Mt(ze,Ce);if(D){let{allDay:te,date:Y,resource:nt}=Vt(D)(ze,Ce);ae()({allDay:te,date:Ue(Y),dateStr:dt(Y),dayEl:D,jsEvent:b,view:Ne(I()),resource:nt})}}xt=!1,Ee=mn=gn=ze=Ce=W=vn=tt=hn=Je=St=lt=pt=mt=me(Ae,ye=Qt=Nt=void 0),ot=zt=Ke=Jt=void 0,i(Ut)&&(clearTimeout(i(Ut)),le(Ut,void 0))}_n=!1}function Kr(){return Mt(Cr(ze,Ft[0],Ft[1]),Cr(Ce,Ft[2],Ft[3]))}function wn(b){if(b){let D=Vt(b)(ze,Ce);if(D.disabled){if(!M().end||D.date<M().end)return wn(b.nextElementSibling);if(!M().start||D.date>M().start)return wn(b.previousElementSibling)}else return D}return null}function or(){Ke=At(ot),Jt=At(zt),Ft=[gt(0,Jt.left+(kn(u())?1:X()?0:8)),$t(document.documentElement.clientWidth,Jt.left+zt.clientWidth)-2,gt(0,Ke.top),$t(document.documentElement.clientHeight,Ke.top+ot.clientHeight)-2]}function Qr(b,D){de(D)&&D({event:Be(W),jsEvent:b,view:Ne(I())}),vn=W.display,W.display="preview",Ie(N,p(h)[0]=xn(W),p(h)),Nt!==void 0&&Ie(N,p(h)[0]._margin=Nt,p(h)),pt&&se(h()[0].end,pt),W.display="ghost",me(Oe,ee())}function jr(){Ie(N,p(h)[0]={id:"{select}",allDay:W.allDay,start:W.start,title:"",display:"preview",extendedProps:{},backgroundColor:Te(),resourceIds:W.resourceIds,classNames:[],styles:[]},p(h))}function lr(){Ie(N,p(h)[0]=null,p(h))}function Ot(b,D){return b.start=D.start,b.end=D.end,b.resourceIds=D.resourceIds,b}function sr(b,D){Ot(b,D),me(Oe,ee())}function cr(b,D){let{start:te,end:Y}=Be(b);return{start:te,end:Y,startStr:dt(b.start),endStr:dt(b.end),allDay:mt,view:Ne(I()),resource:Je,jsEvent:D}}function dr(b,D,te){let Y;return Wt()?Y=en()?{startDelta:lt,endDelta:Me(0)}:{startDelta:Me(0),endDelta:lt}:Y={delta:lt,oldResource:Je!==St?Je:void 0,newResource:Je!==St?St:void 0},It(Y,{event:Be(b),oldEvent:Be(D),view:Ne(I()),jsEvent:te}),Y}function ei(){return Math.sqrt(Math.pow(ze-mn,2)+Math.pow(Ce-gn,2))}function ti(){return Ee===Jn}function Wt(){return Ee===Kn||en()}function en(){return Ee===Qn}function ni(){return Ee===fn}function Tt(){return Ee===jn}function kt(){return Ee&&Ee<fn}function $n(b){return b.isPrimary&&(b.pointerType!=="mouse"||b.buttons&1)}function Bt(b){jt&&(jt=!1,lr(),de(ue())&&ue()({jsEvent:b,view:Ne(I())}))}function ur(){_n=!0}He.subscribe(Bt);function ri(b){if(kt()){let D=b.target,te=[],Y=()=>Sr(te);te.push(qt(window,"touchmove",Ui,{passive:!1})),te.push(qt(D,"touchmove",Dn(()=>xt))),te.push(qt(D,"touchend",Y)),te.push(qt(D,"touchcancel",Y))}}function Dn(b){return D=>{b()&&D.preventDefault()}}Yn(),xe("pointermove",st,Jr),xe("pointerup",st,ar),xe("pointercancel",st,ar),xe("scroll",st,bn);var ii=T(()=>Dn(kt));xe("selectstart",st,function(...b){var D;(D=i(ii))==null||D.apply(this,b)});var ai=T(()=>Dn(()=>i(Ut)));xe("contextmenu",st,function(...b){var D;(D=i(ai))==null||D.apply(this,b)}),xe("touchstart",st,ri,void 0,!0),wt(t,"draggable",er),wt(t,"drag",tr),wt(t,"resize",nr),wt(t,"select",rr),wt(t,"noAction",ir),wt(t,"handleScroll",bn),wt(t,"unselect",Bt),wt(t,"noClick",ur);var oi=_e({draggable:er,drag:tr,resize:nr,select:rr,noAction:ir,handleScroll:bn,unselect:Bt,noClick:ur});return r(),oi}function Wa(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(l,"$_iEvents",n),s=()=>o(d,"$slotDuration",n);let{_iEvents:l,slotDuration:d}=Pe("state"),u=0,v=0;rt(()=>{a()[0]&&y()});function c(){let m=Mt(u,v);if(m){let{allDay:S,date:C,resource:E,disabled:L}=Vt(m)(u,v);if(!L){let $=S?2:1;a()[$]||_($),Ie(l,p(a)[$].start=C,p(a)),Ie(l,p(a)[$].end=se(B(C),s()),p(a)),Ie(l,p(a)[$].resourceIds=E?[E.id]:[],p(a));return}}y()}function g(){c()}function f(m){w(m)&&(u=m.clientX,v=m.clientY,c())}function _(m){Ie(l,p(a)[m]={id:"{pointer}",title:"",display:"pointer",extendedProps:{},backgroundColor:"transparent",classNames:[],styles:[]},p(a))}function y(){a()[1]&&Ie(l,p(a)[1]=null,p(a)),a()[2]&&Ie(l,p(a)[2]=null,p(a))}function w(m){return m.isPrimary&&m.pointerType==="mouse"}xe("pointermove",st,f),xe("scroll",st,g);var h=_e({handleScroll:g});return r(),h}var Ba=J("<div></div>"),Ga=J("<div></div>"),Ya=J("<!> <!> <!>",1);function qa(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(f,"$eventDurationEditable",n),s=()=>o(y,"$editable",n),l=()=>o(w,"$_interaction",n),d=()=>o(_,"$eventResizableFromStart",n),u=()=>o(g,"$theme",n);let v=Fe(t,"forceDate",3,void 0),c=Fe(t,"forceMargin",3,void 0),{theme:g,eventDurationEditable:f,eventResizableFromStart:_,editable:y,_interaction:w}=Pe("state"),h=T(()=>t.chunk.event),m=T(()=>t.chunk.event.display),S=T(()=>!ft(i(m))&&!Xt(i(m))&&Fa(i(h),a(),s()));function C(H){return U=>{var F,V;return l().action.resize(i(h),U,H,t.axis,(F=v())==null?void 0:F(),(V=c())==null?void 0:V(),t.chunk.zeroDuration)}}var E=Ya(),L=j(E);{var $=H=>{var U=Ba(),F=T(()=>C(!0));U.__pointerdown=function(...V){var I;(I=i(F))==null||I.apply(this,V)},re(()=>q(U,1,`${u().resizer??""} ${u().start??""}`)),P(H,U)};ce(L,H=>{i(S)&&d()&&H($)})}var x=ie(L,2);Pt(x,()=>t.children);var R=ie(x,2);{var A=H=>{var U=Ga(),F=T(()=>C(!1));U.__pointerdown=function(...V){var I;(I=i(F))==null||I.apply(this,V)},re(()=>q(U,1,u().resizer)),P(H,U)};ce(R,H=>{i(S)&&H(A)})}P(e,E),_e(),r()}et(["pointerdown"]);var Va=J("<!> <!>",1);function Xa(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(w,"$_interaction",n),s=()=>o(c,"$theme",n),l=()=>o(f,"$eventStartEditable",n),d=()=>o(g,"$editable",n),u=()=>o(y,"$_bodyEl",n),v=()=>o(_,"$pointer",n);let{theme:c,editable:g,eventStartEditable:f,pointer:_,_bodyEl:y,_interaction:w,_iClasses:h}=Pe("state");Ie(w,p(a).resizer=qa,p(a)),rt(()=>{s(),l(),d(),me(h,($,x)=>{let{display:R}=x;return[...$,Xt(R)?[s()[R]]:!ft(R)&&Nr(x,l(),d())?[s().draggable]:[]]})}),rt(()=>{if(u())return qt(u(),"scroll",m)});function m(){var $;for(let x of Object.values(a()))($=x==null?void 0:x.handleScroll)==null||$.call(x)}var S=Va(),C=j(S);yt(Oa(C,{}),$=>Ie(w,p(a).action=$,p(a)),()=>{var $;return($=a())==null?void 0:$.action});var E=ie(C,2);{var L=$=>{yt(Wa($,{}),x=>Ie(w,p(a).pointer=x,p(a)),()=>{var x;return(x=a())==null?void 0:x.pointer})};ce(E,$=>{v()&&$(L)})}P(e,S),_e(),r()}const Za={createOptions(e){e.dateClick=void 0,e.dragConstraint=void 0,e.dragScroll=!0,e.editable=!1,e.eventDragMinDistance=5,e.eventDragStart=void 0,e.eventDragStop=void 0,e.eventDrop=void 0,e.eventDurationEditable=!0,e.eventLongPressDelay=void 0,e.eventResizableFromStart=!1,e.eventResizeStart=void 0,e.eventResizeStop=void 0,e.eventResize=void 0,e.eventStartEditable=!0,e.longPressDelay=1e3,e.pointer=!1,e.resizeConstraint=void 0,e.select=void 0,e.selectBackgroundColor=void 0,e.selectConstraint=void 0,e.selectLongPressDelay=void 0,e.selectMinDistance=5,e.unselect=void 0,e.unselectAuto=!0,e.unselectCancel="",e.theme.draggable="ec-draggable",e.theme.ghost="ec-ghost",e.theme.preview="ec-preview",e.theme.pointer="ec-pointer",e.theme.resizer="ec-resizer",e.theme.start="ec-start",e.theme.dragging="ec-dragging",e.theme.resizingY="ec-resizing-y",e.theme.resizingX="ec-resizing-x",e.theme.selecting="ec-selecting"},createStores(e){e._auxiliary.update(t=>[...t,Xa])}};et(["pointerdown"]);et(["click"]);function Ja(e){return Ve([e.slotDuration,e.slotLabelInterval,e._slotTimeLimits,e._intlSlotLabel],t=>oa(qe(ut()),...t))}function Ka(e){return Ve([e.slotMinTime,e.slotMaxTime,e.flexibleSlotTimeLimits,e._viewDates,e._filteredEvents],t=>la(...t))}function Qa(e){if(!e.length)return;Pr(e);let t={columns:[],end:e[0].end};for(let n of e){let r=0;if(n.start<t.end){for(;r<t.columns.length&&!(t.columns[r].at(-1).end<=n.start);++r);n.end>t.end&&(t.end=n.end)}else t={columns:[],end:n.end};t.columns.length<r+1&&t.columns.push([]),t.columns[r].push(n),n.group=t,n.column=r}}function ja(e){let t="all-day",n;return e?(n=de(e)?e({text:t}):e,typeof n=="string"&&(n={html:n})):n={html:t},n}var eo=J("<time></time>"),to=J('<div><div></div> <!></div> <div role="row"><div><!></div> <!></div>',1);function On(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(u,"$allDayContent",n),s=()=>o(v,"$slotLabelInterval",n),l=()=>o(c,"$theme",n),d=()=>o(g,"$_times",n);let{allDayContent:u,slotLabelInterval:v,theme:c,_times:g}=Pe("state"),f=T(()=>ja(a())),_=T(()=>s()&&s().seconds<=0);var y=to(),w=j(y),h=ne(w);Et(h,(R,A)=>Se==null?void 0:Se(R,A),()=>i(f));var m=ie(h,2);Ye(m,1,d,bt,(R,A,H)=>{var U=eo();Et(U,(F,V)=>Se==null?void 0:Se(F,V),()=>i(A)[1]),re(()=>{q(U,1,`${l().time??""}${(H||i(_))&&i(A)[2]?"":" "+l().minor}`),ct(U,"datetime",i(A)[0])}),P(R,U)}),Q(w);var S=ie(w,2),C=ne(S),E=ne(C);{var L=R=>{var A=De(),H=j(A);Pt(H,()=>t.lines),P(R,A)};ce(E,R=>{t.lines&&R(L)})}Q(C);var $=ie(C,2);{var x=R=>{var A=De(),H=j(A);Pt(H,()=>t.children),P(R,A)};ce($,R=>{t.children&&R(x)})}Q(S),re(()=>{q(w,1,l().sidebar),q(h,1,l().sidebarTitle),q(S,1,l().days),q(C,1,l().lines)}),P(e,y),_e(),r()}var no=J("<div></div>"),ro=J("<div><div><!></div></div>");function io(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(f,"$_viewDates",n),s=()=>o(h,"$scrollTime",n),l=()=>o(_,"$_slotTimeLimits",n),d=()=>o(m,"$slotDuration",n),u=()=>o(S,"$slotHeight",n),v=()=>o(C,"$theme",n),c=()=>o(y,"$_times",n);let{_bodyEl:g,_viewDates:f,_slotTimeLimits:_,_times:y,_recheckScrollable:w,scrollTime:h,slotDuration:m,slotHeight:S,theme:C}=Pe("state"),E=Ge(void 0);rt(()=>{me(g,i(E))}),rt(()=>{a(),s(),p(L)});function L(){i(E).scrollTop=((s().seconds-l().min.seconds)/d().seconds-.5)*u()}var $=ro(),x=ne($),R=ne(x);On(R,{get children(){return t.children},lines:H=>{var U=De(),F=j(U);Ye(F,1,c,bt,(V,I)=>{var G=no();re(()=>q(G,1,`${v().line??""}${i(I)[2]?"":" "+v().minor}`)),P(V,G)}),P(H,U)},$$slots:{lines:!0}}),Q(x),Q($),yt($,A=>le(E,A),()=>i(E)),Et($,(A,H)=>Tn==null?void 0:Tn(A,H),()=>()=>me(w,!0)),re(()=>{q($,1,v().body),q(x,1,v().content)}),P(e,$),_e(),r()}function rn(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(v,"$slotDuration",n),s=()=>o(g,"$_slotTimeLimits",n),l=()=>o(c,"$slotHeight",n),d=()=>o(u,"$slotEventOverlap",n);let{slotEventOverlap:u,slotDuration:v,slotHeight:c,_slotTimeLimits:g}=Pe("state"),f=T(()=>t.chunk.event.display),_=T(()=>y=>{let w=a().seconds,h=s().min.seconds,m=(t.chunk.start-t.date)/1e3,S=(t.chunk.end-t.date)/1e3,C=(m-h)/w*l(),E=(S-m)/w*l()||l(),L=(s().max.seconds-m)/w*l();return y.top=`${C}px`,y["min-height"]=`${E}px`,y.height=`${E}px`,y["max-height"]=`${L}px`,(!ft(i(f))&&!Xt(i(f))||Ar(i(f)))&&(y["z-index"]=`${t.chunk.column+1}`,y.left=`${100/t.chunk.group.columns.length*t.chunk.column}%`,y.width=`${100/t.chunk.group.columns.length*(d()?.5*(1+t.chunk.group.columns.length-t.chunk.column):1)}%`),y});Fr(e,{get chunk(){return t.chunk},get styles(){return i(_)},axis:"y"}),_e(),r()}var ao=J("<div></div>");function oo(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(_,"$_now",n),s=()=>o(y,"$_today",n),l=()=>o(c,"$slotDuration",n),d=()=>o(w,"$_slotTimeLimits",n),u=()=>o(g,"$slotHeight",n),v=()=>o(f,"$theme",n);let{slotDuration:c,slotHeight:g,theme:f,_now:_,_today:y,_slotTimeLimits:w}=Pe("state"),h=T(()=>(a()-s())/1e3),m=T(()=>{let C=l().seconds,E=d().min.seconds;return(i(h)-E)/C*u()});var S=ao();re(()=>{q(S,1,v().nowIndicator),Gn(S,`top:${i(m)??""}px`)}),P(e,S),_e(),r()}var lo=J("<!> <!> <!>",1),so=J('<div role="cell"><div><!></div> <div><!></div> <div><!></div></div>');function co(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(V,"$_today",n),s=()=>o(E,"$highlightedDates",n),l=()=>o(U,"$validRange",n),d=()=>o(I,"$_slotTimeLimits",n),u=()=>o(R,"$filterEventsWithResources",n),v=()=>o(H,"$resources",n),c=()=>o(S,"$_filteredEvents",n),g=()=>o(C,"$_iEvents",n),f=()=>o($,"$slotDuration",n),_=()=>o(x,"$slotHeight",n),y=()=>o(A,"$theme",n),w=()=>o(F,"$_interaction",n),h=()=>o(L,"$nowIndicator",n);let m=Fe(t,"resource",3,void 0),{_filteredEvents:S,_iEvents:C,highlightedDates:E,nowIndicator:L,slotDuration:$,slotHeight:x,filterEventsWithResources:R,theme:A,resources:H,validRange:U,_interaction:F,_today:V,_slotTimeLimits:I}=Pe("state"),G=Ge(void 0),be=T(()=>je(t.date,a())),ae=T(()=>s().some(k=>je(k,t.date))),M=T(()=>Zn(t.date,l())),X=T(()=>se(B(t.date),d().min)),ee=T(()=>se(B(t.date),d().max)),Te=T(()=>m()??(u()?v():void 0)),ue=T(()=>{if(i(M))return[[],[]];let k=[],z=[];for(let K of c())if((!K.allDay||ft(K.display))&&cn(K,i(X),i(ee),i(Te))){let he=sn(K,i(X),i(ee));switch(K.display){case"background":z.push(he);break;default:k.push(he)}}return Qa(k),[k,z]}),N=T(()=>Wn(i(ue),2)),Ae=T(()=>i(N)[0]),Oe=T(()=>i(N)[1]),He=T(()=>i(M)?[]:g().map(k=>k&&cn(k,i(X),i(ee),m())?sn(k,i(X),i(ee)):null));function vt(k,z){return z-=At(i(G)).top,{allDay:!1,date:se(se(B(t.date),d().min),f(),Ai(z/_())),resource:m(),dayEl:i(G),disabled:i(M)}}dn(()=>{Xn(i(G),vt)});var we=so();we.__pointerdown=function(...k){var z,K;(K=i(M)||(z=w().action)==null?void 0:z.select)==null||K.apply(this,k)};var fe=ne(we),Le=ne(fe);{var Xe=k=>{var z=De(),K=j(z);Ye(K,17,()=>i(Oe),he=>he.event,(he,Ze)=>{rn(he,{get date(){return t.date},get chunk(){return i(Ze)}})}),P(k,z)};ce(Le,k=>{i(M)||k(Xe)})}Q(fe);var Re=ie(fe,2),ke=ne(Re);{var ve=k=>{var z=lo(),K=j(z);{var he=$e=>{rn($e,{get date(){return t.date},get chunk(){return i(He)[1]}})};ce(K,$e=>{i(He)[1]&&$e(he)})}var Ze=ie(K,2);Ye(Ze,17,()=>i(Ae),$e=>$e.event,($e,ht)=>{rn($e,{get date(){return t.date},get chunk(){return i(ht)}})});var Ht=ie(Ze,2);{var it=$e=>{rn($e,{get date(){return t.date},get chunk(){return i(He)[0]}})};ce(Ht,$e=>{i(He)[0]&&!i(He)[0].event.allDay&&$e(it)})}P(k,z)};ce(ke,k=>{i(M)||k(ve)})}Q(Re);var O=ie(Re,2),Z=ne(O);{var oe=k=>{oo(k,{})};ce(Z,k=>{h()&&i(be)&&!i(M)&&k(oe)})}Q(O),Q(we),yt(we,k=>le(G,k),()=>i(G)),re(k=>{q(we,1,`${y().day??""} ${k??""}${i(be)?" "+y().today:""}${i(ae)?" "+y().highlight:""}${i(M)?" "+y().disabled:""}`),q(fe,1,y().bgEvents),q(Re,1,y().events),q(O,1,y().extra)},[()=>{var k;return(k=y().weekdays)==null?void 0:k[t.date.getUTCDay()]}]),P(e,we),_e(),r()}et(["pointerdown"]);function Mn(e,t){ge(t,!0);let n=Fe(t,"longChunks",19,()=>({})),r=Ge(void 0),a=Ge(1),s=T(()=>t.chunk.event),l=T(()=>t.chunk.event.display),d=T(()=>v=>(ft(i(l))?v.width=`calc(${t.chunk.days*100}% + ${t.chunk.days-1}px)`:(v.width=`calc(${t.chunk.days*100}% + ${(t.chunk.days-1)*7}px)`,v["margin-top"]=`${i(s)._margin??i(a)}px`),v));function u(){i(r)&&le(a,Zi(t.chunk,n(),Bi(i(r))),!0)}return Fr(e,{get chunk(){return t.chunk},get styles(){return i(d)},axis:"x",forceMargin:()=>At(i(r)).top-At(Un(i(r),1)).top,get el(){return i(r)},set el(v){le(r,v,!0)}}),_e({reposition:u})}var uo=J("<div><!></div>"),fo=J('<div role="cell"><div><!></div> <!> <div><!></div></div>');function vo(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(w,"$_today",n),s=()=>o(g,"$highlightedDates",n),l=()=>o(_,"$validRange",n),d=()=>o(f,"$theme",n),u=()=>o(y,"$_interaction",n);let v=Fe(t,"iChunks",19,()=>[]),c=Fe(t,"resource",3,void 0),{highlightedDates:g,theme:f,validRange:_,_interaction:y,_today:w}=Pe("state"),h=Ge(void 0),m=[],S=T(()=>t.chunks.filter(M=>je(M.date,t.date))),C=T(()=>t.bgChunks.filter(M=>je(M.date,t.date))),E=T(()=>je(t.date,a())),L=T(()=>s().some(M=>je(M,t.date))),$=T(()=>Zn(t.date,l()));dn(()=>{Xn(i(h),()=>({allDay:!0,date:t.date,resource:c(),dayEl:i(h),disabled:i($)}))});function x(){i($)||Ir(m,i(S))}var R=fo();R.__pointerdown=function(...M){var X,ee;(ee=i($)||(X=u().action)==null?void 0:X.select)==null||ee.apply(this,M)};var A=ne(R),H=ne(A);{var U=M=>{var X=De(),ee=j(X);Ye(ee,17,()=>i(C),Te=>Te.event,(Te,ue)=>{Mn(Te,{get chunk(){return i(ue)}})}),P(M,X)};ce(H,M=>{i($)||M(U)})}Q(A);var F=ie(A,2);{var V=M=>{var X=uo(),ee=ne(X);Mn(ee,{get chunk(){return v()[0]}}),Q(X),re(()=>q(X,1,`${d().events??""} ${d().preview??""}`)),P(M,X)};ce(F,M=>{v()[0]&&je(v()[0].date,t.date)&&!i($)&&M(V)})}var I=ie(F,2),G=ne(I);{var be=M=>{var X=De(),ee=j(X);Ye(ee,19,()=>i(S),Te=>Te.event,(Te,ue,N)=>{yt(Mn(Te,{get chunk(){return i(ue)},get longChunks(){return t.longChunks}}),(Ae,Oe)=>m[Oe]=Ae,Ae=>m==null?void 0:m[Ae],()=>[i(N)])}),P(M,X)};ce(G,M=>{i($)||M(be)})}Q(I),Q(R),yt(R,M=>le(h,M),()=>i(h)),re(M=>{q(R,1,`${d().day??""} ${M??""}${i(E)?" "+d().today:""}${i(L)?" "+d().highlight:""}${i($)?" "+d().disabled:""}`),q(A,1,d().bgEvents),q(I,1,d().events)},[()=>{var M;return(M=d().weekdays)==null?void 0:M[t.date.getUTCDay()]}]),P(e,R);var ae=_e({reposition:x});return r(),ae}et(["pointerdown"]);function ho(e,t){ge(t,!0);const[n,r]=pe(),a=()=>o(h,"$validRange",n),s=()=>o(w,"$filterEventsWithResources",n),l=()=>o(y,"$resources",n),d=()=>o(g,"$_filteredEvents",n),u=()=>o(_,"$hiddenDays",n),v=()=>o(f,"$_iEvents",n);let c=Fe(t,"resource",3,void 0),{_filteredEvents:g,_iEvents:f,hiddenDays:_,resources:y,filterEventsWithResources:w,validRange:h}=Pe("state"),m=[],S=T(()=>br(t.dates[0],a())),C=T(()=>Dt(B(br(t.dates.at(-1),a())))),E=T(()=>c()??(s()?l():void 0)),L=T(()=>{let I=[],G=[];for(let ae of d())if(ae.allDay&&cn(ae,i(S),i(C),i(E))){let M=sn(ae,i(S),i(C));ft(ae.display)?G.push(M):I.push(M)}Sn(G,u());let be=Sn(I,u());return[I,G,be]}),$=T(()=>Wn(i(L),3)),x=T(()=>i($)[0]),R=T(()=>i($)[1]),A=T(()=>i($)[2]);function H(){Ir(m,t.dates)}rt(()=>{i(x),p(H)});let U=T(()=>v().map(I=>{let G;return I&&I.allDay&&cn(I,i(S),i(C),c())?(G=sn(I,i(S),i(C)),Sn([G],u())):G=null,G}));var F=De();xe("resize",st,H);var V=j(F);Ye(V,17,()=>t.dates,bt,(I,G,be)=>{yt(vo(I,{get date(){return i(G)},get chunks(){return i(x)},get bgChunks(){return i(R)},get longChunks(){return i(A)},get iChunks(){return i(U)},get resource(){return c()}}),(ae,M)=>m[M]=ae,ae=>m==null?void 0:m[ae],()=>[be])}),P(e,F),_e(),r()}var mo=J('<div role="columnheader"><time></time></div>'),go=J("<div><div><!> <div></div></div></div>"),_o=J("<div><!> <div></div></div> <!> <!>",1);function Tr(e,t){ge(t,!1);const[n,r]=pe(),a=()=>o(w,"$theme",n),s=()=>o(c,"$_viewDates",n),l=()=>o(_,"$_today",n),d=()=>o(f,"$_intlDayHeaderAL",n),u=()=>o(g,"$_intlDayHeader",n),v=()=>o(y,"$allDaySlot",n);let{_viewDates:c,_intlDayHeader:g,_intlDayHeaderAL:f,_today:_,allDaySlot:y,theme:w}=Pe("state");Yn();var h=_o(),m=j(h),S=ne(m);On(S,{children:(x,R)=>{var A=De(),H=j(A);Ye(H,1,s,bt,(U,F)=>{var V=mo(),I=ne(V);Et(I,(G,be)=>Se==null?void 0:Se(G,be),()=>u().format(i(F))),Q(V),re((G,be,ae,M)=>{q(V,1,`${a().day??""} ${G??""}${be??""}`),ct(I,"datetime",ae),ct(I,"aria-label",M)},[()=>{var G;return(G=a().weekdays)==null?void 0:G[i(F).getUTCDay()]},()=>je(i(F),l())?" "+a().today:"",()=>dt(i(F),10),()=>d().format(i(F))],yi),P(U,V)}),P(x,A)},$$slots:{default:!0}});var C=ie(S,2);Q(m);var E=ie(m,2);{var L=x=>{var R=go(),A=ne(R),H=ne(A);On(H,{children:(F,V)=>{ho(F,{get dates(){return s()}})},$$slots:{default:!0}});var U=ie(H,2);Q(A),Q(R),re(()=>{q(R,1,a().allDay),q(A,1,a().content),q(U,1,a().hiddenScroll)}),P(x,R)};ce(E,x=>{v()&&x(L)})}var $=ie(E,2);io($,{children:(x,R)=>{var A=De(),H=j(A);Ye(H,1,s,bt,(U,F)=>{co(U,{get date(){return i(F)}})}),P(x,A)},$$slots:{default:!0}}),re(()=>{q(m,1,a().header),q(C,1,a().hiddenScroll)}),P(e,h),_e(),r()}const yo={createOptions(e){e.buttonText.timeGridDay="day",e.buttonText.timeGridWeek="week",e.view="timeGridWeek",e.views.timeGridDay={buttonText:Qi,component:Tr,dayHeaderFormat:{weekday:"long"},duration:{days:1},theme:yr("ec-time-grid ec-day-view"),titleFormat:{year:"numeric",month:"long",day:"numeric"}},e.views.timeGridWeek={buttonText:ji,component:Tr,duration:{weeks:1},theme:yr("ec-time-grid ec-week-view")}},createStores(e){e._slotTimeLimits=Ka(e),e._times=Ja(e)}};et(["click"]);et(["pointerdown"]);var bo=(e,t)=>{le(t,e.currentTarget.value,!0)},wo=(e,t)=>{le(t,new Date(e.currentTarget.value),!0)},$o=(e,t)=>{le(t,new Date(e.currentTarget.value),!0)},Do=(e,t)=>le(t,e.currentTarget.value,!0),Co=(e,t)=>{var n;return(n=t())==null?void 0:n.closeModal()},To=J('<form><div class="form-grid svelte-l5tfc4"><label for="title" class="svelte-l5tfc4">Title</label> <input id="title" type="text" class="svelte-l5tfc4"/> <label for="start" class="svelte-l5tfc4">Start time</label> <input id="start" type="datetime-local" class="svelte-l5tfc4"/> <label for="end" class="svelte-l5tfc4">End time</label> <input id="end" type="datetime-local" class="svelte-l5tfc4"/> <label for="color" class="svelte-l5tfc4">Color</label> <input id="color" type="color" class="svelte-l5tfc4"/></div> <div class="form-actions svelte-l5tfc4"><button type="submit">Confirm</button> <button type="button">Cancel</button></div></form>');function ko(e,t){ge(t,!0);let n=Fe(t,"modal",15),r=Ge(""),a=Ge(""),s=Ge(null),l=Ge(null);yt($i(e,{title:"Edit Event",children:(d,u)=>{var v=To(),c=ne(v),g=ie(ne(c),2);tn(g),g.__input=[bo,r];var f=ie(g,4);tn(f),f.__input=[wo,s];var _=ie(f,4);tn(_),_.__input=[$o,l];var y=ie(_,4);tn(y),y.__input=[Do,a],Q(c);var w=ie(c,2),h=ie(ne(w),2);h.__click=[Co,n],Q(w),Q(v),re((m,S)=>{nn(g,t.event.title),nn(f,m),nn(_,S),nn(y,t.event.backgroundColor)},[()=>hr(t.event.start),()=>hr(t.event.end)]),xe("submit",v,async()=>{await Di(n(),t.dbWorker,i(r),i(a),t.event,i(s),i(l),t.updateEvent)}),P(d,v)},$$slots:{default:!0}}),d=>n(d),()=>n()),_e()}et(["input","click"]);var Eo=J("<!> <!>",1);function xo(e,t){ge(t,!0);let n=Ge(null),r=Ge(void 0);async function a(c){let g=new Date(c.event.start),f=new Date(c.event.end),_=await Ci(g,f);console.log("Resize toUpdate: ",_),await Ti(t.dbWorker,_.join(", "),`id = ${c.event.id}`)}let s=Er({view:"timeGridWeek",events:t.events,eventDidMount(c){c.el.addEventListener("click",()=>{var g;le(r,c.event,!0),(g=i(n))==null||g.showModal()})},eventDrop:a,eventResize:a,editable:!0});var l=Eo(),d=j(l);ko(d,{get dbWorker(){return t.dbWorker},updateEvent:async()=>{await t.refresh()},get modal(){return i(n)},set modal(c){le(n,c,!0)},get event(){return i(r)},set event(c){le(r,c,!0)}});var u=ie(d,2);const v=T(()=>[yo,Za]);Aa(u,{get plugins(){return i(v)},get options(){return s}}),P(e,l),_e()}const So=async e=>{if(!e)return;const t={Relaxing:"#6FCC68",Work:"#68A2CC"},n=[{name:"Reading",project:"Relaxing"},{name:"Gaming",project:"Relaxing"},{name:"FYP",project:"Work"}],r=await xi(e),a=new Set(r.map(c=>c.name));for(const[c,g]of Object.entries(t))a.has(c)||await Si(e,c,g);const s=await pi(e),l=new Set(s.map(c=>c.name));for(const c of n)l.has(c.name)||await Ri(e,c.name);const d=Date.now(),u=2*60*60*1e3,v=[{activityName:"Reading",projectName:"Relaxing",start:d,end:d+u},{activityName:"FYP",projectName:"Work",start:d+u,end:d+2*u},{activityName:"Gaming",projectName:"Relaxing",start:d-3*60*60*1e3,end:d-3*60*60*1e3+u}];for(const c of v)await ki(e,c.activityName,c.projectName,c.end-c.start,c.start,c.end)},po=async(e,t,n)=>{if(!i(t)){console.error("Worker not ready yet.");return}So(i(t)),await n()};var Ro=J("<button>Add test log</button> <!>",1),Mo=J("<p>Please wait while the calendar loads</p>");function qo(e,t){ge(t,!0);let n=Ge(null),r=Ge(Er([]));const a=g=>g.map(f=>({id:f.id,title:f.activity,start:new Date(f.start),end:new Date(f.end),backgroundColor:f.project_color}));async function s(){i(n)&&le(r,a(await Ei(i(n))),!0)}dn(async()=>{const g=await li(()=>import("../chunks/BVjkO3Q2.js"),[],import.meta.url);le(n,wi(new g.default),!0),await i(n).initWorker(),await s()});var d=De(),u=j(d);{var v=g=>{var f=Ro(),_=j(f);_.__click=[po,n,s];var y=ie(_,2);bi(y,()=>i(r),w=>{xo(w,{get dbWorker(){return i(n)},get events(){return i(r)},refresh:s})}),P(g,f)},c=g=>{var f=Mo();P(g,f)};ce(u,g=>{i(n)?g(v):g(c,!1)})}P(e,d),_e()}et(["click"]);export{qo as component};
