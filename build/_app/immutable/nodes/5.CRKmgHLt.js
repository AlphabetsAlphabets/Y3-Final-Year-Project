import{d as F,f as h,a as c,p as N,c as G}from"../chunks/BWJJ8Nft.js";import"../chunks/C-QMSnhD.js";import{p as H,i as j,b as q,_ as J}from"../chunks/DM5Mwux_.js";import{A as D,G as i,B as W,F as b,H as _,C as T,j as s,D as A,z as f,I,al as K,az as Q}from"../chunks/DtPNIzaT.js";import{k as U}from"../chunks/nN7pxkfg.js";import{w as X}from"../chunks/B8fJUUNV.js";import{b as L,a as Z,d as $,c as ee,T as te,l as ae}from"../chunks/Ct-RL1iB.js";import{r as O,s as se}from"../chunks/Bsg0kGkC.js";import{s as B}from"../chunks/D7PZLOxe.js";import{s as re,e as oe}from"../chunks/C9ip0I7f.js";import{M as le}from"../chunks/en4OGELR.js";const ie=async(l,t,e,a,n)=>{t.dbWorker?e(await Z(t.dbWorker,s(a),s(n))):console.error("Worker is not ready. Please try again.")};var ne=h('<header class="svelte-xt44rj"><h1 class="svelte-xt44rj">Tasks</h1> <p class="svelte-xt44rj">Stay organized and get things done.</p></header> <div class="add-task-wrapper svelte-xt44rj"><div class="task-inputs svelte-xt44rj"><input type="text" placeholder="e.g., Finish project report" class="svelte-xt44rj"/> <input type="text" class="description-input svelte-xt44rj" placeholder="description"/></div> <button aria-label="Add new task" class="svelte-xt44rj"><i class="bi bi-plus-lg svelte-xt44rj"></i> <span>Add Task</span></button></div>',1);function ve(l,t){D(t,!0);let e=H(t,"tasks",15),a=T(""),n=T("");var r=ne(),k=i(W(r),2),m=b(k),d=b(m);O(d);var x=i(d,2);O(x),_(m);var v=i(m,2);v.__click=[ie,t,e,a,n],_(k),L(d,()=>s(a),g=>f(a,g)),L(x,()=>s(n),g=>f(n,g)),c(l,r),A()}F(["click"]);var ce=(l,t)=>{var e;return(e=s(t))==null?void 0:e.showModal()},de=h('<span class="tooltip svelte-1ffcuub">Delete all COMPLETED tasks</span>'),ue=(l,t,e)=>{var a;t.yesAction(),(a=s(e))==null||a.closeModal()},_e=(l,t)=>{var e;return(e=s(t))==null?void 0:e.closeModal()},ke=h("<!> <button>Yes</button> <button>No</button>",1),me=h('<button class="delete-all-btn svelte-1ffcuub" aria-label="Delete all completed tasks"><i class="bi bi-trash"></i> <!></button> <div class="message-modal-wrapper svelte-1ffcuub"><!></div>',1);function pe(l,t){D(t,!0);let e=T(null),a=T(!1);var n=me(),r=W(n);r.__click=[ce,e];var k=i(b(r),2);{var m=v=>{var g=de();c(v,g)};j(k,v=>{s(a)&&v(m)})}_(r);var d=i(r,2),x=b(d);q(le(x,{get title(){return t.title},children:(v,g)=>{var o=ke(),u=W(o);re(u,()=>t.children);var p=i(u,2);p.__click=[ue,t,e];var w=i(p,2);w.__click=[_e,e],c(v,o)},$$slots:{default:!0}}),v=>f(e,v,!0),()=>s(e)),_(d),N("mouseenter",r,()=>f(a,!0)),N("mouseleave",r,()=>f(a,!1)),c(l,n),A()}F(["click"]);var be=(l,t)=>f(t,!s(t)),fe=h("<p>Are you sure you want to delete all completed tasks?</p>"),he=async(l,t,e,a)=>{t.dbWorker?e(await ee(t.dbWorker,s(a).id)):console.error("Worker not ready. Please wait.")},ge=h('<li class="task-item svelte-mroz56"><button aria-label="Finish task" class="checkbox svelte-mroz56"><i class="bi bi-check svelte-mroz56"></i></button> <span class="task-name svelte-mroz56"> </span> <small> </small> <button class="delete-btn svelte-mroz56" aria-label="Delete task"><i class="bi bi-trash"></i></button></li>'),we=h('<ul class="task-list svelte-mroz56"></ul>'),xe=h('<div class="tasks-section svelte-mroz56"><div class="section-header svelte-mroz56"><button class="section-title-button svelte-mroz56"><h2 class="section-title svelte-mroz56">Done</h2> <i></i></button> <!></div> <!></div>');function ye(l,t){D(t,!0);let e=H(t,"tasks",15),a=T(!0);var n=xe(),r=b(n),k=b(r);k.__click=[be,a];var m=i(b(k),2);let d;_(k);var x=i(k,2);pe(x,{title:"Are you sure?",yesAction:async()=>e(await $(t.dbWorker)),children:(o,u)=>{var p=fe();c(o,p)},$$slots:{default:!0}}),_(r);var v=i(r,2);{var g=o=>{var u=we();oe(u,21,e,p=>p.id,(p,w)=>{var z=G(),y=W(z);{var R=M=>{var P=ge(),C=i(b(P),2),S=b(C,!0);_(C);var E=i(C,2),V=b(E,!0);_(E);var Y=i(E,2);Y.__click=[he,t,e,w],_(P),I(()=>{B(S,s(w).name),B(V,s(w).description)}),c(M,P)};j(y,M=>{s(w).completed&&M(R)})}c(p,z)}),_(u),c(o,u)};j(v,o=>{s(a)||o(g)})}_(n),I(o=>d=se(m,1,"bi bi-chevron-down svelte-mroz56",null,d,o),[()=>({rotated:s(a)})]),c(l,n),A()}F(["click"]);var Te=h("<!> <!> <!>",1),We=h("<p>Please wait while the app loads.</p>"),ze=h('<div class="container svelte-1eux5ee"><!></div>');function je(l,t){D(t,!0);let e=T(null),a=T(K([]));Q(async()=>{const m=await J(()=>import("../chunks/BVjkO3Q2.js"),[],import.meta.url);f(e,X(new m.default),!0),await s(e).initWorker(),f(a,await ae(s(e)),!0)});var r=ze(),k=b(r);U(k,()=>s(e),m=>{var d=G(),x=W(d);{var v=o=>{var u=Te(),p=W(u);ve(p,{get dbWorker(){return s(e)},get tasks(){return s(a)},set tasks(y){f(a,y,!0)}});var w=i(p,2);ye(w,{get dbWorker(){return s(e)},get tasks(){return s(a)},set tasks(y){f(a,y,!0)}});var z=i(w,2);te(z,{get dbWorker(){return s(e)},get tasks(){return s(a)},set tasks(y){f(a,y,!0)}}),c(o,u)},g=o=>{var u=We();c(o,u)};j(x,o=>{s(e)?o(v):o(g,!1)})}c(m,d)}),_(r),c(l,r),A()}function Be(l){je(l,{})}export{Be as component};
