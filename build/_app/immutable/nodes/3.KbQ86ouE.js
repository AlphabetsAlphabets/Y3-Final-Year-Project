import{p as We,i as le,b as yt,_ as li}from"../chunks/3Dlza38i.js";import{c as be,a as P,f as J,g as Se,d as rt}from"../chunks/C2cYCDAH.js";import{ai as Er,g as M,aj as si,k as di,s as ci,al as ui,t as fi,aW as Xe,ah as Ye,aX as vi,y as on,aB as Pn,A as ge,aY as Ie,aZ as hi,a_ as mi,B as ee,j as r,D as _e,I as ae,F as te,H as j,w as Yt,z as K,aC as E,f as Be,a$ as gi,G as ie,aA as cn,b0 as Gn,v as _i,b1 as st,C as xe,M as yi,am as In}from"../chunks/BZCZPUy_.js";import{k as bi}from"../chunks/DJXMaYaD.js";import{w as wi}from"../chunks/B8fJUUNV.js";import{c as Yn}from"../chunks/CcSLjgTl.js";import{s as q,a as dt,b as qn,f as hr,r as tn,i as Di,e as nn,d as $i}from"../chunks/CC_dDezr.js";import{s as pe,a as o,b as me,d as ze}from"../chunks/DeFZ_gIw.js";import{e as Ne,i as bt,s as Pt}from"../chunks/TFHsxczQ.js";import"../chunks/CV4--SW5.js";import{s as Ln}from"../chunks/BTy8cjxq.js";import{i as Vn}from"../chunks/Cxcfmy8c.js";import{M as ki}from"../chunks/D9K11hyb.js";import{f as Ci,l as Ti}from"../chunks/Cn_idqSd.js";import{f as mr,h as Ei,e as Si,g as xi,u as Ri,i as pi,l as Mi}from"../chunks/Bg3a6fG9.js";function Et(e,t,n){Er(()=>{var i=M(()=>t(e,n==null?void 0:n())||{});if(n&&(i!=null&&i.update)){var a=!1,s={};si(()=>{var l=n();di(l),a&&ci(s,l)&&(s=l,i.update(l))}),a=!0}if(i!=null&&i.destroy)return()=>i.destroy()})}function wt(e,t,n){var i=ui(e,t);i&&i.set&&(e[t]=n,fi(()=>{e[t]=null}))}function Pi(e){return function(t){return t.key==="Enter"||t.key===" "&&!t.preventDefault()?e.call(this,t):void 0}}function Re(e,t){let n={update(i){typeof i=="string"?e.innerText=i:i!=null&&i.domNodes?e.replaceChildren(...i.domNodes):i!=null&&i.html&&(e.innerHTML=i.html)}};return n.update(t),n}function Cn(e,t){let n=new ResizeObserver(i=>{for(let a of i)t(a)});return n.observe(e),{destroy(){n.unobserve(e)}}}const zn=86400;function ut(e=void 0){return e!==void 0?e instanceof Date?_r(e):Li(e):_r(new Date)}function Pe(e){if(typeof e=="number")e={seconds:e};else if(typeof e=="string"){let n=0,i=2;for(let a of e.split(":",3))n+=parseInt(a,10)*Math.pow(60,i--);e={seconds:n}}else e instanceof Date&&(e={hours:e.getUTCHours(),minutes:e.getUTCMinutes(),seconds:e.getUTCSeconds()});let t=e.weeks||e.week||0;return{years:e.years||e.year||0,months:e.months||e.month||0,days:t*7+(e.days||e.day||0),seconds:(e.hours||e.hour||0)*60*60+(e.minutes||e.minute||0)*60+(e.seconds||e.second||0),inWeeks:!!t}}function N(e){return new Date(e.getTime())}function de(e,t,n=1){e.setUTCFullYear(e.getUTCFullYear()+n*t.years);let i=e.getUTCMonth()+n*t.months;for(e.setUTCMonth(i),i%=12,i<0&&(i+=12);e.getUTCMonth()!==i;)It(e);return e.setUTCDate(e.getUTCDate()+n*t.days),e.setUTCSeconds(e.getUTCSeconds()+n*t.seconds),e}function an(e,t,n=1){return de(e,t,-n)}function $t(e,t=1){return e.setUTCDate(e.getUTCDate()+t),e}function It(e,t=1){return $t(e,-t)}function Ve(e){return e.setUTCHours(0,0,0,0),e}function Fe(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function ct(e,t=19){return e.toISOString().substring(0,t)}function et(e,...t){return t.every(n=>e.getTime()===n.getTime())}function Ii(e,t){let n=t-e.getUTCDay();return e.setUTCDate(e.getUTCDate()+(n>=0?n:n+7)),e}function Sr(e,t){let n=t-e.getUTCDay();return e.setUTCDate(e.getUTCDate()+(n<=0?n:n-7)),e}function gr(e){return typeof e=="string"&&e.length<=10}function Hn(e,t){return e.setUTCHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),0),e}function je(e){return e.seconds}function An(e,t){return de(e,t),e}function Un(e,t,n){if(an(e,t),n.length&&n.length<7)for(;n.includes(e.getUTCDay());)It(e);return e}function _r(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()))}function Li(e){const t=e.match(/\d+/g);return new Date(Date.UTC(Number(t[0]),Number(t[1])-1,Number(t[2]),Number(t[3]||0),Number(t[4]||0),Number(t[5]||0)))}function Lt(...e){return Object.assign(...e)}function _t(e){return Object.keys(e)}function zi(e){return Object.entries(e)}function Hi(e){return Math.floor(e)}function Dt(...e){return Math.min(...e)}function gt(...e){return Math.max(...e)}function Ai(){return Symbol("ec")}function Xn(e){return Array.isArray(e)}function ce(e){return typeof e=="function"}function Ui(e){return e()}function xr(e){e.forEach(Ui)}function Fi(){}const Fn=e=>e;function Rr(e,t,n){n.update(i=>i.set(t,e))}function Wi(e){xr(e),e.clear()}function Oi(e,t,n){t??(t=e),n.has(t)||n.set(t,setTimeout(()=>{n.delete(t),e()}))}let Zn=Ai();function Kn(e,t){e[Zn]=t}function Bi(e){return!!(e!=null&&e[Zn])}function Vt(e){return e[Zn]}function pr(e,t,n,i=[]){let a=document.createElement(e);a.className=t,typeof n=="string"?a.innerText=n:n.domNodes?a.replaceChildren(...n.domNodes):n.html&&(a.innerHTML=n.html);for(let s of i)a.setAttribute(...s);return a}function Ni(e){return e.scrollHeight>e.clientHeight}function zt(e){return e.getBoundingClientRect()}function Wn(e,t){for(;t--;)e=e.parentElement;return e}function Gi(e){return zt(e).height}function Mt(e,t,n=document,i=[]){i.push(n);for(let a of n.elementsFromPoint(e,t)){if(Bi(a))return a;if(a.shadowRoot&&!i.includes(a.shadowRoot)){let s=Mt(e,t,a.shadowRoot,i);if(s)return s}}return null}function qt(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function Yi(e,t,n,i){return{type:e,title:t,currentStart:n.start,currentEnd:n.end,activeStart:i.start,activeEnd:i.end,calendar:void 0}}function Oe(e){return e=Lt({},e),e.currentStart=Fe(e.currentStart),e.currentEnd=Fe(e.currentEnd),e.activeStart=Fe(e.activeStart),e.activeEnd=Fe(e.activeEnd),e}function Mr(e){return e.startsWith("list")}function Tn(e){return e.includes("Timeline")}let qi=1;function ln(e){return e.map(t=>{let n={id:"id"in t?String(t.id):`{generated-${qi++}}`,resourceIds:En(t,"resourceId").map(String),allDay:t.allDay??(gr(t.start)&&gr(t.end)),start:ut(t.start),end:ut(t.end),title:t.title??"",editable:t.editable,startEditable:t.startEditable,durationEditable:t.durationEditable,display:t.display??"auto",extendedProps:t.extendedProps??{},backgroundColor:t.backgroundColor??t.color,textColor:t.textColor,classNames:En(t,"className"),styles:En(t,"style")};if(n.allDay){Ve(n.start);let i=N(n.end);Ve(n.end),(!et(n.end,i)||et(n.end,n.start))&&$t(n.end)}return n})}function En(e,t){let n=e[t+"s"]??e[t]??[];return Xn(n)?n:[n]}function Vi(e){return e.map(t=>({events:t.events,url:t.url&&t.url.trimEnd("&")||"",method:t.method&&t.method.toUpperCase()||"GET",extraParams:t.extraParams||{}}))}function sn(e,t,n){let i={start:e.start>t?e.start:t,end:e.end<n?e.end:n,event:e};return i.zeroDuration=et(i.start,i.end),i}function Pr(e){e.sort((t,n)=>t.start-n.start||n.event.allDay-t.event.allDay)}function Xi(e,t,n,i,a,s){let l=a.formatRange(e.start,t&&e.event.display!=="pointer"&&!e.zeroDuration?Hn(N(e.start),e.end):e.start),c;if(n&&(c=ce(n)?n({event:qe(e.event),timeText:l,view:Oe(s)}):n),c===void 0){let f;switch(e.event.display){case"background":f=[];break;case"pointer":f=[yr(l,e,i)];break;default:f=[...e.event.allDay?[]:[yr(l,e,i)],pr("h4",i.eventTitle,e.event.title)]}c={domNodes:f}}return[l,c]}function yr(e,t,n){return pr("time",n.eventTime,e,[["datetime",ct(t.start)]])}function Zi(e,t,n){let i=t.classNames;return e&&(ce(e)&&(e=e({event:qe(t),view:Oe(n)})),i=[...Xn(e)?e:[e],...i]),i}function qe(e){return Ir(e,Fe)}function Sn(e){return Ir(e,N)}function Ir(e,t){return e=Lt({},e),e.start=t(e.start),e.end=t(e.end),e}function xn(e,t){let n={};if(e.length){Pr(e);let i;for(let a of e){let s=[],l=Ve(N(a.start));for(;a.end>l;){if(!t.includes(l.getUTCDay())&&(s.push(N(l)),s.length>1)){let c=l.getTime();n[c]?n[c].chunks.push(a):n[c]={sorted:!1,chunks:[a]}}$t(l)}if(s.length){a.date=s[0],a.days=s.length,a.dates=s,a.start<s[0]&&(a.start=s[0]);let c=$t(N(s.at(-1)));a.end>c&&(a.end=c)}else a.date=Ve(N(a.start)),a.days=1,a.dates=[a.date];i&&et(i.date,a.date)&&(a.prev=i),i=a}}return n}function Ki(e,t,n){e.top=0,e.prev&&(e.top=e.prev.bottom+1),e.bottom=e.top+n;let i=1,a=e.date.getTime();if(t[a]){t[a].sorted||(t[a].chunks.sort((s,l)=>s.top-l.top),t[a].sorted=!0);for(let s of t[a].chunks)if(e.top<s.bottom&&e.bottom>s.top){let l=s.bottom-e.top+1;i+=l,e.top+=l,e.bottom+=l}}return i}function Lr(e,t){var i;e.length=t.length;let n=[];for(let a of e)n.push((i=a==null?void 0:a.reposition)==null?void 0:i.call(a));return n}function dn(e,t,n,i){return e.start<n&&e.end>t?i?(Xn(i)||(i=[i]),i.some(a=>e.resourceIds.includes(a.id))):!0:!1}function Xt(e){return Ji(e)||zr(e)||Qi(e)}function ft(e){return e==="background"}function Ji(e){return e==="preview"}function zr(e){return e==="ghost"}function Qi(e){return e==="pointer"}function ji(e){return Hr(e,"day")}function ea(e){return Hr(e,"week")}function Hr(e,t){return{...e,next:"Next "+t,prev:"Previous "+t}}function br(e){return t=>({...t,view:e})}function ta(e){let t,n;return e&&({start:t,end:n}=e,t&&(t=Ve(ut(t))),n&&(n=Ve(ut(n)))),{start:t,end:n}}function Jn(e,t){return t.start&&e<t.start||t.end&&e>t.end}function wr(e,t){return t.start&&e<t.start&&(e=t.start),t.end&&e>t.end&&(e=t.end),e}function na(e){let t=[];return Ar(e,0,t),t}function Ar(e,t,n){let i=[];for(let a of e){let s=ra(a);i.push(s),n.push(s);let l={level:t,children:[],expanded:!0,hidden:!1};Kn(s,l),a.children&&(l.children=Ar(a.children,t+1,n))}return i}function ra(e){return{id:String(e.id),title:e.title||"",eventBackgroundColor:e.eventBackgroundColor,eventTextColor:e.eventTextColor,extendedProps:e.extendedProps??{}}}function ia(e,t){var n;return(n=Ur(e,t))==null?void 0:n.eventBackgroundColor}function aa(e,t){var n;return(n=Ur(e,t))==null?void 0:n.eventTextColor}function Ur(e,t){return t.find(n=>e.resourceIds.includes(n.id))}function Rn(e,t){return Xe([e,t],([n,i])=>{let a=ce(i)?{format:i}:new Intl.DateTimeFormat(n,i);return{format:s=>a.format(Fe(s))}})}function Dr(e,t){return Xe([e,t],([n,i])=>{let a;if(ce(i))a=i;else{let s=new Intl.DateTimeFormat(n,i);a=(l,c)=>{if(l<=c)return s.formatRange(l,c);{let f=s.formatRangeToParts(c,l),v="",d=["startRange","endRange"],b=[!1,!1];for(let h of f){let D=d.indexOf(h.source);D>=0?b[D]||(v+=oa(d[1-D],f),b[D]=!0):v+=h.value}return v}}}return{formatRange:(s,l)=>a(Fe(s),Fe(l))}})}function oa(e,t){let n="";for(let i of t)i.source==e&&(n+=i.value);return n}function la(e,t,n,i,a){e=N(e);let s=[],l=N(e);de(e,i.min),de(l,i.max),n===void 0&&(n=t.seconds<3600?Pe(t.seconds*2):t);let c=N(e);for(;e<l;){for(s.push([ct(e),a.format(e),e>=c]);n.seconds&&e>=c;)de(c,n);de(e,t)}return s}function sa(e,t,n,i,a){let s=Pe(e),l=Pe(t);if(n){let c=Pe(Dt(je(s),gt(0,je(l)-zn))),f=Pe(gt(je(l),je(c)+zn)),v=ce(n==null?void 0:n.eventFilter)?n.eventFilter:d=>!ft(d.display);e:for(let d of i){let b=de(N(d),s),h=de(N(d),l),D=de(N(d),c),_=de(N(d),f);for(let w of a)if(!w.allDay&&v(w)&&w.start<_&&w.end>D){if(w.start<b){let u=gt((w.start-d)/1e3,je(c));u<je(s)&&(s.seconds=u)}if(w.end>h){let u=Dt((w.end-d)/1e3,je(f));u>je(l)&&(l.seconds=u)}if(je(s)===je(c)&&je(l)===je(f))break e}}}return{min:s,max:l}}function da(e){var n;let t={allDayContent:void 0,allDaySlot:!0,buttonText:{today:"today"},customButtons:{},date:new Date,datesSet:void 0,dayHeaderFormat:{weekday:"short",month:"numeric",day:"numeric"},dayHeaderAriaLabelFormat:{dateStyle:"full"},displayEventEnd:!0,duration:{weeks:1},events:[],eventAllUpdated:void 0,eventBackgroundColor:void 0,eventClassNames:void 0,eventClick:void 0,eventColor:void 0,eventContent:void 0,eventDidMount:void 0,eventFilter:void 0,eventMouseEnter:void 0,eventMouseLeave:void 0,eventSources:[],eventTextColor:void 0,eventTimeFormat:{hour:"numeric",minute:"2-digit"},filterEventsWithResources:!1,filterResourcesWithEvents:!1,firstDay:0,flexibleSlotTimeLimits:!1,headerToolbar:{start:"title",center:"",end:"today prev,next"},height:void 0,hiddenDays:[],highlightedDates:[],lazyFetching:!0,loading:void 0,locale:void 0,nowIndicator:!1,resourceLabelContent:void 0,resourceLabelDidMount:void 0,resources:[],selectable:!1,scrollTime:"06:00:00",slotDuration:"00:30:00",slotEventOverlap:!0,slotHeight:24,slotLabelInterval:void 0,slotLabelFormat:{hour:"numeric",minute:"2-digit"},slotMaxTime:"24:00:00",slotMinTime:"00:00:00",slotWidth:72,theme:{allDay:"ec-all-day",active:"ec-active",bgEvent:"ec-bg-event",bgEvents:"ec-bg-events",body:"ec-body",button:"ec-button",buttonGroup:"ec-button-group",calendar:"ec",content:"ec-content",day:"ec-day",dayHead:"ec-day-head",days:"ec-days",disabled:"ec-disabled",event:"ec-event",eventBody:"ec-event-body",eventTime:"ec-event-time",eventTitle:"ec-event-title",events:"ec-events",extra:"ec-extra",handle:"ec-handle",header:"ec-header",hiddenScroll:"ec-hidden-scroll",highlight:"ec-highlight",icon:"ec-icon",line:"ec-line",lines:"ec-lines",minor:"ec-minor",nowIndicator:"ec-now-indicator",otherMonth:"ec-other-month",resource:"ec-resource",sidebar:"ec-sidebar",sidebarTitle:"ec-sidebar-title",today:"ec-today",time:"ec-time",title:"ec-title",toolbar:"ec-toolbar",view:"",weekdays:["ec-sun","ec-mon","ec-tue","ec-wed","ec-thu","ec-fri","ec-sat"],withScroll:"ec-with-scroll"},titleFormat:{year:"numeric",month:"short",day:"numeric"},validRange:void 0,view:void 0,viewDidMount:void 0,views:{}};for(let i of e)(n=i.createOptions)==null||n.call(i,t);return t}function ca(e){var n;let t={date:i=>Ve(ut(i)),duration:Pe,events:ln,eventSources:Vi,hiddenDays:i=>[...new Set(i)],highlightedDates:i=>i.map(a=>Ve(ut(a))),resources:na,scrollTime:Pe,slotDuration:Pe,slotLabelInterval:i=>i!==void 0?Pe(i):void 0,slotMaxTime:Pe,slotMinTime:Pe,validRange:ta};for(let i of e)(n=i.createParsers)==null||n.call(i,t);return t}function ua(e,t){let n=[];for(let i of _t(e))e[i]!==t[i]&&n.push([i,e[i]]);return n}function fa(e){return Xe(e.view,t=>t==null?void 0:t.startsWith("dayGrid"))}function va(e){return Xe([e._currentRange,e.firstDay,e.slotMaxTime,e._dayGrid],([t,n,i,a])=>{let s=N(t.start),l=N(t.end);if(a)Sr(s,n),Ii(l,n);else if(i.days||i.seconds>zn){de(It(l),i);let c=It(N(l));c<s&&(s=c)}return{start:s,end:l}})}function ha(e){return Xe([e.date,e.duration,e.firstDay],([t,n,i])=>{let a=N(t),s;return n.months?a.setUTCDate(1):n.inWeeks&&Sr(a,i),s=de(N(a),n),{start:a,end:s}})}function ma(e){return Xe([e._activeRange,e.hiddenDays],([t,n])=>{let i=[],a=Ve(N(t.start)),s=Ve(N(t.end));for(;a<s;)n.includes(a.getUTCDay())||i.push(N(a)),$t(a);return!i.length&&n.length&&n.length<7&&(e.date.update(l=>{for(;n.includes(l.getUTCDay());)$t(l);return l}),i=on(e._viewDates)),i})}function ga(e){return Xe([e.date,e._activeRange,e._intlTitle,e._dayGrid],([t,n,i,a])=>a?i.formatRange(t,t):i.formatRange(n.start,It(N(n.end))))}function _a(e){return Xe([e.view,e._viewTitle,e._currentRange,e._activeRange],t=>Yi(...t))}function ya(e){let t=Ye([]),n,i=0,a={};return Xe([e.events,e.eventSources,e._activeRange,e._fetchedRange,e.lazyFetching,e.loading],(s,l)=>Rr(()=>{let[c,f,v,d,b,h]=s;if(!f.length){l(c);return}if(!d.start||d.start>v.start||d.end<v.end||!b){n&&n.abort(),n=new AbortController,ce(h)&&!i&&h(!0);let D=()=>{--i===0&&ce(h)&&h(!1)},_=[],w=k=>D(),u=k=>{_=_.concat(ln(k)),l(_),D()},m=ct(v.start),x=ct(v.end);for(let k of f){if(ce(k.events)){let g=k.events({start:Fe(v.start),end:Fe(v.end),startStr:m,endStr:x},u,w);g!==void 0&&Promise.resolve(g).then(u,w)}else{let g=ce(k.extraParams)?k.extraParams():Lt({},k.extraParams);g.start=m,g.end=x,g=new URLSearchParams(g);let R=k.url,y={},C;["GET","HEAD"].includes(k.method)?R+=(R.includes("?")?"&":"?")+g:(y["content-type"]="application/x-www-form-urlencoded;charset=UTF-8",C=String(g)),fetch(R,{method:k.method,headers:y,body:C,signal:n.signal,credentials:"same-origin"}).then(p=>p.json()).then(u).catch(w)}++i}d.start=v.start,d.end=v.end}},a,e._queue),[]).subscribe(t.set),t}function ba(e){let t;e._view.subscribe(i=>t=i);let n={};return Xe([e._events,e.eventFilter],(i,a)=>Rr(()=>{let[s,l]=i;a(ce(l)?s.filter((c,f,v)=>l({event:c,index:f,events:v,view:t})):s)},n,e._queue),[])}function wa(){return vi(ut(),e=>{let t=setInterval(()=>{e(ut())},1e3);return()=>clearInterval(t)})}function Da(e){return Xe(e._now,t=>Ve(N(t)))}class $a{constructor(t,n){var l,c;t=t||[];let i=da(t),a=ca(t);i=On(i,a),n=On(n,a);for(let[f,v]of Object.entries(i))this[f]=Ye(v);this._queue=Ye(new Map),this._tasks=new Map,this._auxiliary=Ye([]),this._dayGrid=fa(this),this._currentRange=ha(this),this._activeRange=va(this),this._fetchedRange=Ye({start:void 0,end:void 0}),this._events=ya(this),this._now=wa(),this._today=Da(this),this._intlEventTime=Dr(this.locale,this.eventTimeFormat),this._intlSlotLabel=Rn(this.locale,this.slotLabelFormat),this._intlDayHeader=Rn(this.locale,this.dayHeaderFormat),this._intlDayHeaderAL=Rn(this.locale,this.dayHeaderAriaLabelFormat),this._intlTitle=Dr(this.locale,this.titleFormat),this._bodyEl=Ye(void 0),this._scrollable=Ye(!1),this._recheckScrollable=Ye(!1),this._viewTitle=ga(this),this._viewDates=ma(this),this._view=_a(this),this._viewComponent=Ye(void 0),this._filteredEvents=ba(this),this._interaction=Ye({}),this._iEvents=Ye([null,null]),this._iClasses=Ye(Fn),this._iClass=Ye(void 0),this._set=(f,v)=>{Bn(f,this)&&(a[f]&&(v=a[f](v)),this[f].set(v))},this._get=f=>Bn(f,this)?on(this[f]):void 0;for(let f of t)(l=f.createStores)==null||l.call(f,this);n.view&&this.view.set(n.view);let s=new Set([..._t(i.views),..._t(n.views??{})]);for(let f of s){let v=$r(i,i.views[f]??{}),d=$r(v,n,((c=n.views)==null?void 0:c[f])??{}),b=d.component;ka(d,this);for(let h of _t(d)){let{set:D,_set:_=D,...w}=this[h];this[h]={set:["buttonText","theme"].includes(h)?u=>{if(ce(u)){let m=u(v[h]);d[h]=m,D(D===_?m:u)}else d[h]=u,D(u)}:u=>{d[h]=u,D(u)},_set:_,...w}}this.view.subscribe(h=>{if(h===f){this._viewComponent.set(b),ce(d.viewDidMount)&&Pn().then(()=>d.viewDidMount({view:Oe(on(this._view))}));for(let D of _t(d))this[D]._set(d[D])}})}}}function On(e,t){let n={...e};for(let i of _t(t))i in n&&(n[i]=t[i](n[i]));if(e.views){n.views={};for(let i of _t(e.views))n.views[i]=On(e.views[i],t)}return n}function $r(...e){let t={};for(let n of e){let i={};for(let a of["buttonText","theme"])ce(n[a])&&(i[a]=n[a](t[a]));t={...t,...n,...i}}return t}function ka(e,t){_t(e).filter(n=>!Bn(n,t)||n==="view").forEach(n=>delete e[n])}function Bn(e,t){return t.hasOwnProperty(e)&&e[0]!=="_"}var Ca=J("<h2></h2>"),Ta=J("<button><i></i></button>"),Ea=J("<button><i></i></button>"),Sa=J("<button> </button>"),xa=J("<button></button>"),Ra=J("<button> </button>");function kr(e,t){ge(t,!1);const[n,i]=pe(),a=()=>o(L,"$validRange",n),s=()=>o(R,"$date",n),l=()=>o(y,"$duration",n),c=()=>o(C,"$hiddenDays",n),f=()=>o(u,"$_currentRange",n),v=()=>o(x,"$_viewDates",n),d=()=>o(p,"$theme",n),b=()=>o(m,"$_viewTitle",n),h=()=>o(k,"$buttonText",n),D=()=>o(g,"$customButtons",n),_=()=>o(z,"$view",n);let w=We(t,"buttons",8),{_currentRange:u,_viewTitle:m,_viewDates:x,buttonText:k,customButtons:g,date:R,duration:y,hiddenDays:C,theme:p,validRange:L,view:z}=Ie("state"),U=Ve(ut()),F=Yt(),V=Yt(),H=Yt(),G=Yt(!1);function we(){return r(G)}function oe(){return v().every(ue=>Jn(ue,a()))}function I(){me(R,Un(s(),l(),c()))}function X(){me(R,An(s(),l()))}hi(()=>(a(),s(),l(),c(),r(H),f(),Pn),()=>{if(!we()){if(K(G,!0),K(F,!1),K(V,!1),a().start){let ue=N(s());me(R,Un(s(),l(),c())),K(F,oe()),me(R,ue)}if(a().end){let ue=N(s());me(R,An(s(),l())),K(V,oe()),me(R,ue)}if(K(H,U>=f().start&&U<f().end),!r(H)&&(a().start||a().end)){let ue=N(s());me(R,N(U)),K(H,oe()),me(R,ue)}Pn().then(()=>K(G,!1))}}),mi(),Vn();var ne=be(),Ce=ee(ne);Ne(Ce,1,w,bt,(ue,W)=>{var He=be(),Ge=ee(He);{var Ae=De=>{var fe=Ca();Et(fe,(Le,Ze)=>Re==null?void 0:Re(Le,Ze),b),ae(()=>q(fe,1,(d(),M(()=>d().title)))),P(De,fe)},vt=(De,fe)=>{{var Le=Me=>{var Te=Ta(),ve=te(Te);j(Te),ae(()=>{q(Te,1,`${d(),M(()=>d().button)??""} ec-${r(W)??""}`),dt(Te,"aria-label",(h(),M(()=>h().prev))),dt(Te,"title",(h(),M(()=>h().prev))),Te.disabled=r(F),q(ve,1,`${d(),M(()=>d().icon)??""} ec-${r(W)??""}`)}),Se("click",Te,I),P(Me,Te)},Ze=(Me,Te)=>{{var ve=Z=>{var se=Ea(),S=te(se);j(se),ae(()=>{q(se,1,`${d(),M(()=>d().button)??""} ec-${r(W)??""}`),dt(se,"aria-label",(h(),M(()=>h().next))),dt(se,"title",(h(),M(()=>h().next))),se.disabled=r(V),q(S,1,`${d(),M(()=>d().icon)??""} ec-${r(W)??""}`)}),Se("click",se,X),P(Z,se)},O=(Z,se)=>{{var S=Q=>{var he=Sa(),Ke=te(he,!0);j(he),ae(()=>{q(he,1,`${d(),M(()=>d().button)??""} ec-${r(W)??""}`),he.disabled=r(H),Ln(Ke,(h(),r(W),M(()=>h()[r(W)])))}),Se("click",he,()=>me(R,N(U))),P(Q,he)},A=(Q,he)=>{{var Ke=it=>{var $e=xa();Er(()=>Se("click",$e,function(...ht){var at;(at=D()[r(W)].click)==null||at.apply(this,ht)})),Et($e,(ht,at)=>Re==null?void 0:Re(ht,at),()=>D()[r(W)].text),ae(()=>q($e,1,`${d(),M(()=>d().button)??""} ec-${r(W)??""}${D(),r(W),d(),M(()=>D()[r(W)].active?" "+d().active:"")??""}`)),P(it,$e)},Ht=(it,$e)=>{{var ht=at=>{var kt=Ra(),un=te(kt,!0);j(kt),ae(()=>{q(kt,1,`${d(),M(()=>d().button)??""}${_(),r(W),d(),M(()=>_()===r(W)?" "+d().active:"")??""} ec-${r(W)??""}`),Ln(un,(h(),r(W),M(()=>h()[r(W)])))}),Se("click",kt,()=>me(z,r(W))),P(at,kt)};le(it,at=>{r(W)!=""&&at(ht)},$e)}};le(Q,it=>{D(),r(W),M(()=>D()[r(W)])?it(Ke):it(Ht,!1)},he)}};le(Z,Q=>{r(W)=="today"?Q(S):Q(A,!1)},se)}};le(Me,Z=>{r(W)=="next"?Z(ve):Z(O,!1)},Te)}};le(De,Me=>{r(W)=="prev"?Me(Le):Me(Ze,!1)},fe)}};le(Ge,De=>{r(W)=="title"?De(Ae):De(vt,!1)})}P(ue,He)}),P(e,ne),_e(),i()}var pa=J("<div><!></div>"),Ma=J("<div></div>"),Pa=J("<nav></nav>");function Ia(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(l,"$headerToolbar",n),s=()=>o(c,"$theme",n);let{headerToolbar:l,theme:c}=Ie("state"),f=E(()=>{var b;let d={};for(let h of["start","center","end"])d[h]=((b=a()[h])==null?void 0:b.split(" ").map(D=>D.split(",")))??[];return d});var v=Pa();Ne(v,21,()=>_t(r(f)),bt,(d,b)=>{var h=Ma();Ne(h,21,()=>r(f)[r(b)],bt,(D,_)=>{var w=be(),u=ee(w);{var m=k=>{var g=pa(),R=te(g);kr(R,{get buttons(){return r(_)}}),j(g),ae(()=>q(g,1,s().buttonGroup)),P(k,g)},x=k=>{kr(k,{get buttons(){return r(_)}})};le(u,k=>{r(_).length>1?k(m):k(x,!1)})}P(D,w)}),j(h),ae(()=>q(h,1,`ec-${r(b)??""}`)),P(d,h)}),j(v),ae(()=>q(v,1,s().toolbar)),P(e,v),_e(),i()}function La(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(u,"$_activeRange",n),s=()=>o(D,"$datesSet",n),l=()=>o(C,"$_view",n),c=()=>o(m,"$_filteredEvents",n),f=()=>o(_,"$eventAllUpdated",n),v=()=>o(y,"$_queue",n),d=()=>o(R,"$_recheckScrollable",n),b=()=>o(k,"$_bodyEl",n),h=()=>o(w,"$_auxiliary",n);let{datesSet:D,eventAllUpdated:_,_auxiliary:w,_activeRange:u,_filteredEvents:m,_scrollable:x,_bodyEl:k,_tasks:g,_recheckScrollable:R,_queue:y,_view:C}=Ie("state");Be(()=>{a(),M(()=>{ce(s())&&s()({start:Fe(a().start),end:Fe(a().end),startStr:ct(a().start),endStr:ct(a().end),view:Oe(l())})})}),Be(()=>{c(),M(()=>{ce(f())&&Oi(()=>f()({view:Oe(l())}),"eau",g)})}),Be(()=>{v(),M(()=>{Wi(v())})}),Be(()=>{d(),M(()=>{b()&&me(x,Ni(b())),me(R,!1)})});var p=be(),L=ee(p);Ne(L,1,h,bt,(z,U)=>{var F=be(),V=ee(F);Yn(V,()=>r(U),(H,G)=>{G(H,{})}),P(z,F)}),P(e,p),_e(),i()}var za=J("<div><!> <!></div> <!>",1);function Ha(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(R,"$_events",n),s=()=>o(k,"$_interaction",n),l=()=>o(C,"$date",n),c=()=>o(p,"$duration",n),f=()=>o(L,"$hiddenDays",n),v=()=>o(x,"$_viewComponent",n),d=()=>o(U,"$theme",n),b=()=>o(y,"$_scrollable",n),h=()=>o(g,"$_iClass",n),D=()=>o(z,"$height",n),_=()=>o(F,"$view",n);let w=We(t,"plugins",19,()=>[]),u=We(t,"options",19,()=>({})),m=new $a(w(),u());gi("state",m);let{_viewComponent:x,_interaction:k,_iClass:g,_events:R,_scrollable:y,date:C,duration:p,hiddenDays:L,height:z,theme:U,view:F}=m,V={...u()};Be(()=>{for(let[O,Z]of ua(u(),V))M(()=>{H(O,Z)});Lt(V,u())});function H(O,Z){return m._set(O,Z),this}function G(O){let Z=m._get(O);return Z instanceof Date?Fe(Z):Z}function we(){return m._fetchedRange.set({start:void 0,end:void 0}),this}function oe(){return a().map(qe)}function I(O){for(let Z of a())if(Z.id==O)return qe(Z);return null}function X(O){return O=ln([O])[0],a().push(O),me(R,a()),qe(O)}function ne(O){let Z=String(O.id),se=a().findIndex(S=>S.id===Z);return se>=0?(O=ln([O])[0],ze(R,M(a)[se]=O,M(a)),qe(O)):null}function Ce(O){O=String(O);let Z=a().findIndex(se=>se.id===O);return Z>=0&&(a().splice(Z,1),me(R,a())),this}function ue(){return Oe(on(m._view))}function W(){var O;return(O=s().action)==null||O.unselect(),this}function He(O,Z){let se=Mt(O,Z);if(se){let S=Vt(se)(O,Z);return S.date=Fe(S.date),S}return null}function Ge(){return me(C,An(l(),c())),this}function Ae(){return me(C,Un(l(),c(),f())),this}let vt=E(v);var De=za(),fe=ee(De);let Le;var Ze=te(fe);Ia(Ze,{});var Me=ie(Ze,2);Yn(Me,()=>r(vt),(O,Z)=>{Z(O,{})}),j(fe);var Te=ie(fe,2);La(Te,{}),ae(O=>{q(fe,1,`${d().calendar??""} ${d().view??""}${b()?" "+d().withScroll:""}${h()?" "+d()[h()]:""}`),dt(fe,"role",O),Le=qn(fe,"",Le,{height:D()})},[()=>Mr(_())?"list":"table"]),P(e,De);var ve=_e({setOption:H,getOption:G,refetchEvents:we,getEvents:oe,getEventById:I,addEvent:X,updateEvent:ne,removeEventById:Ce,getView:ue,unselect:W,dateFromPoint:He,next:Ge,prev:Ae});return i(),ve}var Aa=J("<div></div>"),Ua=J("<article><!></article>");function Fa(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(G,"$resources",n),s=()=>o(y,"$eventBackgroundColor",n),l=()=>o(C,"$eventColor",n),c=()=>o(H,"$eventTextColor",n),f=()=>o(we,"$theme",n),v=()=>o(U,"$eventClassNames",n),d=()=>o(oe,"$_view",n),b=()=>o(R,"$displayEventEnd",n),h=()=>o(p,"$eventContent",n),D=()=>o(I,"$_intlEventTime",n),_=()=>o(z,"$eventDidMount",n),w=()=>o(L,"$eventClick",n),u=()=>o(F,"$eventMouseEnter",n),m=()=>o(V,"$eventMouseLeave",n);let x=We(t,"el",15),k=We(t,"classes",3,Fn),g=We(t,"styles",3,Fn),{displayEventEnd:R,eventBackgroundColor:y,eventColor:C,eventContent:p,eventClick:L,eventDidMount:z,eventClassNames:U,eventMouseEnter:F,eventMouseLeave:V,eventTextColor:H,resources:G,theme:we,_view:oe,_intlEventTime:I}=Ie("state"),X=E(()=>t.chunk.event),ne=E(()=>t.chunk.event.display),Ce=E(()=>r(X).backgroundColor??ia(r(X),a())??s()??l()),ue=E(()=>r(X).textColor??aa(r(X),a())??c()),W=E(()=>zi(g()({"background-color":r(Ce),color:r(ue)})).map(S=>`${S[0]}:${S[1]}`).concat(r(X).styles).join(";")),He=E(()=>k()([ft(r(ne))?f().bgEvent:f().event,...Zi(v(),r(X),d())]).join(" ")),Ge=E(()=>Xi(t.chunk,b(),h(),f(),D(),d())),Ae=E(()=>Gn(r(Ge),2)),vt=E(()=>r(Ae)[0]),De=E(()=>r(Ae)[1]);cn(()=>{ce(_())&&_()({event:qe(r(X)),timeText:r(vt),el:x(),view:Oe(d())})});function fe(S,A){return!Xt(A)&&ce(S)?Q=>S({event:qe(r(X)),el:x(),jsEvent:Q,view:Oe(d())}):void 0}let Le=E(()=>!ft(r(ne))&&fe(w(),r(ne))||void 0),Ze=E(()=>r(Le)&&Pi(r(Le))),Me=E(()=>fe(u(),r(ne))),Te=E(()=>fe(m(),r(ne)));var ve=Ua();ve.__click=function(...S){var A;(A=r(Le))==null||A.apply(this,S)},ve.__keydown=function(...S){var A;(A=r(Ze))==null||A.apply(this,S)},ve.__pointerdown=function(...S){var A;(A=t.onpointerdown)==null||A.apply(this,S)};{const S=A=>{var Q=Aa();Et(Q,(he,Ke)=>Re==null?void 0:Re(he,Ke),()=>r(De)),ae(()=>q(Q,1,hr(f().eventBody))),P(A,Q)};var O=te(ve);{var Z=A=>{var Q=be(),he=ee(Q);Pt(he,()=>t.body,()=>S,()=>r(Ce),()=>r(ue)),P(A,Q)},se=A=>{S(A)};le(O,A=>{t.body?A(Z):A(se,!1)})}j(ve),yt(ve,A=>x(A),()=>x())}ae(()=>{q(ve,1,hr(r(He))),qn(ve,r(W)),dt(ve,"role",r(Le)?"button":void 0),dt(ve,"tabindex",r(Le)?0:void 0)}),Se("mouseenter",ve,function(...S){var A;(A=r(Me))==null||A.apply(this,S)}),Se("mouseleave",ve,function(...S){var A;(A=r(Te))==null||A.apply(this,S)}),P(e,ve),_e(),i()}rt(["click","keydown","pointerdown"]);function Fr(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(f,"$_iClasses",n),s=()=>o(c,"$_interaction",n);let l=We(t,"el",15),{_interaction:c,_iClasses:f}=Ie("state"),v=E(()=>t.chunk.event),d=E(()=>t.chunk.event.display),b=E(()=>w=>a()(w,r(v)));function h(w){var u,m;return(u=s().action)!=null&&u.draggable(w)?x=>{var k,g;return s().action.drag(w,x,(k=t.forceDate)==null?void 0:k.call(t),(g=t.forceMargin)==null?void 0:g.call(t))}:(m=s().action)==null?void 0:m.noAction}let D=E(()=>!ft(r(d))&&!Xt(r(d))?h(r(v)):void 0),_=E(()=>s().resizer);Fa(e,{get chunk(){return t.chunk},get classes(){return r(b)},get styles(){return t.styles},get onpointerdown(){return r(D)},get el(){return l()},set el(u){l(u)},body:(u,m=_i)=>{var x=be(),k=ee(x);{var g=y=>{var C=be(),p=ee(C);Yn(p,()=>r(_),(L,z)=>{z(L,{get chunk(){return t.chunk},get axis(){return t.axis},get forceDate(){return t.forceDate},get forceMargin(){return t.forceMargin},children:(U,F)=>{var V=be(),H=ee(V);Pt(H,m),P(U,V)},$$slots:{default:!0}})}),P(y,C)},R=y=>{var C=be(),p=ee(C);Pt(p,m),P(y,C)};le(k,y=>{r(_)?y(g):y(R,!1)})}P(u,x)},$$slots:{body:!0}}),_e(),i()}rt(["pointerdown","click","keydown"]);rt(["pointerdown","click","keydown"]);function Wr(e,t,n){return e.startEditable??t??e.editable??n}function Wa(e,t,n){return e.durationEditable??t??e.editable??n}let pn=!1;function Oa(e){pn||(pn=!0,window.requestAnimationFrame(()=>{e(),pn=!1}))}function Cr(e,t,n){return gt(t,Dt(n,e))}function Ba(e,t){ge(t,!1);const[n,i]=pe(),a=()=>o(ve,"$eventStartEditable",n),s=()=>o(Te,"$editable",n),l=()=>o(Br,"$slotDuration",n),c=()=>o($e,"$selectable",n),f=()=>o(Zr,"$view",n),v=()=>o(De,"$_bodyEl",n),d=()=>o(fe,"$datesAboveResources",n),b=()=>o(un,"$selectLongPressDelay",n),h=()=>o(A,"$eventLongPressDelay",n),D=()=>o(Ht,"$longPressDelay",n),_=()=>o(Or,"$selectMinDistance",n),w=()=>o(O,"$eventDragMinDistance",n),u=()=>o(W,"$_iEvents",n),m=()=>o(Q,"$eventResizeStart",n),x=()=>o(Z,"$eventDragStart",n),k=()=>o(it,"$resizeConstraint",n),g=()=>o(kt,"$selectConstraint",n),R=()=>o(Ze,"$dragConstraint",n),y=()=>o(Me,"$dragScroll",n),C=()=>o(Nr,"$slotHeight",n),p=()=>o(Gr,"$slotWidth",n),L=()=>o(qr,"$unselectAuto",n),z=()=>o(Vr,"$unselectCancel",n),U=()=>o(ht,"$selectFn",n),F=()=>o(he,"$eventResizeStop",n),V=()=>o(se,"$eventDragStop",n),H=()=>o(Ae,"$_view",n),G=()=>o(Ke,"$eventResize",n),we=()=>o(S,"$eventDrop",n),oe=()=>o(Le,"$dateClick",n),I=()=>o(Xr,"$validRange",n),X=()=>o(vt,"$_dayGrid",n),ne=()=>o(Ge,"$_events",n),Ce=()=>o(at,"$selectBackgroundColor",n),ue=()=>o(Yr,"$unselectFn",n);let{_iEvents:W,_iClass:He,_events:Ge,_view:Ae,_dayGrid:vt,_bodyEl:De,datesAboveResources:fe,dateClick:Le,dragConstraint:Ze,dragScroll:Me,editable:Te,eventStartEditable:ve,eventDragMinDistance:O,eventDragStart:Z,eventDragStop:se,eventDrop:S,eventLongPressDelay:A,eventResizeStart:Q,eventResizeStop:he,eventResize:Ke,longPressDelay:Ht,resizeConstraint:it,selectable:$e,select:ht,selectBackgroundColor:at,selectConstraint:kt,selectLongPressDelay:un,selectMinDistance:Or,slotDuration:Br,slotHeight:Nr,slotWidth:Gr,unselect:Yr,unselectAuto:qr,unselectCancel:Vr,validRange:Xr,view:Zr}=Ie("state");const Qn=1,jn=2,er=3,tr=4,fn=5,Zt=6;let Ee,St,B,vn,tt,hn,Je,xt,mn,gn,Ue,ke,ot,Qe,At,Kt,lt,mt,Jt,ye,Qt,jt,_n,Ut=Yt(),Ft,Wt,Rt;function nr($){return Wr($,a(),s())}function rr($,T,re,Y){Ee||(Ee=Dn(T)?Qn:Zt,Tt()&&(B=$,yn(T),re&&(tt=re),Y&&(Wt=Y),Jt="dragging",pt(T)))}function ir($,T,re,Y,nt,Gt,kn){Ee||(Ee=Dn(T)?re?er:jn:Zt,Tt()&&(B=$,yn(T),nt&&(tt=nt),Gt&&(Wt=Gt),Jt=Y==="x"?"resizingX":"resizingY",en()?(ye=N(B.end),mt?(Hn(ye,B.start),ye>=B.end&&It(ye)):(an(ye,l()),ye<B.start&&(ye=B.start),tt=B.start)):(ye=N(B.start),mt?(Hn(ye,B.end),ye<=B.start&&!kn&&$t(ye)):(de(ye,l()),ye>B.end&&(ye=B.end),tt=B.end,kn||(tt=an(N(tt),l()))),kn&&!mt&&(Rt=l())),pt(T)))}function ar($){Ee||(Ee=Dn($)?c()&&!Mr(f())?tr:fn:Zt,Tt()&&(yn($),Jt="selecting",Qt=mt?Pe({day:1}):l(),B={allDay:mt,start:tt,end:de(N(tt),Qt),resourceIds:Je?[Je.id]:[]},pt($)))}function or(){Ee||(Ee=Zt)}function yn($){window.getSelection().removeAllRanges(),mn=Ue=$.clientX,gn=ke=$.clientY;let T=Mt(Ue,ke);({allDay:mt,date:tt,resource:Je}=Vt(T)(Ue,ke)),Tn(f())?ot=At=v():(ot=Wn(T,Je?4:3),At=Wn(T,Je&&(ti()||d())?2:1)),sr(),$.pointerType!=="mouse"&&K(Ut,setTimeout(()=>{Ee&&(St=!0,pt($))},(Ct()?b():h())??D()))}function pt($){if(St||$&&$.pointerType==="mouse"&&ei()>=(Ct()?_():w())){St=!0,Nt($),me(He,Jt),u()[0]||(Ct()?jr():Qr($,Bt()?m():x()));let T=wn(Jr());if(T){let re;if({allDay:re,date:hn,resource:xt}=T,re===mt){let Y=Ot({},u()[0]),nt=k();lt=Pe((hn-tt)/1e3),en()?(Y.start=de(N(B.start),lt),Y.start>ye&&(Y.start=ye,lt=Pe((ye-B.start)/1e3))):(Y.end=de(N(B.end),lt),Rt&&de(Y.end,Rt),Bt()?Y.end<ye&&(Y.end=ye,lt=Pe((ye-B.end)/1e3)):Ct()?(Y.end<B.end?(Y.start=an(Y.end,Qt),Y.end=B.end):Y.start=B.start,nt=g()):(Y.start=de(N(B.start),lt),Je&&(Y.resourceIds=B.resourceIds.filter(Gt=>Gt!==Je.id),Y.resourceIds.push(xt.id)),nt=R()));do{if(nt!==void 0&&(Y=Ot(Sn(B),Y),nt(Ct()?ur(Y,$):fr(Y,B,$))===!1)){ze(W,M(u)[0]=Ot(u()[0],B),M(u));break}ze(W,M(u)[0]=Ot(u()[0],Y),M(u))}while(!1)}}}if(y()){let T=C()*2,re=p();Oa(()=>{ot&&(ke<T&&window.scrollBy(0,gt(-10,(ke-T)/3)),ke<Qe.top+T&&(ot.scrollTop+=gt(-10,(ke-Qe.top-T)/3)),ke>window.innerHeight-T&&window.scrollBy(0,Dt(10,(ke-window.innerHeight+T)/3)),ke>Qe.bottom-T&&(ot.scrollTop+=Dt(10,(ke-Qe.bottom+T)/3)),Tn(f())&&(Ue<Qe.left+re&&(ot.scrollLeft+=gt(-10,(Ue-Qe.left-re)/3)),Ue>Qe.right-re&&(ot.scrollLeft+=Dt(10,(Ue-Qe.right+re)/3))))})}}function bn(){Tt()&&(sr(),pt())}function Kr($){Tt()&&$.isPrimary&&(Ue=$.clientX,ke=$.clientY,pt($))}function lr($){if(jt&&L()&&!(z()&&$.target.closest(z()))&&Nt($),Ee&&$.isPrimary){if(St)if(Ct()){if(jt=!0,ce(U())){let T=ur(u()[0],$);U()(T)}}else{B.display=vn;let T=Bt()?F():V();ce(T)&&T({event:qe(B),jsEvent:$,view:Oe(H())});let re=Sn(B);if(cr(B,u()[0]),dr(),T=Bt()?G():we(),ce(T)){let Y=B,nt=fr(B,re,$);T(Lt(nt,{revert(){cr(Y,re)}}))}}else if((ni()||Ct())&&ce(oe())&&!_n){Ue=$.clientX,ke=$.clientY;let T=Mt(Ue,ke);if(T){let{allDay:re,date:Y,resource:nt}=Vt(T)(Ue,ke);oe()({allDay:re,date:Fe(Y),dateStr:ct(Y),dayEl:T,jsEvent:$,view:Oe(H()),resource:nt})}}St=!1,Ee=mn=gn=Ue=ke=B=vn=tt=hn=Je=xt=lt=Rt=mt=me(He,ye=Qt=Wt=void 0),ot=At=Qe=Kt=void 0,r(Ut)&&(clearTimeout(r(Ut)),K(Ut,void 0))}_n=!1}function Jr(){return Mt(Cr(Ue,Ft[0],Ft[1]),Cr(ke,Ft[2],Ft[3]))}function wn($){if($){let T=Vt($)(Ue,ke);if(T.disabled){if(!I().end||T.date<I().end)return wn($.nextElementSibling);if(!I().start||T.date>I().start)return wn($.previousElementSibling)}else return T}return null}function sr(){Qe=zt(ot),Kt=zt(At),Ft=[gt(0,Kt.left+(Tn(f())?1:X()?0:8)),Dt(document.documentElement.clientWidth,Kt.left+At.clientWidth)-2,gt(0,Qe.top),Dt(document.documentElement.clientHeight,Qe.top+ot.clientHeight)-2]}function Qr($,T){ce(T)&&T({event:qe(B),jsEvent:$,view:Oe(H())}),vn=B.display,B.display="preview",ze(W,M(u)[0]=Sn(B),M(u)),Wt!==void 0&&ze(W,M(u)[0]._margin=Wt,M(u)),Rt&&de(u()[0].end,Rt),B.display="ghost",me(Ge,ne())}function jr(){ze(W,M(u)[0]={id:"{select}",allDay:B.allDay,start:B.start,title:"",display:"preview",extendedProps:{},backgroundColor:Ce(),resourceIds:B.resourceIds,classNames:[],styles:[]},M(u))}function dr(){ze(W,M(u)[0]=null,M(u))}function Ot($,T){return $.start=T.start,$.end=T.end,$.resourceIds=T.resourceIds,$}function cr($,T){Ot($,T),me(Ge,ne())}function ur($,T){let{start:re,end:Y}=qe($);return{start:re,end:Y,startStr:ct($.start),endStr:ct($.end),allDay:mt,view:Oe(H()),resource:Je,jsEvent:T}}function fr($,T,re){let Y;return Bt()?Y=en()?{startDelta:lt,endDelta:Pe(0)}:{startDelta:Pe(0),endDelta:lt}:Y={delta:lt,oldResource:Je!==xt?Je:void 0,newResource:Je!==xt?xt:void 0},Lt(Y,{event:qe($),oldEvent:qe(T),view:Oe(H()),jsEvent:re}),Y}function ei(){return Math.sqrt(Math.pow(Ue-mn,2)+Math.pow(ke-gn,2))}function ti(){return Ee===Qn}function Bt(){return Ee===jn||en()}function en(){return Ee===er}function ni(){return Ee===fn}function Ct(){return Ee===tr}function Tt(){return Ee&&Ee<fn}function Dn($){return $.isPrimary&&($.pointerType!=="mouse"||$.buttons&1)}function Nt($){jt&&(jt=!1,dr(),ce(ue())&&ue()({jsEvent:$,view:Oe(H())}))}function vr(){_n=!0}Ae.subscribe(Nt);function ri($){if(Tt()){let T=$.target,re=[],Y=()=>xr(re);re.push(qt(window,"touchmove",Fi,{passive:!1})),re.push(qt(T,"touchmove",$n(()=>St))),re.push(qt(T,"touchend",Y)),re.push(qt(T,"touchcancel",Y))}}function $n($){return T=>{$()&&T.preventDefault()}}Vn(),Se("pointermove",st,Kr),Se("pointerup",st,lr),Se("pointercancel",st,lr),Se("scroll",st,bn);var ii=E(()=>$n(Tt));Se("selectstart",st,function(...$){var T;(T=r(ii))==null||T.apply(this,$)});var ai=E(()=>$n(()=>r(Ut)));Se("contextmenu",st,function(...$){var T;(T=r(ai))==null||T.apply(this,$)}),Se("touchstart",st,ri,void 0,!0),wt(t,"draggable",nr),wt(t,"drag",rr),wt(t,"resize",ir),wt(t,"select",ar),wt(t,"noAction",or),wt(t,"handleScroll",bn),wt(t,"unselect",Nt),wt(t,"noClick",vr);var oi=_e({draggable:nr,drag:rr,resize:ir,select:ar,noAction:or,handleScroll:bn,unselect:Nt,noClick:vr});return i(),oi}function Na(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(l,"$_iEvents",n),s=()=>o(c,"$slotDuration",n);let{_iEvents:l,slotDuration:c}=Ie("state"),f=0,v=0;Be(()=>{a()[0]&&_()});function d(){let m=Mt(f,v);if(m){let{allDay:x,date:k,resource:g,disabled:R}=Vt(m)(f,v);if(!R){let y=x?2:1;a()[y]||D(y),ze(l,M(a)[y].start=k,M(a)),ze(l,M(a)[y].end=de(N(k),s()),M(a)),ze(l,M(a)[y].resourceIds=g?[g.id]:[],M(a));return}}_()}function b(){d()}function h(m){w(m)&&(f=m.clientX,v=m.clientY,d())}function D(m){ze(l,M(a)[m]={id:"{pointer}",title:"",display:"pointer",extendedProps:{},backgroundColor:"transparent",classNames:[],styles:[]},M(a))}function _(){a()[1]&&ze(l,M(a)[1]=null,M(a)),a()[2]&&ze(l,M(a)[2]=null,M(a))}function w(m){return m.isPrimary&&m.pointerType==="mouse"}Se("pointermove",st,h),Se("scroll",st,b);var u=_e({handleScroll:b});return i(),u}var Ga=J("<div></div>"),Ya=J("<div></div>"),qa=J("<!> <!> <!>",1);function Va(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(h,"$eventDurationEditable",n),s=()=>o(_,"$editable",n),l=()=>o(w,"$_interaction",n),c=()=>o(D,"$eventResizableFromStart",n),f=()=>o(b,"$theme",n);let v=We(t,"forceDate",3,void 0),d=We(t,"forceMargin",3,void 0),{theme:b,eventDurationEditable:h,eventResizableFromStart:D,editable:_,_interaction:w}=Ie("state"),u=E(()=>t.chunk.event),m=E(()=>t.chunk.event.display),x=E(()=>!ft(r(m))&&!Xt(r(m))&&Wa(r(u),a(),s()));function k(z){return U=>{var F,V;return l().action.resize(r(u),U,z,t.axis,(F=v())==null?void 0:F(),(V=d())==null?void 0:V(),t.chunk.zeroDuration)}}var g=qa(),R=ee(g);{var y=z=>{var U=Ga(),F=E(()=>k(!0));U.__pointerdown=function(...V){var H;(H=r(F))==null||H.apply(this,V)},ae(()=>q(U,1,`${f().resizer??""} ${f().start??""}`)),P(z,U)};le(R,z=>{r(x)&&c()&&z(y)})}var C=ie(R,2);Pt(C,()=>t.children);var p=ie(C,2);{var L=z=>{var U=Ya(),F=E(()=>k(!1));U.__pointerdown=function(...V){var H;(H=r(F))==null||H.apply(this,V)},ae(()=>q(U,1,f().resizer)),P(z,U)};le(p,z=>{r(x)&&z(L)})}P(e,g),_e(),i()}rt(["pointerdown"]);var Xa=J("<!> <!>",1);function Za(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(w,"$_interaction",n),s=()=>o(d,"$theme",n),l=()=>o(h,"$eventStartEditable",n),c=()=>o(b,"$editable",n),f=()=>o(_,"$_bodyEl",n),v=()=>o(D,"$pointer",n);let{theme:d,editable:b,eventStartEditable:h,pointer:D,_bodyEl:_,_interaction:w,_iClasses:u}=Ie("state");ze(w,M(a).resizer=Va,M(a)),Be(()=>{s(),l(),c(),me(u,(y,C)=>{let{display:p}=C;return[...y,Xt(p)?[s()[p]]:!ft(p)&&Wr(C,l(),c())?[s().draggable]:[]]})}),Be(()=>{if(f())return qt(f(),"scroll",m)});function m(){var y;for(let C of Object.values(a()))(y=C==null?void 0:C.handleScroll)==null||y.call(C)}var x=Xa(),k=ee(x);yt(Ba(k,{}),y=>ze(w,M(a).action=y,M(a)),()=>{var y;return(y=a())==null?void 0:y.action});var g=ie(k,2);{var R=y=>{yt(Na(y,{}),C=>ze(w,M(a).pointer=C,M(a)),()=>{var C;return(C=a())==null?void 0:C.pointer})};le(g,y=>{v()&&y(R)})}P(e,x),_e(),i()}const Ka={createOptions(e){e.dateClick=void 0,e.dragConstraint=void 0,e.dragScroll=!0,e.editable=!1,e.eventDragMinDistance=5,e.eventDragStart=void 0,e.eventDragStop=void 0,e.eventDrop=void 0,e.eventDurationEditable=!0,e.eventLongPressDelay=void 0,e.eventResizableFromStart=!1,e.eventResizeStart=void 0,e.eventResizeStop=void 0,e.eventResize=void 0,e.eventStartEditable=!0,e.longPressDelay=1e3,e.pointer=!1,e.resizeConstraint=void 0,e.select=void 0,e.selectBackgroundColor=void 0,e.selectConstraint=void 0,e.selectLongPressDelay=void 0,e.selectMinDistance=5,e.unselect=void 0,e.unselectAuto=!0,e.unselectCancel="",e.theme.draggable="ec-draggable",e.theme.ghost="ec-ghost",e.theme.preview="ec-preview",e.theme.pointer="ec-pointer",e.theme.resizer="ec-resizer",e.theme.start="ec-start",e.theme.dragging="ec-dragging",e.theme.resizingY="ec-resizing-y",e.theme.resizingX="ec-resizing-x",e.theme.selecting="ec-selecting"},createStores(e){e._auxiliary.update(t=>[...t,Za])}};rt(["pointerdown"]);rt(["click"]);function Ja(e){return Xe([e.slotDuration,e.slotLabelInterval,e._slotTimeLimits,e._intlSlotLabel],t=>la(Ve(ut()),...t))}function Qa(e){return Xe([e.slotMinTime,e.slotMaxTime,e.flexibleSlotTimeLimits,e._viewDates,e._filteredEvents],t=>sa(...t))}function ja(e){if(!e.length)return;Pr(e);let t={columns:[],end:e[0].end};for(let n of e){let i=0;if(n.start<t.end){for(;i<t.columns.length&&!(t.columns[i].at(-1).end<=n.start);++i);n.end>t.end&&(t.end=n.end)}else t={columns:[],end:n.end};t.columns.length<i+1&&t.columns.push([]),t.columns[i].push(n),n.group=t,n.column=i}}function eo(e){let t="all-day",n;return e?(n=ce(e)?e({text:t}):e,typeof n=="string"&&(n={html:n})):n={html:t},n}var to=J("<time></time>"),no=J('<div><div></div> <!></div> <div role="row"><div><!></div> <!></div>',1);function Nn(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(f,"$allDayContent",n),s=()=>o(v,"$slotLabelInterval",n),l=()=>o(d,"$theme",n),c=()=>o(b,"$_times",n);let{allDayContent:f,slotLabelInterval:v,theme:d,_times:b}=Ie("state"),h=E(()=>eo(a())),D=E(()=>s()&&s().seconds<=0);var _=no(),w=ee(_),u=te(w);Et(u,(p,L)=>Re==null?void 0:Re(p,L),()=>r(h));var m=ie(u,2);Ne(m,1,c,bt,(p,L,z)=>{var U=to();Et(U,(F,V)=>Re==null?void 0:Re(F,V),()=>r(L)[1]),ae(()=>{q(U,1,`${l().time??""}${(z||r(D))&&r(L)[2]?"":" "+l().minor}`),dt(U,"datetime",r(L)[0])}),P(p,U)}),j(w);var x=ie(w,2),k=te(x),g=te(k);{var R=p=>{var L=be(),z=ee(L);Pt(z,()=>t.lines),P(p,L)};le(g,p=>{t.lines&&p(R)})}j(k);var y=ie(k,2);{var C=p=>{var L=be(),z=ee(L);Pt(z,()=>t.children),P(p,L)};le(y,p=>{t.children&&p(C)})}j(x),ae(()=>{q(w,1,l().sidebar),q(u,1,l().sidebarTitle),q(x,1,l().days),q(k,1,l().lines)}),P(e,_),_e(),i()}var ro=J("<div></div>"),io=J("<div><div><!></div></div>");function ao(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(h,"$_viewDates",n),s=()=>o(u,"$scrollTime",n),l=()=>o(D,"$_slotTimeLimits",n),c=()=>o(m,"$slotDuration",n),f=()=>o(x,"$slotHeight",n),v=()=>o(k,"$theme",n),d=()=>o(_,"$_times",n);let{_bodyEl:b,_viewDates:h,_slotTimeLimits:D,_times:_,_recheckScrollable:w,scrollTime:u,slotDuration:m,slotHeight:x,theme:k}=Ie("state"),g=xe(void 0);Be(()=>{me(b,r(g))}),Be(()=>{a(),s(),M(R)});function R(){r(g).scrollTop=((s().seconds-l().min.seconds)/c().seconds-.5)*f()}var y=io(),C=te(y),p=te(C);Nn(p,{get children(){return t.children},lines:z=>{var U=be(),F=ee(U);Ne(F,1,d,bt,(V,H)=>{var G=ro();ae(()=>q(G,1,`${v().line??""}${r(H)[2]?"":" "+v().minor}`)),P(V,G)}),P(z,U)},$$slots:{lines:!0}}),j(C),j(y),yt(y,L=>K(g,L),()=>r(g)),Et(y,(L,z)=>Cn==null?void 0:Cn(L,z),()=>()=>me(w,!0)),ae(()=>{q(y,1,v().body),q(C,1,v().content)}),P(e,y),_e(),i()}function rn(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(v,"$slotDuration",n),s=()=>o(b,"$_slotTimeLimits",n),l=()=>o(d,"$slotHeight",n),c=()=>o(f,"$slotEventOverlap",n);let{slotEventOverlap:f,slotDuration:v,slotHeight:d,_slotTimeLimits:b}=Ie("state"),h=E(()=>t.chunk.event.display),D=E(()=>_=>{let w=a().seconds,u=s().min.seconds,m=(t.chunk.start-t.date)/1e3,x=(t.chunk.end-t.date)/1e3,k=(m-u)/w*l(),g=(x-m)/w*l()||l(),R=(s().max.seconds-m)/w*l();return _.top=`${k}px`,_["min-height"]=`${g}px`,_.height=`${g}px`,_["max-height"]=`${R}px`,(!ft(r(h))&&!Xt(r(h))||zr(r(h)))&&(_["z-index"]=`${t.chunk.column+1}`,_.left=`${100/t.chunk.group.columns.length*t.chunk.column}%`,_.width=`${100/t.chunk.group.columns.length*(c()?.5*(1+t.chunk.group.columns.length-t.chunk.column):1)}%`),_});Fr(e,{get chunk(){return t.chunk},get styles(){return r(D)},axis:"y"}),_e(),i()}var oo=J("<div></div>");function lo(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(D,"$_now",n),s=()=>o(_,"$_today",n),l=()=>o(d,"$slotDuration",n),c=()=>o(w,"$_slotTimeLimits",n),f=()=>o(b,"$slotHeight",n),v=()=>o(h,"$theme",n);let{slotDuration:d,slotHeight:b,theme:h,_now:D,_today:_,_slotTimeLimits:w}=Ie("state"),u=E(()=>(a()-s())/1e3),m=E(()=>{let k=l().seconds,g=c().min.seconds;return(r(u)-g)/k*f()});var x=oo();ae(()=>{q(x,1,v().nowIndicator),qn(x,`top:${r(m)??""}px`)}),P(e,x),_e(),i()}var so=J("<!> <!> <!>",1),co=J('<div role="cell"><div><!></div> <div><!></div> <div><!></div></div>');function uo(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(V,"$_today",n),s=()=>o(g,"$highlightedDates",n),l=()=>o(U,"$validRange",n),c=()=>o(H,"$_slotTimeLimits",n),f=()=>o(p,"$filterEventsWithResources",n),v=()=>o(z,"$resources",n),d=()=>o(x,"$_filteredEvents",n),b=()=>o(k,"$_iEvents",n),h=()=>o(y,"$slotDuration",n),D=()=>o(C,"$slotHeight",n),_=()=>o(L,"$theme",n),w=()=>o(F,"$_interaction",n),u=()=>o(R,"$nowIndicator",n);let m=We(t,"resource",3,void 0),{_filteredEvents:x,_iEvents:k,highlightedDates:g,nowIndicator:R,slotDuration:y,slotHeight:C,filterEventsWithResources:p,theme:L,resources:z,validRange:U,_interaction:F,_today:V,_slotTimeLimits:H}=Ie("state"),G=xe(void 0),we=E(()=>et(t.date,a())),oe=E(()=>s().some(S=>et(S,t.date))),I=E(()=>Jn(t.date,l())),X=E(()=>de(N(t.date),c().min)),ne=E(()=>de(N(t.date),c().max)),Ce=E(()=>m()??(f()?v():void 0)),ue=E(()=>{if(r(I))return[[],[]];let S=[],A=[];for(let Q of d())if((!Q.allDay||ft(Q.display))&&dn(Q,r(X),r(ne),r(Ce))){let he=sn(Q,r(X),r(ne));switch(Q.display){case"background":A.push(he);break;default:S.push(he)}}return ja(S),[S,A]}),W=E(()=>Gn(r(ue),2)),He=E(()=>r(W)[0]),Ge=E(()=>r(W)[1]),Ae=E(()=>r(I)?[]:b().map(S=>S&&dn(S,r(X),r(ne),m())?sn(S,r(X),r(ne)):null));function vt(S,A){return A-=zt(r(G)).top,{allDay:!1,date:de(de(N(t.date),c().min),h(),Hi(A/D())),resource:m(),dayEl:r(G),disabled:r(I)}}cn(()=>{Kn(r(G),vt)});var De=co();De.__pointerdown=function(...S){var A,Q;(Q=r(I)||(A=w().action)==null?void 0:A.select)==null||Q.apply(this,S)};var fe=te(De),Le=te(fe);{var Ze=S=>{var A=be(),Q=ee(A);Ne(Q,17,()=>r(Ge),he=>he.event,(he,Ke)=>{rn(he,{get date(){return t.date},get chunk(){return r(Ke)}})}),P(S,A)};le(Le,S=>{r(I)||S(Ze)})}j(fe);var Me=ie(fe,2),Te=te(Me);{var ve=S=>{var A=so(),Q=ee(A);{var he=$e=>{rn($e,{get date(){return t.date},get chunk(){return r(Ae)[1]}})};le(Q,$e=>{r(Ae)[1]&&$e(he)})}var Ke=ie(Q,2);Ne(Ke,17,()=>r(He),$e=>$e.event,($e,ht)=>{rn($e,{get date(){return t.date},get chunk(){return r(ht)}})});var Ht=ie(Ke,2);{var it=$e=>{rn($e,{get date(){return t.date},get chunk(){return r(Ae)[0]}})};le(Ht,$e=>{r(Ae)[0]&&!r(Ae)[0].event.allDay&&$e(it)})}P(S,A)};le(Te,S=>{r(I)||S(ve)})}j(Me);var O=ie(Me,2),Z=te(O);{var se=S=>{lo(S,{})};le(Z,S=>{u()&&r(we)&&!r(I)&&S(se)})}j(O),j(De),yt(De,S=>K(G,S),()=>r(G)),ae(S=>{q(De,1,`${_().day??""} ${S??""}${r(we)?" "+_().today:""}${r(oe)?" "+_().highlight:""}${r(I)?" "+_().disabled:""}`),q(fe,1,_().bgEvents),q(Me,1,_().events),q(O,1,_().extra)},[()=>{var S;return(S=_().weekdays)==null?void 0:S[t.date.getUTCDay()]}]),P(e,De),_e(),i()}rt(["pointerdown"]);function Mn(e,t){ge(t,!0);let n=We(t,"longChunks",19,()=>({})),i=xe(void 0),a=xe(1),s=E(()=>t.chunk.event),l=E(()=>t.chunk.event.display),c=E(()=>v=>(ft(r(l))?v.width=`calc(${t.chunk.days*100}% + ${t.chunk.days-1}px)`:(v.width=`calc(${t.chunk.days*100}% + ${(t.chunk.days-1)*7}px)`,v["margin-top"]=`${r(s)._margin??r(a)}px`),v));function f(){r(i)&&K(a,Ki(t.chunk,n(),Gi(r(i))),!0)}return Fr(e,{get chunk(){return t.chunk},get styles(){return r(c)},axis:"x",forceMargin:()=>zt(r(i)).top-zt(Wn(r(i),1)).top,get el(){return r(i)},set el(v){K(i,v,!0)}}),_e({reposition:f})}var fo=J("<div><!></div>"),vo=J('<div role="cell"><div><!></div> <!> <div><!></div></div>');function ho(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(w,"$_today",n),s=()=>o(b,"$highlightedDates",n),l=()=>o(D,"$validRange",n),c=()=>o(h,"$theme",n),f=()=>o(_,"$_interaction",n);let v=We(t,"iChunks",19,()=>[]),d=We(t,"resource",3,void 0),{highlightedDates:b,theme:h,validRange:D,_interaction:_,_today:w}=Ie("state"),u=xe(void 0),m=[],x=E(()=>t.chunks.filter(I=>et(I.date,t.date))),k=E(()=>t.bgChunks.filter(I=>et(I.date,t.date))),g=E(()=>et(t.date,a())),R=E(()=>s().some(I=>et(I,t.date))),y=E(()=>Jn(t.date,l()));cn(()=>{Kn(r(u),()=>({allDay:!0,date:t.date,resource:d(),dayEl:r(u),disabled:r(y)}))});function C(){r(y)||Lr(m,r(x))}var p=vo();p.__pointerdown=function(...I){var X,ne;(ne=r(y)||(X=f().action)==null?void 0:X.select)==null||ne.apply(this,I)};var L=te(p),z=te(L);{var U=I=>{var X=be(),ne=ee(X);Ne(ne,17,()=>r(k),Ce=>Ce.event,(Ce,ue)=>{Mn(Ce,{get chunk(){return r(ue)}})}),P(I,X)};le(z,I=>{r(y)||I(U)})}j(L);var F=ie(L,2);{var V=I=>{var X=fo(),ne=te(X);Mn(ne,{get chunk(){return v()[0]}}),j(X),ae(()=>q(X,1,`${c().events??""} ${c().preview??""}`)),P(I,X)};le(F,I=>{v()[0]&&et(v()[0].date,t.date)&&!r(y)&&I(V)})}var H=ie(F,2),G=te(H);{var we=I=>{var X=be(),ne=ee(X);Ne(ne,19,()=>r(x),Ce=>Ce.event,(Ce,ue,W)=>{yt(Mn(Ce,{get chunk(){return r(ue)},get longChunks(){return t.longChunks}}),(He,Ge)=>m[Ge]=He,He=>m==null?void 0:m[He],()=>[r(W)])}),P(I,X)};le(G,I=>{r(y)||I(we)})}j(H),j(p),yt(p,I=>K(u,I),()=>r(u)),ae(I=>{q(p,1,`${c().day??""} ${I??""}${r(g)?" "+c().today:""}${r(R)?" "+c().highlight:""}${r(y)?" "+c().disabled:""}`),q(L,1,c().bgEvents),q(H,1,c().events)},[()=>{var I;return(I=c().weekdays)==null?void 0:I[t.date.getUTCDay()]}]),P(e,p);var oe=_e({reposition:C});return i(),oe}rt(["pointerdown"]);function mo(e,t){ge(t,!0);const[n,i]=pe(),a=()=>o(u,"$validRange",n),s=()=>o(w,"$filterEventsWithResources",n),l=()=>o(_,"$resources",n),c=()=>o(b,"$_filteredEvents",n),f=()=>o(D,"$hiddenDays",n),v=()=>o(h,"$_iEvents",n);let d=We(t,"resource",3,void 0),{_filteredEvents:b,_iEvents:h,hiddenDays:D,resources:_,filterEventsWithResources:w,validRange:u}=Ie("state"),m=[],x=E(()=>wr(t.dates[0],a())),k=E(()=>$t(N(wr(t.dates.at(-1),a())))),g=E(()=>d()??(s()?l():void 0)),R=E(()=>{let H=[],G=[];for(let oe of c())if(oe.allDay&&dn(oe,r(x),r(k),r(g))){let I=sn(oe,r(x),r(k));ft(oe.display)?G.push(I):H.push(I)}xn(G,f());let we=xn(H,f());return[H,G,we]}),y=E(()=>Gn(r(R),3)),C=E(()=>r(y)[0]),p=E(()=>r(y)[1]),L=E(()=>r(y)[2]);function z(){Lr(m,t.dates)}Be(()=>{r(C),M(z)});let U=E(()=>v().map(H=>{let G;return H&&H.allDay&&dn(H,r(x),r(k),d())?(G=sn(H,r(x),r(k)),xn([G],f())):G=null,G}));var F=be();Se("resize",st,z);var V=ee(F);Ne(V,17,()=>t.dates,bt,(H,G,we)=>{yt(ho(H,{get date(){return r(G)},get chunks(){return r(C)},get bgChunks(){return r(p)},get longChunks(){return r(L)},get iChunks(){return r(U)},get resource(){return d()}}),(oe,I)=>m[I]=oe,oe=>m==null?void 0:m[oe],()=>[we])}),P(e,F),_e(),i()}var go=J('<div role="columnheader"><time></time></div>'),_o=J("<div><div><!> <div></div></div></div>"),yo=J("<div><!> <div></div></div> <!> <!>",1);function Tr(e,t){ge(t,!1);const[n,i]=pe(),a=()=>o(w,"$theme",n),s=()=>o(d,"$_viewDates",n),l=()=>o(D,"$_today",n),c=()=>o(h,"$_intlDayHeaderAL",n),f=()=>o(b,"$_intlDayHeader",n),v=()=>o(_,"$allDaySlot",n);let{_viewDates:d,_intlDayHeader:b,_intlDayHeaderAL:h,_today:D,allDaySlot:_,theme:w}=Ie("state");Vn();var u=yo(),m=ee(u),x=te(m);Nn(x,{children:(C,p)=>{var L=be(),z=ee(L);Ne(z,1,s,bt,(U,F)=>{var V=go(),H=te(V);Et(H,(G,we)=>Re==null?void 0:Re(G,we),()=>f().format(r(F))),j(V),ae((G,we,oe,I)=>{q(V,1,`${a().day??""} ${G??""}${we??""}`),dt(H,"datetime",oe),dt(H,"aria-label",I)},[()=>{var G;return(G=a().weekdays)==null?void 0:G[r(F).getUTCDay()]},()=>et(r(F),l())?" "+a().today:"",()=>ct(r(F),10),()=>c().format(r(F))],yi),P(U,V)}),P(C,L)},$$slots:{default:!0}});var k=ie(x,2);j(m);var g=ie(m,2);{var R=C=>{var p=_o(),L=te(p),z=te(L);Nn(z,{children:(F,V)=>{mo(F,{get dates(){return s()}})},$$slots:{default:!0}});var U=ie(z,2);j(L),j(p),ae(()=>{q(p,1,a().allDay),q(L,1,a().content),q(U,1,a().hiddenScroll)}),P(C,p)};le(g,C=>{v()&&C(R)})}var y=ie(g,2);ao(y,{children:(C,p)=>{var L=be(),z=ee(L);Ne(z,1,s,bt,(U,F)=>{uo(U,{get date(){return r(F)}})}),P(C,L)},$$slots:{default:!0}}),ae(()=>{q(m,1,a().header),q(k,1,a().hiddenScroll)}),P(e,u),_e(),i()}const bo={createOptions(e){e.buttonText.timeGridDay="day",e.buttonText.timeGridWeek="week",e.view="timeGridWeek",e.views.timeGridDay={buttonText:ji,component:Tr,dayHeaderFormat:{weekday:"long"},duration:{days:1},theme:br("ec-time-grid ec-day-view"),titleFormat:{year:"numeric",month:"long",day:"numeric"}},e.views.timeGridWeek={buttonText:ea,component:Tr,duration:{weeks:1},theme:br("ec-time-grid ec-week-view")}},createStores(e){e._slotTimeLimits=Qa(e),e._times=Ja(e)}};rt(["click"]);rt(["pointerdown"]);var wo=(e,t)=>{K(t,e.currentTarget.value,!0)},Do=(e,t)=>{K(t,new Date(e.currentTarget.value),!0)},$o=(e,t)=>{K(t,new Date(e.currentTarget.value),!0)},ko=(e,t)=>{K(t,e.currentTarget.value,!0)},Co=J("<option> </option>"),To=(e,t)=>K(t,e.currentTarget.value,!0),Eo=async(e,t,n)=>{var i;await Si(t.dbWorker,t.event.id),t.updateEvent(),(i=n())==null||i.closeModal()},So=(e,t)=>{var n;return(n=t())==null?void 0:n.closeModal()},xo=J('<form><div class="form-grid svelte-8ayusl"><label for="title" class="svelte-8ayusl">Title</label> <input id="title" type="text" class="svelte-8ayusl"/> <label for="start" class="svelte-8ayusl">Start time</label> <input id="start" type="datetime-local" class="svelte-8ayusl"/> <label for="end" class="svelte-8ayusl">End time</label> <input id="end" type="datetime-local" class="svelte-8ayusl"/> <label for="project" class="svelte-8ayusl">Project</label> <select id="project" class="svelte-8ayusl"></select> <label for="color" class="svelte-8ayusl">Color</label> <input id="color" type="color" class="svelte-8ayusl"/></div> <div class="form-actions svelte-8ayusl"><button type="button">Delete</button> <button type="submit">Confirm</button> <button type="button">Cancel</button></div></form>');function Ro(e,t){ge(t,!0);let n=We(t,"modal",15),i=xe(""),a=xe(""),s=xe(null),l=xe(null),c=xe(""),f=xe("");Be(()=>{var v;(v=t.event)!=null&&v.backgroundColor&&Promise.all([Ci(t.dbWorker,t.event.backgroundColor)]).then(d=>{K(c,d[0].name,!0)})}),Be(()=>{var v;if(r(c)&&t.projects){const d=t.projects.find(b=>b.name===r(c));d&&K(f,d.color,!0)}else K(f,((v=t.event)==null?void 0:v.backgroundColor)||"",!0)}),yt(ki(e,{title:"Edit Event",children:(v,d)=>{var b=xo(),h=te(b),D=ie(te(h),2);tn(D),D.__input=[wo,i];var _=ie(D,4);tn(_),_.__input=[Do,s];var w=ie(_,4);tn(w),w.__input=[$o,l];var u=ie(w,4);u.__change=[ko,c],Ne(u,21,()=>t.projects,y=>y.name,(y,C)=>{var p=Co(),L=te(p,!0);j(p);var z={};ae(()=>{Ln(L,r(C).name),z!==(z=r(C).name)&&(p.value=(p.__value=r(C).name)??"")}),P(y,p)}),j(u);var m;Di(u);var x=ie(u,4);tn(x),x.__input=[To,a],j(h);var k=ie(h,2),g=te(k);g.__click=[Eo,t,n];var R=ie(g,4);R.__click=[So,n],j(k),j(b),ae((y,C)=>{nn(D,t.event.title),nn(_,y),nn(w,C),m!==(m=r(c))&&(u.value=(u.__value=r(c))??"",$i(u,r(c))),nn(x,r(f)||t.event.backgroundColor)},[()=>mr(t.event.start),()=>mr(t.event.end)]),Se("submit",b,async()=>{await Ei(n(),t.dbWorker,r(i),r(a),t.event,r(s),r(l),r(c),t.updateEvent)}),P(v,b)},$$slots:{default:!0}}),v=>n(v),()=>n()),_e()}rt(["input","change","click"]);var po=J(`<div class="mobile-instructions alert alert-info mb-3 svelte-13yj3sw"><small><strong>Mobile Tip:</strong> Tap and hold an event for a moment to drag
            or resize it on touch devices.</small></div>`),Mo=J("<!> <!> <!>",1);function Po(e,t){ge(t,!0);let n=xe(In([]));Ti(t.dbWorker).then(g=>K(n,g,!0));let i=xe(null),a=xe(void 0),s=xe(!1),l=xe(!1);function c(){typeof window<"u"&&K(l,window.innerWidth<=768||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),!0)}Be(()=>{if(c(),typeof window<"u")return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)});function f(){typeof document<"u"&&(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%")}function v(){typeof document<"u"&&(document.body.style.overflow="",document.body.style.position="",document.body.style.width="")}async function d(g){let R=new Date(g.event.start),y=new Date(g.event.end),C=await Ri(R,y);console.log("Resize toUpdate: ",C),await pi(t.dbWorker,C.join(", "),`id = ${g.event.id}`)}function b(){K(s,!0),f()}function h(){K(s,!1),v()}let D=In({view:"timeGridWeek",events:t.events,eventClick(g){var R;K(a,g.event,!0),(R=r(i))==null||R.showModal()},async dateClick(){var g;K(a,await xi(t.dbWorker),!0),(g=r(i))==null||g.showModal()},eventDrop:d,eventResize:d,eventDragStart:b,eventDragStop:h,eventResizeStart:b,eventResizeStop:h,editable:!0,pointer:!0,eventDragMinDistance:r(l)?15:5,dragScroll:!0,views:{timeGridWeek:{pointer:!0,eventDragMinDistance:r(l)?15:5},timeGridDay:{pointer:!0,eventDragMinDistance:r(l)?15:5}}});var _=Mo(),w=ee(_);{var u=g=>{var R=po();P(g,R)};le(w,g=>{r(l)&&g(u)})}var m=ie(w,2);Ro(m,{get dbWorker(){return t.dbWorker},get projects(){return r(n)},updateEvent:async()=>{await t.refresh()},get modal(){return r(i)},set modal(g){K(i,g,!0)},get event(){return r(a)},set event(g){K(a,g,!0)}});var x=ie(m,2);const k=E(()=>[bo,Ka]);Ha(x,{get plugins(){return r(k)},get options(){return D}}),P(e,_),_e()}var Io=J("<p>Please wait while the calendar loads</p>");function Zo(e,t){ge(t,!0);let n=xe(null),i=xe(In([]));const a=b=>b.map(h=>({id:h.id,title:h.activity,start:new Date(h.start),end:new Date(h.end),backgroundColor:h.project_color}));async function s(){r(n)&&K(i,a(await Mi(r(n))),!0)}cn(async()=>{const b=await li(()=>import("../chunks/BYbjoqHL.js"),[],import.meta.url);K(n,wi(new b.default),!0),await r(n).initWorker(),await s()});var c=be(),f=ee(c);{var v=b=>{var h=be(),D=ee(h);bi(D,()=>r(i),_=>{Po(_,{get dbWorker(){return r(n)},get events(){return r(i)},refresh:s})}),P(b,h)},d=b=>{var h=Io();P(b,h)};le(f,b=>{r(n)?b(v):b(d,!1)})}P(e,c),_e()}export{Zo as component};
