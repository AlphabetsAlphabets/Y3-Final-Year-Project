import{p as Oe,i as se,b as yt,_ as si}from"../chunks/DM5Mwux_.js";import{c as $e,a as L,f as Z,p as Se,d as tt}from"../chunks/BWJJ8Nft.js";import{ah as kr,g as x,ai as li,k as ci,s as di,ak as ui,t as fi,aW as Ve,aK as Be,aX as vi,y as on,aA as Pn,A as ge,aY as Pe,aZ as hi,a_ as mi,B as j,j as i,D as _e,I as ae,F as ie,H as Q,w as Yt,z as ne,aB as k,f as et,a$ as gi,G as re,az as dn,b0 as Wn,v as _i,b1 as lt,C as Ue,M as yi,al as Er}from"../chunks/DtPNIzaT.js";import{k as bi}from"../chunks/nN7pxkfg.js";import{w as wi}from"../chunks/B8fJUUNV.js";import{c as Bn}from"../chunks/ORjj_AIJ.js";import{s as q,a as ct,e as Gn,f as fr,r as tn,d as nn}from"../chunks/Bsg0kGkC.js";import{s as xe,a as o,b as me,d as Ie}from"../chunks/B-vV4sKl.js";import{e as Ye,i as bt,s as Pt}from"../chunks/C9ip0I7f.js";import"../chunks/C-QMSnhD.js";import{s as vr}from"../chunks/D7PZLOxe.js";import{i as Yn}from"../chunks/U4URkpAR.js";import{M as Di}from"../chunks/en4OGELR.js";import{f as hr,h as $i,u as Ti,b as Ci,a as ki,l as Ei}from"../chunks/Bm68CKNN.js";import{c as Si,a as pi,l as xi,b as Ri}from"../chunks/Bv_r7GIl.js";function Et(e,t,n){kr(()=>{var r=x(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var a=!1,s={};li(()=>{var l=n();ci(l),a&&di(s,l)&&(s=l,r.update(l))}),a=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function wt(e,t,n){var r=ui(e,t);r&&r.set&&(e[t]=n,fi(()=>{e[t]=null}))}function Mi(e){return function(t){return t.key==="Enter"||t.key===" "&&!t.preventDefault()?e.call(this,t):void 0}}function pe(e,t){let n={update(r){typeof r=="string"?e.innerText=r:r!=null&&r.domNodes?e.replaceChildren(...r.domNodes):r!=null&&r.html&&(e.innerHTML=r.html)}};return n.update(t),n}function Cn(e,t){let n=new ResizeObserver(r=>{for(let a of r)t(a)});return n.observe(e),{destroy(){n.unobserve(e)}}}const Ln=86400;function ut(e=void 0){return e!==void 0?e instanceof Date?gr(e):Li(e):gr(new Date)}function Me(e){if(typeof e=="number")e={seconds:e};else if(typeof e=="string"){let n=0,r=2;for(let a of e.split(":",3))n+=parseInt(a,10)*Math.pow(60,r--);e={seconds:n}}else e instanceof Date&&(e={hours:e.getUTCHours(),minutes:e.getUTCMinutes(),seconds:e.getUTCSeconds()});let t=e.weeks||e.week||0;return{years:e.years||e.year||0,months:e.months||e.month||0,days:t*7+(e.days||e.day||0),seconds:(e.hours||e.hour||0)*60*60+(e.minutes||e.minute||0)*60+(e.seconds||e.second||0),inWeeks:!!t}}function B(e){return new Date(e.getTime())}function ce(e,t,n=1){e.setUTCFullYear(e.getUTCFullYear()+n*t.years);let r=e.getUTCMonth()+n*t.months;for(e.setUTCMonth(r),r%=12,r<0&&(r+=12);e.getUTCMonth()!==r;)Lt(e);return e.setUTCDate(e.getUTCDate()+n*t.days),e.setUTCSeconds(e.getUTCSeconds()+n*t.seconds),e}function an(e,t,n=1){return ce(e,t,-n)}function $t(e,t=1){return e.setUTCDate(e.getUTCDate()+t),e}function Lt(e,t=1){return $t(e,-t)}function qe(e){return e.setUTCHours(0,0,0,0),e}function Fe(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function dt(e,t=19){return e.toISOString().substring(0,t)}function je(e,...t){return t.every(n=>e.getTime()===n.getTime())}function Pi(e,t){let n=t-e.getUTCDay();return e.setUTCDate(e.getUTCDate()+(n>=0?n:n+7)),e}function Sr(e,t){let n=t-e.getUTCDay();return e.setUTCDate(e.getUTCDate()+(n<=0?n:n-7)),e}function mr(e){return typeof e=="string"&&e.length<=10}function In(e,t){return e.setUTCHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),0),e}function Qe(e){return e.seconds}function An(e,t){return ce(e,t),e}function zn(e,t,n){if(an(e,t),n.length&&n.length<7)for(;n.includes(e.getUTCDay());)Lt(e);return e}function gr(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()))}function Li(e){const t=e.match(/\d+/g);return new Date(Date.UTC(Number(t[0]),Number(t[1])-1,Number(t[2]),Number(t[3]||0),Number(t[4]||0),Number(t[5]||0)))}function It(...e){return Object.assign(...e)}function _t(e){return Object.keys(e)}function Ii(e){return Object.entries(e)}function Ai(e){return Math.floor(e)}function Dt(...e){return Math.min(...e)}function gt(...e){return Math.max(...e)}function zi(){return Symbol("ec")}function qn(e){return Array.isArray(e)}function de(e){return typeof e=="function"}function Hi(e){return e()}function pr(e){e.forEach(Hi)}function Ui(){}const Hn=e=>e;function xr(e,t,n){n.update(r=>r.set(t,e))}function Fi(e){pr(e),e.clear()}function Oi(e,t,n){t??(t=e),n.has(t)||n.set(t,setTimeout(()=>{n.delete(t),e()}))}let Vn=zi();function Xn(e,t){e[Vn]=t}function Ni(e){return!!(e!=null&&e[Vn])}function Vt(e){return e[Vn]}function Rr(e,t,n,r=[]){let a=document.createElement(e);a.className=t,typeof n=="string"?a.innerText=n:n.domNodes?a.replaceChildren(...n.domNodes):n.html&&(a.innerHTML=n.html);for(let s of r)a.setAttribute(...s);return a}function Wi(e){return e.scrollHeight>e.clientHeight}function At(e){return e.getBoundingClientRect()}function Un(e,t){for(;t--;)e=e.parentElement;return e}function Bi(e){return At(e).height}function Mt(e,t,n=document,r=[]){r.push(n);for(let a of n.elementsFromPoint(e,t)){if(Ni(a))return a;if(a.shadowRoot&&!r.includes(a.shadowRoot)){let s=Mt(e,t,a.shadowRoot,r);if(s)return s}}return null}function qt(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Gi(e,t,n,r){return{type:e,title:t,currentStart:n.start,currentEnd:n.end,activeStart:r.start,activeEnd:r.end,calendar:void 0}}function Ne(e){return e=It({},e),e.currentStart=Fe(e.currentStart),e.currentEnd=Fe(e.currentEnd),e.activeStart=Fe(e.activeStart),e.activeEnd=Fe(e.activeEnd),e}function Mr(e){return e.startsWith("list")}function kn(e){return e.includes("Timeline")}let Yi=1;function sn(e){return e.map(t=>{let n={id:"id"in t?String(t.id):`{generated-${Yi++}}`,resourceIds:En(t,"resourceId").map(String),allDay:t.allDay??(mr(t.start)&&mr(t.end)),start:ut(t.start),end:ut(t.end),title:t.title??"",editable:t.editable,startEditable:t.startEditable,durationEditable:t.durationEditable,display:t.display??"auto",extendedProps:t.extendedProps??{},backgroundColor:t.backgroundColor??t.color,textColor:t.textColor,classNames:En(t,"className"),styles:En(t,"style")};if(n.allDay){qe(n.start);let r=B(n.end);qe(n.end),(!je(n.end,r)||je(n.end,n.start))&&$t(n.end)}return n})}function En(e,t){let n=e[t+"s"]??e[t]??[];return qn(n)?n:[n]}function qi(e){return e.map(t=>({events:t.events,url:t.url&&t.url.trimEnd("&")||"",method:t.method&&t.method.toUpperCase()||"GET",extraParams:t.extraParams||{}}))}function ln(e,t,n){let r={start:e.start>t?e.start:t,end:e.end<n?e.end:n,event:e};return r.zeroDuration=je(r.start,r.end),r}function Pr(e){e.sort((t,n)=>t.start-n.start||n.event.allDay-t.event.allDay)}function Vi(e,t,n,r,a,s){let l=a.formatRange(e.start,t&&e.event.display!=="pointer"&&!e.zeroDuration?In(B(e.start),e.end):e.start),d;if(n&&(d=de(n)?n({event:Ge(e.event),timeText:l,view:Ne(s)}):n),d===void 0){let u;switch(e.event.display){case"background":u=[];break;case"pointer":u=[_r(l,e,r)];break;default:u=[...e.event.allDay?[]:[_r(l,e,r)],Rr("h4",r.eventTitle,e.event.title)]}d={domNodes:u}}return[l,d]}function _r(e,t,n){return Rr("time",n.eventTime,e,[["datetime",dt(t.start)]])}function Xi(e,t,n){let r=t.classNames;return e&&(de(e)&&(e=e({event:Ge(t),view:Ne(n)})),r=[...qn(e)?e:[e],...r]),r}function Ge(e){return Lr(e,Fe)}function Sn(e){return Lr(e,B)}function Lr(e,t){return e=It({},e),e.start=t(e.start),e.end=t(e.end),e}function pn(e,t){let n={};if(e.length){Pr(e);let r;for(let a of e){let s=[],l=qe(B(a.start));for(;a.end>l;){if(!t.includes(l.getUTCDay())&&(s.push(B(l)),s.length>1)){let d=l.getTime();n[d]?n[d].chunks.push(a):n[d]={sorted:!1,chunks:[a]}}$t(l)}if(s.length){a.date=s[0],a.days=s.length,a.dates=s,a.start<s[0]&&(a.start=s[0]);let d=$t(B(s.at(-1)));a.end>d&&(a.end=d)}else a.date=qe(B(a.start)),a.days=1,a.dates=[a.date];r&&je(r.date,a.date)&&(a.prev=r),r=a}}return n}function Ki(e,t,n){e.top=0,e.prev&&(e.top=e.prev.bottom+1),e.bottom=e.top+n;let r=1,a=e.date.getTime();if(t[a]){t[a].sorted||(t[a].chunks.sort((s,l)=>s.top-l.top),t[a].sorted=!0);for(let s of t[a].chunks)if(e.top<s.bottom&&e.bottom>s.top){let l=s.bottom-e.top+1;r+=l,e.top+=l,e.bottom+=l}}return r}function Ir(e,t){var r;e.length=t.length;let n=[];for(let a of e)n.push((r=a==null?void 0:a.reposition)==null?void 0:r.call(a));return n}function cn(e,t,n,r){return e.start<n&&e.end>t?r?(qn(r)||(r=[r]),r.some(a=>e.resourceIds.includes(a.id))):!0:!1}function Xt(e){return Zi(e)||Ar(e)||Ji(e)}function ft(e){return e==="background"}function Zi(e){return e==="preview"}function Ar(e){return e==="ghost"}function Ji(e){return e==="pointer"}function Qi(e){return zr(e,"day")}function ji(e){return zr(e,"week")}function zr(e,t){return{...e,next:"Next "+t,prev:"Previous "+t}}function yr(e){return t=>({...t,view:e})}function ea(e){let t,n;return e&&({start:t,end:n}=e,t&&(t=qe(ut(t))),n&&(n=qe(ut(n)))),{start:t,end:n}}function Kn(e,t){return t.start&&e<t.start||t.end&&e>t.end}function br(e,t){return t.start&&e<t.start&&(e=t.start),t.end&&e>t.end&&(e=t.end),e}function ta(e){let t=[];return Hr(e,0,t),t}function Hr(e,t,n){let r=[];for(let a of e){let s=na(a);r.push(s),n.push(s);let l={level:t,children:[],expanded:!0,hidden:!1};Xn(s,l),a.children&&(l.children=Hr(a.children,t+1,n))}return r}function na(e){return{id:String(e.id),title:e.title||"",eventBackgroundColor:e.eventBackgroundColor,eventTextColor:e.eventTextColor,extendedProps:e.extendedProps??{}}}function ra(e,t){var n;return(n=Ur(e,t))==null?void 0:n.eventBackgroundColor}function ia(e,t){var n;return(n=Ur(e,t))==null?void 0:n.eventTextColor}function Ur(e,t){return t.find(n=>e.resourceIds.includes(n.id))}function xn(e,t){return Ve([e,t],([n,r])=>{let a=de(r)?{format:r}:new Intl.DateTimeFormat(n,r);return{format:s=>a.format(Fe(s))}})}function wr(e,t){return Ve([e,t],([n,r])=>{let a;if(de(r))a=r;else{let s=new Intl.DateTimeFormat(n,r);a=(l,d)=>{if(l<=d)return s.formatRange(l,d);{let u=s.formatRangeToParts(d,l),v="",c=["startRange","endRange"],b=[!1,!1];for(let f of u){let y=c.indexOf(f.source);y>=0?b[y]||(v+=aa(c[1-y],u),b[y]=!0):v+=f.value}return v}}}return{formatRange:(s,l)=>a(Fe(s),Fe(l))}})}function aa(e,t){let n="";for(let r of t)r.source==e&&(n+=r.value);return n}function oa(e,t,n,r,a){e=B(e);let s=[],l=B(e);ce(e,r.min),ce(l,r.max),n===void 0&&(n=t.seconds<3600?Me(t.seconds*2):t);let d=B(e);for(;e<l;){for(s.push([dt(e),a.format(e),e>=d]);n.seconds&&e>=d;)ce(d,n);ce(e,t)}return s}function sa(e,t,n,r,a){let s=Me(e),l=Me(t);if(n){let d=Me(Dt(Qe(s),gt(0,Qe(l)-Ln))),u=Me(gt(Qe(l),Qe(d)+Ln)),v=de(n==null?void 0:n.eventFilter)?n.eventFilter:c=>!ft(c.display);e:for(let c of r){let b=ce(B(c),s),f=ce(B(c),l),y=ce(B(c),d),_=ce(B(c),u);for(let w of a)if(!w.allDay&&v(w)&&w.start<_&&w.end>y){if(w.start<b){let h=gt((w.start-c)/1e3,Qe(d));h<Qe(s)&&(s.seconds=h)}if(w.end>f){let h=Dt((w.end-c)/1e3,Qe(u));h>Qe(l)&&(l.seconds=h)}if(Qe(s)===Qe(d)&&Qe(l)===Qe(u))break e}}}return{min:s,max:l}}function la(e){var n;let t={allDayContent:void 0,allDaySlot:!0,buttonText:{today:"today"},customButtons:{},date:new Date,datesSet:void 0,dayHeaderFormat:{weekday:"short",month:"numeric",day:"numeric"},dayHeaderAriaLabelFormat:{dateStyle:"full"},displayEventEnd:!0,duration:{weeks:1},events:[],eventAllUpdated:void 0,eventBackgroundColor:void 0,eventClassNames:void 0,eventClick:void 0,eventColor:void 0,eventContent:void 0,eventDidMount:void 0,eventFilter:void 0,eventMouseEnter:void 0,eventMouseLeave:void 0,eventSources:[],eventTextColor:void 0,eventTimeFormat:{hour:"numeric",minute:"2-digit"},filterEventsWithResources:!1,filterResourcesWithEvents:!1,firstDay:0,flexibleSlotTimeLimits:!1,headerToolbar:{start:"title",center:"",end:"today prev,next"},height:void 0,hiddenDays:[],highlightedDates:[],lazyFetching:!0,loading:void 0,locale:void 0,nowIndicator:!1,resourceLabelContent:void 0,resourceLabelDidMount:void 0,resources:[],selectable:!1,scrollTime:"06:00:00",slotDuration:"00:30:00",slotEventOverlap:!0,slotHeight:24,slotLabelInterval:void 0,slotLabelFormat:{hour:"numeric",minute:"2-digit"},slotMaxTime:"24:00:00",slotMinTime:"00:00:00",slotWidth:72,theme:{allDay:"ec-all-day",active:"ec-active",bgEvent:"ec-bg-event",bgEvents:"ec-bg-events",body:"ec-body",button:"ec-button",buttonGroup:"ec-button-group",calendar:"ec",content:"ec-content",day:"ec-day",dayHead:"ec-day-head",days:"ec-days",disabled:"ec-disabled",event:"ec-event",eventBody:"ec-event-body",eventTime:"ec-event-time",eventTitle:"ec-event-title",events:"ec-events",extra:"ec-extra",handle:"ec-handle",header:"ec-header",hiddenScroll:"ec-hidden-scroll",highlight:"ec-highlight",icon:"ec-icon",line:"ec-line",lines:"ec-lines",minor:"ec-minor",nowIndicator:"ec-now-indicator",otherMonth:"ec-other-month",resource:"ec-resource",sidebar:"ec-sidebar",sidebarTitle:"ec-sidebar-title",today:"ec-today",time:"ec-time",title:"ec-title",toolbar:"ec-toolbar",view:"",weekdays:["ec-sun","ec-mon","ec-tue","ec-wed","ec-thu","ec-fri","ec-sat"],withScroll:"ec-with-scroll"},titleFormat:{year:"numeric",month:"short",day:"numeric"},validRange:void 0,view:void 0,viewDidMount:void 0,views:{}};for(let r of e)(n=r.createOptions)==null||n.call(r,t);return t}function ca(e){var n;let t={date:r=>qe(ut(r)),duration:Me,events:sn,eventSources:qi,hiddenDays:r=>[...new Set(r)],highlightedDates:r=>r.map(a=>qe(ut(a))),resources:ta,scrollTime:Me,slotDuration:Me,slotLabelInterval:r=>r!==void 0?Me(r):void 0,slotMaxTime:Me,slotMinTime:Me,validRange:ea};for(let r of e)(n=r.createParsers)==null||n.call(r,t);return t}function da(e,t){let n=[];for(let r of _t(e))e[r]!==t[r]&&n.push([r,e[r]]);return n}function ua(e){return Ve(e.view,t=>t==null?void 0:t.startsWith("dayGrid"))}function fa(e){return Ve([e._currentRange,e.firstDay,e.slotMaxTime,e._dayGrid],([t,n,r,a])=>{let s=B(t.start),l=B(t.end);if(a)Sr(s,n),Pi(l,n);else if(r.days||r.seconds>Ln){ce(Lt(l),r);let d=Lt(B(l));d<s&&(s=d)}return{start:s,end:l}})}function va(e){return Ve([e.date,e.duration,e.firstDay],([t,n,r])=>{let a=B(t),s;return n.months?a.setUTCDate(1):n.inWeeks&&Sr(a,r),s=ce(B(a),n),{start:a,end:s}})}function ha(e){return Ve([e._activeRange,e.hiddenDays],([t,n])=>{let r=[],a=qe(B(t.start)),s=qe(B(t.end));for(;a<s;)n.includes(a.getUTCDay())||r.push(B(a)),$t(a);return!r.length&&n.length&&n.length<7&&(e.date.update(l=>{for(;n.includes(l.getUTCDay());)$t(l);return l}),r=on(e._viewDates)),r})}function ma(e){return Ve([e.date,e._activeRange,e._intlTitle,e._dayGrid],([t,n,r,a])=>a?r.formatRange(t,t):r.formatRange(n.start,Lt(B(n.end))))}function ga(e){return Ve([e.view,e._viewTitle,e._currentRange,e._activeRange],t=>Gi(...t))}function _a(e){let t=Be([]),n,r=0,a={};return Ve([e.events,e.eventSources,e._activeRange,e._fetchedRange,e.lazyFetching,e.loading],(s,l)=>xr(()=>{let[d,u,v,c,b,f]=s;if(!u.length){l(d);return}if(!c.start||c.start>v.start||c.end<v.end||!b){n&&n.abort(),n=new AbortController,de(f)&&!r&&f(!0);let y=()=>{--r===0&&de(f)&&f(!1)},_=[],w=g=>y(),h=g=>{_=_.concat(sn(g)),l(_),y()},m=dt(v.start),S=dt(v.end);for(let g of u){if(de(g.events)){let T=g.events({start:Fe(v.start),end:Fe(v.end),startStr:m,endStr:S},h,w);T!==void 0&&Promise.resolve(T).then(h,w)}else{let T=de(g.extraParams)?g.extraParams():It({},g.extraParams);T.start=m,T.end=S,T=new URLSearchParams(T);let M=g.url,$={},p;["GET","HEAD"].includes(g.method)?M+=(M.includes("?")?"&":"?")+T:($["content-type"]="application/x-www-form-urlencoded;charset=UTF-8",p=String(T)),fetch(M,{method:g.method,headers:$,body:p,signal:n.signal,credentials:"same-origin"}).then(R=>R.json()).then(h).catch(w)}++r}c.start=v.start,c.end=v.end}},a,e._queue),[]).subscribe(t.set),t}function ya(e){let t;e._view.subscribe(r=>t=r);let n={};return Ve([e._events,e.eventFilter],(r,a)=>xr(()=>{let[s,l]=r;a(de(l)?s.filter((d,u,v)=>l({event:d,index:u,events:v,view:t})):s)},n,e._queue),[])}function ba(){return vi(ut(),e=>{let t=setInterval(()=>{e(ut())},1e3);return()=>clearInterval(t)})}function wa(e){return Ve(e._now,t=>qe(B(t)))}class Da{constructor(t,n){var l,d;t=t||[];let r=la(t),a=ca(t);r=Fn(r,a),n=Fn(n,a);for(let[u,v]of Object.entries(r))this[u]=Be(v);this._queue=Be(new Map),this._tasks=new Map,this._auxiliary=Be([]),this._dayGrid=ua(this),this._currentRange=va(this),this._activeRange=fa(this),this._fetchedRange=Be({start:void 0,end:void 0}),this._events=_a(this),this._now=ba(),this._today=wa(this),this._intlEventTime=wr(this.locale,this.eventTimeFormat),this._intlSlotLabel=xn(this.locale,this.slotLabelFormat),this._intlDayHeader=xn(this.locale,this.dayHeaderFormat),this._intlDayHeaderAL=xn(this.locale,this.dayHeaderAriaLabelFormat),this._intlTitle=wr(this.locale,this.titleFormat),this._bodyEl=Be(void 0),this._scrollable=Be(!1),this._recheckScrollable=Be(!1),this._viewTitle=ma(this),this._viewDates=ha(this),this._view=ga(this),this._viewComponent=Be(void 0),this._filteredEvents=ya(this),this._interaction=Be({}),this._iEvents=Be([null,null]),this._iClasses=Be(Hn),this._iClass=Be(void 0),this._set=(u,v)=>{On(u,this)&&(a[u]&&(v=a[u](v)),this[u].set(v))},this._get=u=>On(u,this)?on(this[u]):void 0;for(let u of t)(l=u.createStores)==null||l.call(u,this);n.view&&this.view.set(n.view);let s=new Set([..._t(r.views),..._t(n.views??{})]);for(let u of s){let v=Dr(r,r.views[u]??{}),c=Dr(v,n,((d=n.views)==null?void 0:d[u])??{}),b=c.component;$a(c,this);for(let f of _t(c)){let{set:y,_set:_=y,...w}=this[f];this[f]={set:["buttonText","theme"].includes(f)?h=>{if(de(h)){let m=h(v[f]);c[f]=m,y(y===_?m:h)}else c[f]=h,y(h)}:h=>{c[f]=h,y(h)},_set:_,...w}}this.view.subscribe(f=>{if(f===u){this._viewComponent.set(b),de(c.viewDidMount)&&Pn().then(()=>c.viewDidMount({view:Ne(on(this._view))}));for(let y of _t(c))this[y]._set(c[y])}})}}}function Fn(e,t){let n={...e};for(let r of _t(t))r in n&&(n[r]=t[r](n[r]));if(e.views){n.views={};for(let r of _t(e.views))n.views[r]=Fn(e.views[r],t)}return n}function Dr(...e){let t={};for(let n of e){let r={};for(let a of["buttonText","theme"])de(n[a])&&(r[a]=n[a](t[a]));t={...t,...n,...r}}return t}function $a(e,t){_t(e).filter(n=>!On(n,t)||n==="view").forEach(n=>delete e[n])}function On(e,t){return t.hasOwnProperty(e)&&e[0]!=="_"}var Ta=Z("<h2></h2>"),Ca=Z("<button><i></i></button>"),ka=Z("<button><i></i></button>"),Ea=Z("<button> </button>"),Sa=Z("<button></button>"),pa=Z("<button> </button>");function $r(e,t){ge(t,!1);const[n,r]=xe(),a=()=>o(A,"$validRange",n),s=()=>o(M,"$date",n),l=()=>o($,"$duration",n),d=()=>o(p,"$hiddenDays",n),u=()=>o(h,"$_currentRange",n),v=()=>o(S,"$_viewDates",n),c=()=>o(R,"$theme",n),b=()=>o(m,"$_viewTitle",n),f=()=>o(g,"$buttonText",n),y=()=>o(T,"$customButtons",n),_=()=>o(z,"$view",n);let w=Oe(t,"buttons",8),{_currentRange:h,_viewTitle:m,_viewDates:S,buttonText:g,customButtons:T,date:M,duration:$,hiddenDays:p,theme:R,validRange:A,view:z}=Pe("state"),U=qe(ut()),F=Yt(),V=Yt(),I=Yt(),G=Yt(!1);function be(){return i(G)}function oe(){return v().every(ue=>Kn(ue,a()))}function P(){me(M,zn(s(),l(),d()))}function X(){me(M,An(s(),l()))}hi(()=>(a(),s(),l(),d(),i(I),u(),Pn),()=>{if(!be()){if(ne(G,!0),ne(F,!1),ne(V,!1),a().start){let ue=B(s());me(M,zn(s(),l(),d())),ne(F,oe()),me(M,ue)}if(a().end){let ue=B(s());me(M,An(s(),l())),ne(V,oe()),me(M,ue)}if(ne(I,U>=u().start&&U<u().end),!i(I)&&(a().start||a().end)){let ue=B(s());me(M,B(U)),ne(I,oe()),me(M,ue)}Pn().then(()=>ne(G,!1))}}),mi(),Yn();var ee=$e(),Ce=j(ee);Ye(Ce,1,w,bt,(ue,O)=>{var Ae=$e(),We=j(Ae);{var ze=we=>{var fe=Ta();Et(fe,(Le,Xe)=>pe==null?void 0:pe(Le,Xe),b),ae(()=>q(fe,1,(c(),x(()=>c().title)))),L(we,fe)},vt=(we,fe)=>{{var Le=Re=>{var ke=Ca(),ve=ie(ke);Q(ke),ae(()=>{q(ke,1,`${c(),x(()=>c().button)??""} ec-${i(O)??""}`),ct(ke,"aria-label",(f(),x(()=>f().prev))),ct(ke,"title",(f(),x(()=>f().prev))),ke.disabled=i(F),q(ve,1,`${c(),x(()=>c().icon)??""} ec-${i(O)??""}`)}),Se("click",ke,P),L(Re,ke)},Xe=(Re,ke)=>{{var ve=K=>{var le=ka(),E=ie(le);Q(le),ae(()=>{q(le,1,`${c(),x(()=>c().button)??""} ec-${i(O)??""}`),ct(le,"aria-label",(f(),x(()=>f().next))),ct(le,"title",(f(),x(()=>f().next))),le.disabled=i(V),q(E,1,`${c(),x(()=>c().icon)??""} ec-${i(O)??""}`)}),Se("click",le,X),L(K,le)},N=(K,le)=>{{var E=J=>{var he=Ea(),Ke=ie(he,!0);Q(he),ae(()=>{q(he,1,`${c(),x(()=>c().button)??""} ec-${i(O)??""}`),he.disabled=i(I),vr(Ke,(f(),i(O),x(()=>f()[i(O)])))}),Se("click",he,()=>me(M,B(U))),L(J,he)},H=(J,he)=>{{var Ke=it=>{var De=Sa();kr(()=>Se("click",De,function(...ht){var at;(at=y()[i(O)].click)==null||at.apply(this,ht)})),Et(De,(ht,at)=>pe==null?void 0:pe(ht,at),()=>y()[i(O)].text),ae(()=>q(De,1,`${c(),x(()=>c().button)??""} ec-${i(O)??""}${y(),i(O),c(),x(()=>y()[i(O)].active?" "+c().active:"")??""}`)),L(it,De)},zt=(it,De)=>{{var ht=at=>{var Tt=pa(),un=ie(Tt,!0);Q(Tt),ae(()=>{q(Tt,1,`${c(),x(()=>c().button)??""}${_(),i(O),c(),x(()=>_()===i(O)?" "+c().active:"")??""} ec-${i(O)??""}`),vr(un,(f(),i(O),x(()=>f()[i(O)])))}),Se("click",Tt,()=>me(z,i(O))),L(at,Tt)};se(it,at=>{i(O)!=""&&at(ht)},De)}};se(J,it=>{y(),i(O),x(()=>y()[i(O)])?it(Ke):it(zt,!1)},he)}};se(K,J=>{i(O)=="today"?J(E):J(H,!1)},le)}};se(Re,K=>{i(O)=="next"?K(ve):K(N,!1)},ke)}};se(we,Re=>{i(O)=="prev"?Re(Le):Re(Xe,!1)},fe)}};se(We,we=>{i(O)=="title"?we(ze):we(vt,!1)})}L(ue,Ae)}),L(e,ee),_e(),r()}var xa=Z("<div><!></div>"),Ra=Z("<div></div>"),Ma=Z("<nav></nav>");function Pa(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(l,"$headerToolbar",n),s=()=>o(d,"$theme",n);let{headerToolbar:l,theme:d}=Pe("state"),u=k(()=>{var b;let c={};for(let f of["start","center","end"])c[f]=((b=a()[f])==null?void 0:b.split(" ").map(y=>y.split(",")))??[];return c});var v=Ma();Ye(v,21,()=>_t(i(u)),bt,(c,b)=>{var f=Ra();Ye(f,21,()=>i(u)[i(b)],bt,(y,_)=>{var w=$e(),h=j(w);{var m=g=>{var T=xa(),M=ie(T);$r(M,{get buttons(){return i(_)}}),Q(T),ae(()=>q(T,1,s().buttonGroup)),L(g,T)},S=g=>{$r(g,{get buttons(){return i(_)}})};se(h,g=>{i(_).length>1?g(m):g(S,!1)})}L(y,w)}),Q(f),ae(()=>q(f,1,`ec-${i(b)??""}`)),L(c,f)}),Q(v),ae(()=>q(v,1,s().toolbar)),L(e,v),_e(),r()}function La(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(h,"$_activeRange",n),s=()=>o(y,"$datesSet",n),l=()=>o(p,"$_view",n),d=()=>o(m,"$_filteredEvents",n),u=()=>o(_,"$eventAllUpdated",n),v=()=>o($,"$_queue",n),c=()=>o(M,"$_recheckScrollable",n),b=()=>o(g,"$_bodyEl",n),f=()=>o(w,"$_auxiliary",n);let{datesSet:y,eventAllUpdated:_,_auxiliary:w,_activeRange:h,_filteredEvents:m,_scrollable:S,_bodyEl:g,_tasks:T,_recheckScrollable:M,_queue:$,_view:p}=Pe("state");et(()=>{a(),x(()=>{de(s())&&s()({start:Fe(a().start),end:Fe(a().end),startStr:dt(a().start),endStr:dt(a().end),view:Ne(l())})})}),et(()=>{d(),x(()=>{de(u())&&Oi(()=>u()({view:Ne(l())}),"eau",T)})}),et(()=>{v(),x(()=>{Fi(v())})}),et(()=>{c(),x(()=>{b()&&me(S,Wi(b())),me(M,!1)})});var R=$e(),A=j(R);Ye(A,1,f,bt,(z,U)=>{var F=$e(),V=j(F);Bn(V,()=>i(U),(I,G)=>{G(I,{})}),L(z,F)}),L(e,R),_e(),r()}var Ia=Z("<div><!> <!></div> <!>",1);function Aa(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(M,"$_events",n),s=()=>o(g,"$_interaction",n),l=()=>o(p,"$date",n),d=()=>o(R,"$duration",n),u=()=>o(A,"$hiddenDays",n),v=()=>o(S,"$_viewComponent",n),c=()=>o(U,"$theme",n),b=()=>o($,"$_scrollable",n),f=()=>o(T,"$_iClass",n),y=()=>o(z,"$height",n),_=()=>o(F,"$view",n);let w=Oe(t,"plugins",19,()=>[]),h=Oe(t,"options",19,()=>({})),m=new Da(w(),h());gi("state",m);let{_viewComponent:S,_interaction:g,_iClass:T,_events:M,_scrollable:$,date:p,duration:R,hiddenDays:A,height:z,theme:U,view:F}=m,V={...h()};et(()=>{for(let[N,K]of da(h(),V))x(()=>{I(N,K)});It(V,h())});function I(N,K){return m._set(N,K),this}function G(N){let K=m._get(N);return K instanceof Date?Fe(K):K}function be(){return m._fetchedRange.set({start:void 0,end:void 0}),this}function oe(){return a().map(Ge)}function P(N){for(let K of a())if(K.id==N)return Ge(K);return null}function X(N){return N=sn([N])[0],a().push(N),me(M,a()),Ge(N)}function ee(N){let K=String(N.id),le=a().findIndex(E=>E.id===K);return le>=0?(N=sn([N])[0],Ie(M,x(a)[le]=N,x(a)),Ge(N)):null}function Ce(N){N=String(N);let K=a().findIndex(le=>le.id===N);return K>=0&&(a().splice(K,1),me(M,a())),this}function ue(){return Ne(on(m._view))}function O(){var N;return(N=s().action)==null||N.unselect(),this}function Ae(N,K){let le=Mt(N,K);if(le){let E=Vt(le)(N,K);return E.date=Fe(E.date),E}return null}function We(){return me(p,An(l(),d())),this}function ze(){return me(p,zn(l(),d(),u())),this}let vt=k(v);var we=Ia(),fe=j(we);let Le;var Xe=ie(fe);Pa(Xe,{});var Re=re(Xe,2);Bn(Re,()=>i(vt),(N,K)=>{K(N,{})}),Q(fe);var ke=re(fe,2);La(ke,{}),ae(N=>{q(fe,1,`${c().calendar??""} ${c().view??""}${b()?" "+c().withScroll:""}${f()?" "+c()[f()]:""}`),ct(fe,"role",N),Le=Gn(fe,"",Le,{height:y()})},[()=>Mr(_())?"list":"table"]),L(e,we);var ve=_e({setOption:I,getOption:G,refetchEvents:be,getEvents:oe,getEventById:P,addEvent:X,updateEvent:ee,removeEventById:Ce,getView:ue,unselect:O,dateFromPoint:Ae,next:We,prev:ze});return r(),ve}var za=Z("<div></div>"),Ha=Z("<article><!></article>");function Ua(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(G,"$resources",n),s=()=>o($,"$eventBackgroundColor",n),l=()=>o(p,"$eventColor",n),d=()=>o(I,"$eventTextColor",n),u=()=>o(be,"$theme",n),v=()=>o(U,"$eventClassNames",n),c=()=>o(oe,"$_view",n),b=()=>o(M,"$displayEventEnd",n),f=()=>o(R,"$eventContent",n),y=()=>o(P,"$_intlEventTime",n),_=()=>o(z,"$eventDidMount",n),w=()=>o(A,"$eventClick",n),h=()=>o(F,"$eventMouseEnter",n),m=()=>o(V,"$eventMouseLeave",n);let S=Oe(t,"el",15),g=Oe(t,"classes",3,Hn),T=Oe(t,"styles",3,Hn),{displayEventEnd:M,eventBackgroundColor:$,eventColor:p,eventContent:R,eventClick:A,eventDidMount:z,eventClassNames:U,eventMouseEnter:F,eventMouseLeave:V,eventTextColor:I,resources:G,theme:be,_view:oe,_intlEventTime:P}=Pe("state"),X=k(()=>t.chunk.event),ee=k(()=>t.chunk.event.display),Ce=k(()=>i(X).backgroundColor??ra(i(X),a())??s()??l()),ue=k(()=>i(X).textColor??ia(i(X),a())??d()),O=k(()=>Ii(T()({"background-color":i(Ce),color:i(ue)})).map(E=>`${E[0]}:${E[1]}`).concat(i(X).styles).join(";")),Ae=k(()=>g()([ft(i(ee))?u().bgEvent:u().event,...Xi(v(),i(X),c())]).join(" ")),We=k(()=>Vi(t.chunk,b(),f(),u(),y(),c())),ze=k(()=>Wn(i(We),2)),vt=k(()=>i(ze)[0]),we=k(()=>i(ze)[1]);dn(()=>{de(_())&&_()({event:Ge(i(X)),timeText:i(vt),el:S(),view:Ne(c())})});function fe(E,H){return!Xt(H)&&de(E)?J=>E({event:Ge(i(X)),el:S(),jsEvent:J,view:Ne(c())}):void 0}let Le=k(()=>!ft(i(ee))&&fe(w(),i(ee))||void 0),Xe=k(()=>i(Le)&&Mi(i(Le))),Re=k(()=>fe(h(),i(ee))),ke=k(()=>fe(m(),i(ee)));var ve=Ha();ve.__click=function(...E){var H;(H=i(Le))==null||H.apply(this,E)},ve.__keydown=function(...E){var H;(H=i(Xe))==null||H.apply(this,E)},ve.__pointerdown=function(...E){var H;(H=t.onpointerdown)==null||H.apply(this,E)};{const E=H=>{var J=za();Et(J,(he,Ke)=>pe==null?void 0:pe(he,Ke),()=>i(we)),ae(()=>q(J,1,fr(u().eventBody))),L(H,J)};var N=ie(ve);{var K=H=>{var J=$e(),he=j(J);Pt(he,()=>t.body,()=>E,()=>i(Ce),()=>i(ue)),L(H,J)},le=H=>{E(H)};se(N,H=>{t.body?H(K):H(le,!1)})}Q(ve),yt(ve,H=>S(H),()=>S())}ae(()=>{q(ve,1,fr(i(Ae))),Gn(ve,i(O)),ct(ve,"role",i(Le)?"button":void 0),ct(ve,"tabindex",i(Le)?0:void 0)}),Se("mouseenter",ve,function(...E){var H;(H=i(Re))==null||H.apply(this,E)}),Se("mouseleave",ve,function(...E){var H;(H=i(ke))==null||H.apply(this,E)}),L(e,ve),_e(),r()}tt(["click","keydown","pointerdown"]);function Fr(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(u,"$_iClasses",n),s=()=>o(d,"$_interaction",n);let l=Oe(t,"el",15),{_interaction:d,_iClasses:u}=Pe("state"),v=k(()=>t.chunk.event),c=k(()=>t.chunk.event.display),b=k(()=>w=>a()(w,i(v)));function f(w){var h,m;return(h=s().action)!=null&&h.draggable(w)?S=>{var g,T;return s().action.drag(w,S,(g=t.forceDate)==null?void 0:g.call(t),(T=t.forceMargin)==null?void 0:T.call(t))}:(m=s().action)==null?void 0:m.noAction}let y=k(()=>!ft(i(c))&&!Xt(i(c))?f(i(v)):void 0),_=k(()=>s().resizer);Ua(e,{get chunk(){return t.chunk},get classes(){return i(b)},get styles(){return t.styles},get onpointerdown(){return i(y)},get el(){return l()},set el(h){l(h)},body:(h,m=_i)=>{var S=$e(),g=j(S);{var T=$=>{var p=$e(),R=j(p);Bn(R,()=>i(_),(A,z)=>{z(A,{get chunk(){return t.chunk},get axis(){return t.axis},get forceDate(){return t.forceDate},get forceMargin(){return t.forceMargin},children:(U,F)=>{var V=$e(),I=j(V);Pt(I,m),L(U,V)},$$slots:{default:!0}})}),L($,p)},M=$=>{var p=$e(),R=j(p);Pt(R,m),L($,p)};se(g,$=>{i(_)?$(T):$(M,!1)})}L(h,S)},$$slots:{body:!0}}),_e(),r()}tt(["pointerdown","click","keydown"]);tt(["pointerdown","click","keydown"]);function Or(e,t,n){return e.startEditable??t??e.editable??n}function Fa(e,t,n){return e.durationEditable??t??e.editable??n}let Rn=!1;function Oa(e){Rn||(Rn=!0,window.requestAnimationFrame(()=>{e(),Rn=!1}))}function Tr(e,t,n){return gt(t,Dt(n,e))}function Na(e,t){ge(t,!1);const[n,r]=xe(),a=()=>o(ve,"$eventStartEditable",n),s=()=>o(ke,"$editable",n),l=()=>o(Wr,"$slotDuration",n),d=()=>o(De,"$selectable",n),u=()=>o(Kr,"$view",n),v=()=>o(we,"$_bodyEl",n),c=()=>o(fe,"$datesAboveResources",n),b=()=>o(un,"$selectLongPressDelay",n),f=()=>o(H,"$eventLongPressDelay",n),y=()=>o(zt,"$longPressDelay",n),_=()=>o(Nr,"$selectMinDistance",n),w=()=>o(N,"$eventDragMinDistance",n),h=()=>o(O,"$_iEvents",n),m=()=>o(J,"$eventResizeStart",n),S=()=>o(K,"$eventDragStart",n),g=()=>o(it,"$resizeConstraint",n),T=()=>o(Tt,"$selectConstraint",n),M=()=>o(Xe,"$dragConstraint",n),$=()=>o(Re,"$dragScroll",n),p=()=>o(Br,"$slotHeight",n),R=()=>o(Gr,"$slotWidth",n),A=()=>o(qr,"$unselectAuto",n),z=()=>o(Vr,"$unselectCancel",n),U=()=>o(ht,"$selectFn",n),F=()=>o(he,"$eventResizeStop",n),V=()=>o(le,"$eventDragStop",n),I=()=>o(ze,"$_view",n),G=()=>o(Ke,"$eventResize",n),be=()=>o(E,"$eventDrop",n),oe=()=>o(Le,"$dateClick",n),P=()=>o(Xr,"$validRange",n),X=()=>o(vt,"$_dayGrid",n),ee=()=>o(We,"$_events",n),Ce=()=>o(at,"$selectBackgroundColor",n),ue=()=>o(Yr,"$unselectFn",n);let{_iEvents:O,_iClass:Ae,_events:We,_view:ze,_dayGrid:vt,_bodyEl:we,datesAboveResources:fe,dateClick:Le,dragConstraint:Xe,dragScroll:Re,editable:ke,eventStartEditable:ve,eventDragMinDistance:N,eventDragStart:K,eventDragStop:le,eventDrop:E,eventLongPressDelay:H,eventResizeStart:J,eventResizeStop:he,eventResize:Ke,longPressDelay:zt,resizeConstraint:it,selectable:De,select:ht,selectBackgroundColor:at,selectConstraint:Tt,selectLongPressDelay:un,selectMinDistance:Nr,slotDuration:Wr,slotHeight:Br,slotWidth:Gr,unselect:Yr,unselectAuto:qr,unselectCancel:Vr,validRange:Xr,view:Kr}=Pe("state");const Zn=1,Jn=2,Qn=3,jn=4,fn=5,Kt=6;let Ee,St,W,vn,nt,hn,Ze,pt,mn,gn,He,Te,ot,Je,Ht,Zt,st,mt,Jt,ye,Qt,jt,_n,Ut=Yt(),Ft,Ot,xt;function er(D){return Or(D,a(),s())}function tr(D,C,te,Y){Ee||(Ee=Dn(C)?Zn:Kt,kt()&&(W=D,yn(C),te&&(nt=te),Y&&(Ot=Y),Jt="dragging",Rt(C)))}function nr(D,C,te,Y,rt,Gt,Tn){Ee||(Ee=Dn(C)?te?Qn:Jn:Kt,kt()&&(W=D,yn(C),rt&&(nt=rt),Gt&&(Ot=Gt),Jt=Y==="x"?"resizingX":"resizingY",en()?(ye=B(W.end),mt?(In(ye,W.start),ye>=W.end&&Lt(ye)):(an(ye,l()),ye<W.start&&(ye=W.start),nt=W.start)):(ye=B(W.start),mt?(In(ye,W.end),ye<=W.start&&!Tn&&$t(ye)):(ce(ye,l()),ye>W.end&&(ye=W.end),nt=W.end,Tn||(nt=an(B(nt),l()))),Tn&&!mt&&(xt=l())),Rt(C)))}function rr(D){Ee||(Ee=Dn(D)?d()&&!Mr(u())?jn:fn:Kt,kt()&&(yn(D),Jt="selecting",Qt=mt?Me({day:1}):l(),W={allDay:mt,start:nt,end:ce(B(nt),Qt),resourceIds:Ze?[Ze.id]:[]},Rt(D)))}function ir(){Ee||(Ee=Kt)}function yn(D){window.getSelection().removeAllRanges(),mn=He=D.clientX,gn=Te=D.clientY;let C=Mt(He,Te);({allDay:mt,date:nt,resource:Ze}=Vt(C)(He,Te)),kn(u())?ot=Ht=v():(ot=Un(C,Ze?4:3),Ht=Un(C,Ze&&(ti()||c())?2:1)),or(),D.pointerType!=="mouse"&&ne(Ut,setTimeout(()=>{Ee&&(St=!0,Rt(D))},(Ct()?b():f())??y()))}function Rt(D){if(St||D&&D.pointerType==="mouse"&&ei()>=(Ct()?_():w())){St=!0,Bt(D),me(Ae,Jt),h()[0]||(Ct()?jr():Qr(D,Wt()?m():S()));let C=wn(Jr());if(C){let te;if({allDay:te,date:hn,resource:pt}=C,te===mt){let Y=Nt({},h()[0]),rt=g();st=Me((hn-nt)/1e3),en()?(Y.start=ce(B(W.start),st),Y.start>ye&&(Y.start=ye,st=Me((ye-W.start)/1e3))):(Y.end=ce(B(W.end),st),xt&&ce(Y.end,xt),Wt()?Y.end<ye&&(Y.end=ye,st=Me((ye-W.end)/1e3)):Ct()?(Y.end<W.end?(Y.start=an(Y.end,Qt),Y.end=W.end):Y.start=W.start,rt=T()):(Y.start=ce(B(W.start),st),Ze&&(Y.resourceIds=W.resourceIds.filter(Gt=>Gt!==Ze.id),Y.resourceIds.push(pt.id)),rt=M()));do{if(rt!==void 0&&(Y=Nt(Sn(W),Y),rt(Ct()?cr(Y,D):dr(Y,W,D))===!1)){Ie(O,x(h)[0]=Nt(h()[0],W),x(h));break}Ie(O,x(h)[0]=Nt(h()[0],Y),x(h))}while(!1)}}}if($()){let C=p()*2,te=R();Oa(()=>{ot&&(Te<C&&window.scrollBy(0,gt(-10,(Te-C)/3)),Te<Je.top+C&&(ot.scrollTop+=gt(-10,(Te-Je.top-C)/3)),Te>window.innerHeight-C&&window.scrollBy(0,Dt(10,(Te-window.innerHeight+C)/3)),Te>Je.bottom-C&&(ot.scrollTop+=Dt(10,(Te-Je.bottom+C)/3)),kn(u())&&(He<Je.left+te&&(ot.scrollLeft+=gt(-10,(He-Je.left-te)/3)),He>Je.right-te&&(ot.scrollLeft+=Dt(10,(He-Je.right+te)/3))))})}}function bn(){kt()&&(or(),Rt())}function Zr(D){kt()&&D.isPrimary&&(He=D.clientX,Te=D.clientY,Rt(D))}function ar(D){if(jt&&A()&&!(z()&&D.target.closest(z()))&&Bt(D),Ee&&D.isPrimary){if(St)if(Ct()){if(jt=!0,de(U())){let C=cr(h()[0],D);U()(C)}}else{W.display=vn;let C=Wt()?F():V();de(C)&&C({event:Ge(W),jsEvent:D,view:Ne(I())});let te=Sn(W);if(lr(W,h()[0]),sr(),C=Wt()?G():be(),de(C)){let Y=W,rt=dr(W,te,D);C(It(rt,{revert(){lr(Y,te)}}))}}else if((ni()||Ct())&&de(oe())&&!_n){He=D.clientX,Te=D.clientY;let C=Mt(He,Te);if(C){let{allDay:te,date:Y,resource:rt}=Vt(C)(He,Te);oe()({allDay:te,date:Fe(Y),dateStr:dt(Y),dayEl:C,jsEvent:D,view:Ne(I()),resource:rt})}}St=!1,Ee=mn=gn=He=Te=W=vn=nt=hn=Ze=pt=st=xt=mt=me(Ae,ye=Qt=Ot=void 0),ot=Ht=Je=Zt=void 0,i(Ut)&&(clearTimeout(i(Ut)),ne(Ut,void 0))}_n=!1}function Jr(){return Mt(Tr(He,Ft[0],Ft[1]),Tr(Te,Ft[2],Ft[3]))}function wn(D){if(D){let C=Vt(D)(He,Te);if(C.disabled){if(!P().end||C.date<P().end)return wn(D.nextElementSibling);if(!P().start||C.date>P().start)return wn(D.previousElementSibling)}else return C}return null}function or(){Je=At(ot),Zt=At(Ht),Ft=[gt(0,Zt.left+(kn(u())?1:X()?0:8)),Dt(document.documentElement.clientWidth,Zt.left+Ht.clientWidth)-2,gt(0,Je.top),Dt(document.documentElement.clientHeight,Je.top+ot.clientHeight)-2]}function Qr(D,C){de(C)&&C({event:Ge(W),jsEvent:D,view:Ne(I())}),vn=W.display,W.display="preview",Ie(O,x(h)[0]=Sn(W),x(h)),Ot!==void 0&&Ie(O,x(h)[0]._margin=Ot,x(h)),xt&&ce(h()[0].end,xt),W.display="ghost",me(We,ee())}function jr(){Ie(O,x(h)[0]={id:"{select}",allDay:W.allDay,start:W.start,title:"",display:"preview",extendedProps:{},backgroundColor:Ce(),resourceIds:W.resourceIds,classNames:[],styles:[]},x(h))}function sr(){Ie(O,x(h)[0]=null,x(h))}function Nt(D,C){return D.start=C.start,D.end=C.end,D.resourceIds=C.resourceIds,D}function lr(D,C){Nt(D,C),me(We,ee())}function cr(D,C){let{start:te,end:Y}=Ge(D);return{start:te,end:Y,startStr:dt(D.start),endStr:dt(D.end),allDay:mt,view:Ne(I()),resource:Ze,jsEvent:C}}function dr(D,C,te){let Y;return Wt()?Y=en()?{startDelta:st,endDelta:Me(0)}:{startDelta:Me(0),endDelta:st}:Y={delta:st,oldResource:Ze!==pt?Ze:void 0,newResource:Ze!==pt?pt:void 0},It(Y,{event:Ge(D),oldEvent:Ge(C),view:Ne(I()),jsEvent:te}),Y}function ei(){return Math.sqrt(Math.pow(He-mn,2)+Math.pow(Te-gn,2))}function ti(){return Ee===Zn}function Wt(){return Ee===Jn||en()}function en(){return Ee===Qn}function ni(){return Ee===fn}function Ct(){return Ee===jn}function kt(){return Ee&&Ee<fn}function Dn(D){return D.isPrimary&&(D.pointerType!=="mouse"||D.buttons&1)}function Bt(D){jt&&(jt=!1,sr(),de(ue())&&ue()({jsEvent:D,view:Ne(I())}))}function ur(){_n=!0}ze.subscribe(Bt);function ri(D){if(kt()){let C=D.target,te=[],Y=()=>pr(te);te.push(qt(window,"touchmove",Ui,{passive:!1})),te.push(qt(C,"touchmove",$n(()=>St))),te.push(qt(C,"touchend",Y)),te.push(qt(C,"touchcancel",Y))}}function $n(D){return C=>{D()&&C.preventDefault()}}Yn(),Se("pointermove",lt,Zr),Se("pointerup",lt,ar),Se("pointercancel",lt,ar),Se("scroll",lt,bn);var ii=k(()=>$n(kt));Se("selectstart",lt,function(...D){var C;(C=i(ii))==null||C.apply(this,D)});var ai=k(()=>$n(()=>i(Ut)));Se("contextmenu",lt,function(...D){var C;(C=i(ai))==null||C.apply(this,D)}),Se("touchstart",lt,ri,void 0,!0),wt(t,"draggable",er),wt(t,"drag",tr),wt(t,"resize",nr),wt(t,"select",rr),wt(t,"noAction",ir),wt(t,"handleScroll",bn),wt(t,"unselect",Bt),wt(t,"noClick",ur);var oi=_e({draggable:er,drag:tr,resize:nr,select:rr,noAction:ir,handleScroll:bn,unselect:Bt,noClick:ur});return r(),oi}function Wa(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(l,"$_iEvents",n),s=()=>o(d,"$slotDuration",n);let{_iEvents:l,slotDuration:d}=Pe("state"),u=0,v=0;et(()=>{a()[0]&&_()});function c(){let m=Mt(u,v);if(m){let{allDay:S,date:g,resource:T,disabled:M}=Vt(m)(u,v);if(!M){let $=S?2:1;a()[$]||y($),Ie(l,x(a)[$].start=g,x(a)),Ie(l,x(a)[$].end=ce(B(g),s()),x(a)),Ie(l,x(a)[$].resourceIds=T?[T.id]:[],x(a));return}}_()}function b(){c()}function f(m){w(m)&&(u=m.clientX,v=m.clientY,c())}function y(m){Ie(l,x(a)[m]={id:"{pointer}",title:"",display:"pointer",extendedProps:{},backgroundColor:"transparent",classNames:[],styles:[]},x(a))}function _(){a()[1]&&Ie(l,x(a)[1]=null,x(a)),a()[2]&&Ie(l,x(a)[2]=null,x(a))}function w(m){return m.isPrimary&&m.pointerType==="mouse"}Se("pointermove",lt,f),Se("scroll",lt,b);var h=_e({handleScroll:b});return r(),h}var Ba=Z("<div></div>"),Ga=Z("<div></div>"),Ya=Z("<!> <!> <!>",1);function qa(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(f,"$eventDurationEditable",n),s=()=>o(_,"$editable",n),l=()=>o(w,"$_interaction",n),d=()=>o(y,"$eventResizableFromStart",n),u=()=>o(b,"$theme",n);let v=Oe(t,"forceDate",3,void 0),c=Oe(t,"forceMargin",3,void 0),{theme:b,eventDurationEditable:f,eventResizableFromStart:y,editable:_,_interaction:w}=Pe("state"),h=k(()=>t.chunk.event),m=k(()=>t.chunk.event.display),S=k(()=>!ft(i(m))&&!Xt(i(m))&&Fa(i(h),a(),s()));function g(z){return U=>{var F,V;return l().action.resize(i(h),U,z,t.axis,(F=v())==null?void 0:F(),(V=c())==null?void 0:V(),t.chunk.zeroDuration)}}var T=Ya(),M=j(T);{var $=z=>{var U=Ba(),F=k(()=>g(!0));U.__pointerdown=function(...V){var I;(I=i(F))==null||I.apply(this,V)},ae(()=>q(U,1,`${u().resizer??""} ${u().start??""}`)),L(z,U)};se(M,z=>{i(S)&&d()&&z($)})}var p=re(M,2);Pt(p,()=>t.children);var R=re(p,2);{var A=z=>{var U=Ga(),F=k(()=>g(!1));U.__pointerdown=function(...V){var I;(I=i(F))==null||I.apply(this,V)},ae(()=>q(U,1,u().resizer)),L(z,U)};se(R,z=>{i(S)&&z(A)})}L(e,T),_e(),r()}tt(["pointerdown"]);var Va=Z("<!> <!>",1);function Xa(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(w,"$_interaction",n),s=()=>o(c,"$theme",n),l=()=>o(f,"$eventStartEditable",n),d=()=>o(b,"$editable",n),u=()=>o(_,"$_bodyEl",n),v=()=>o(y,"$pointer",n);let{theme:c,editable:b,eventStartEditable:f,pointer:y,_bodyEl:_,_interaction:w,_iClasses:h}=Pe("state");Ie(w,x(a).resizer=qa,x(a)),et(()=>{s(),l(),d(),me(h,($,p)=>{let{display:R}=p;return[...$,Xt(R)?[s()[R]]:!ft(R)&&Or(p,l(),d())?[s().draggable]:[]]})}),et(()=>{if(u())return qt(u(),"scroll",m)});function m(){var $;for(let p of Object.values(a()))($=p==null?void 0:p.handleScroll)==null||$.call(p)}var S=Va(),g=j(S);yt(Na(g,{}),$=>Ie(w,x(a).action=$,x(a)),()=>{var $;return($=a())==null?void 0:$.action});var T=re(g,2);{var M=$=>{yt(Wa($,{}),p=>Ie(w,x(a).pointer=p,x(a)),()=>{var p;return(p=a())==null?void 0:p.pointer})};se(T,$=>{v()&&$(M)})}L(e,S),_e(),r()}const Ka={createOptions(e){e.dateClick=void 0,e.dragConstraint=void 0,e.dragScroll=!0,e.editable=!1,e.eventDragMinDistance=5,e.eventDragStart=void 0,e.eventDragStop=void 0,e.eventDrop=void 0,e.eventDurationEditable=!0,e.eventLongPressDelay=void 0,e.eventResizableFromStart=!1,e.eventResizeStart=void 0,e.eventResizeStop=void 0,e.eventResize=void 0,e.eventStartEditable=!0,e.longPressDelay=1e3,e.pointer=!1,e.resizeConstraint=void 0,e.select=void 0,e.selectBackgroundColor=void 0,e.selectConstraint=void 0,e.selectLongPressDelay=void 0,e.selectMinDistance=5,e.unselect=void 0,e.unselectAuto=!0,e.unselectCancel="",e.theme.draggable="ec-draggable",e.theme.ghost="ec-ghost",e.theme.preview="ec-preview",e.theme.pointer="ec-pointer",e.theme.resizer="ec-resizer",e.theme.start="ec-start",e.theme.dragging="ec-dragging",e.theme.resizingY="ec-resizing-y",e.theme.resizingX="ec-resizing-x",e.theme.selecting="ec-selecting"},createStores(e){e._auxiliary.update(t=>[...t,Xa])}};tt(["pointerdown"]);tt(["click"]);function Za(e){return Ve([e.slotDuration,e.slotLabelInterval,e._slotTimeLimits,e._intlSlotLabel],t=>oa(qe(ut()),...t))}function Ja(e){return Ve([e.slotMinTime,e.slotMaxTime,e.flexibleSlotTimeLimits,e._viewDates,e._filteredEvents],t=>sa(...t))}function Qa(e){if(!e.length)return;Pr(e);let t={columns:[],end:e[0].end};for(let n of e){let r=0;if(n.start<t.end){for(;r<t.columns.length&&!(t.columns[r].at(-1).end<=n.start);++r);n.end>t.end&&(t.end=n.end)}else t={columns:[],end:n.end};t.columns.length<r+1&&t.columns.push([]),t.columns[r].push(n),n.group=t,n.column=r}}function ja(e){let t="all-day",n;return e?(n=de(e)?e({text:t}):e,typeof n=="string"&&(n={html:n})):n={html:t},n}var eo=Z("<time></time>"),to=Z('<div><div></div> <!></div> <div role="row"><div><!></div> <!></div>',1);function Nn(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(u,"$allDayContent",n),s=()=>o(v,"$slotLabelInterval",n),l=()=>o(c,"$theme",n),d=()=>o(b,"$_times",n);let{allDayContent:u,slotLabelInterval:v,theme:c,_times:b}=Pe("state"),f=k(()=>ja(a())),y=k(()=>s()&&s().seconds<=0);var _=to(),w=j(_),h=ie(w);Et(h,(R,A)=>pe==null?void 0:pe(R,A),()=>i(f));var m=re(h,2);Ye(m,1,d,bt,(R,A,z)=>{var U=eo();Et(U,(F,V)=>pe==null?void 0:pe(F,V),()=>i(A)[1]),ae(()=>{q(U,1,`${l().time??""}${(z||i(y))&&i(A)[2]?"":" "+l().minor}`),ct(U,"datetime",i(A)[0])}),L(R,U)}),Q(w);var S=re(w,2),g=ie(S),T=ie(g);{var M=R=>{var A=$e(),z=j(A);Pt(z,()=>t.lines),L(R,A)};se(T,R=>{t.lines&&R(M)})}Q(g);var $=re(g,2);{var p=R=>{var A=$e(),z=j(A);Pt(z,()=>t.children),L(R,A)};se($,R=>{t.children&&R(p)})}Q(S),ae(()=>{q(w,1,l().sidebar),q(h,1,l().sidebarTitle),q(S,1,l().days),q(g,1,l().lines)}),L(e,_),_e(),r()}var no=Z("<div></div>"),ro=Z("<div><div><!></div></div>");function io(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(f,"$_viewDates",n),s=()=>o(h,"$scrollTime",n),l=()=>o(y,"$_slotTimeLimits",n),d=()=>o(m,"$slotDuration",n),u=()=>o(S,"$slotHeight",n),v=()=>o(g,"$theme",n),c=()=>o(_,"$_times",n);let{_bodyEl:b,_viewDates:f,_slotTimeLimits:y,_times:_,_recheckScrollable:w,scrollTime:h,slotDuration:m,slotHeight:S,theme:g}=Pe("state"),T=Ue(void 0);et(()=>{me(b,i(T))}),et(()=>{a(),s(),x(M)});function M(){i(T).scrollTop=((s().seconds-l().min.seconds)/d().seconds-.5)*u()}var $=ro(),p=ie($),R=ie(p);Nn(R,{get children(){return t.children},lines:z=>{var U=$e(),F=j(U);Ye(F,1,c,bt,(V,I)=>{var G=no();ae(()=>q(G,1,`${v().line??""}${i(I)[2]?"":" "+v().minor}`)),L(V,G)}),L(z,U)},$$slots:{lines:!0}}),Q(p),Q($),yt($,A=>ne(T,A),()=>i(T)),Et($,(A,z)=>Cn==null?void 0:Cn(A,z),()=>()=>me(w,!0)),ae(()=>{q($,1,v().body),q(p,1,v().content)}),L(e,$),_e(),r()}function rn(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(v,"$slotDuration",n),s=()=>o(b,"$_slotTimeLimits",n),l=()=>o(c,"$slotHeight",n),d=()=>o(u,"$slotEventOverlap",n);let{slotEventOverlap:u,slotDuration:v,slotHeight:c,_slotTimeLimits:b}=Pe("state"),f=k(()=>t.chunk.event.display),y=k(()=>_=>{let w=a().seconds,h=s().min.seconds,m=(t.chunk.start-t.date)/1e3,S=(t.chunk.end-t.date)/1e3,g=(m-h)/w*l(),T=(S-m)/w*l()||l(),M=(s().max.seconds-m)/w*l();return _.top=`${g}px`,_["min-height"]=`${T}px`,_.height=`${T}px`,_["max-height"]=`${M}px`,(!ft(i(f))&&!Xt(i(f))||Ar(i(f)))&&(_["z-index"]=`${t.chunk.column+1}`,_.left=`${100/t.chunk.group.columns.length*t.chunk.column}%`,_.width=`${100/t.chunk.group.columns.length*(d()?.5*(1+t.chunk.group.columns.length-t.chunk.column):1)}%`),_});Fr(e,{get chunk(){return t.chunk},get styles(){return i(y)},axis:"y"}),_e(),r()}var ao=Z("<div></div>");function oo(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(y,"$_now",n),s=()=>o(_,"$_today",n),l=()=>o(c,"$slotDuration",n),d=()=>o(w,"$_slotTimeLimits",n),u=()=>o(b,"$slotHeight",n),v=()=>o(f,"$theme",n);let{slotDuration:c,slotHeight:b,theme:f,_now:y,_today:_,_slotTimeLimits:w}=Pe("state"),h=k(()=>(a()-s())/1e3),m=k(()=>{let g=l().seconds,T=d().min.seconds;return(i(h)-T)/g*u()});var S=ao();ae(()=>{q(S,1,v().nowIndicator),Gn(S,`top:${i(m)??""}px`)}),L(e,S),_e(),r()}var so=Z("<!> <!> <!>",1),lo=Z('<div role="cell"><div><!></div> <div><!></div> <div><!></div></div>');function co(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(V,"$_today",n),s=()=>o(T,"$highlightedDates",n),l=()=>o(U,"$validRange",n),d=()=>o(I,"$_slotTimeLimits",n),u=()=>o(R,"$filterEventsWithResources",n),v=()=>o(z,"$resources",n),c=()=>o(S,"$_filteredEvents",n),b=()=>o(g,"$_iEvents",n),f=()=>o($,"$slotDuration",n),y=()=>o(p,"$slotHeight",n),_=()=>o(A,"$theme",n),w=()=>o(F,"$_interaction",n),h=()=>o(M,"$nowIndicator",n);let m=Oe(t,"resource",3,void 0),{_filteredEvents:S,_iEvents:g,highlightedDates:T,nowIndicator:M,slotDuration:$,slotHeight:p,filterEventsWithResources:R,theme:A,resources:z,validRange:U,_interaction:F,_today:V,_slotTimeLimits:I}=Pe("state"),G=Ue(void 0),be=k(()=>je(t.date,a())),oe=k(()=>s().some(E=>je(E,t.date))),P=k(()=>Kn(t.date,l())),X=k(()=>ce(B(t.date),d().min)),ee=k(()=>ce(B(t.date),d().max)),Ce=k(()=>m()??(u()?v():void 0)),ue=k(()=>{if(i(P))return[[],[]];let E=[],H=[];for(let J of c())if((!J.allDay||ft(J.display))&&cn(J,i(X),i(ee),i(Ce))){let he=ln(J,i(X),i(ee));switch(J.display){case"background":H.push(he);break;default:E.push(he)}}return Qa(E),[E,H]}),O=k(()=>Wn(i(ue),2)),Ae=k(()=>i(O)[0]),We=k(()=>i(O)[1]),ze=k(()=>i(P)?[]:b().map(E=>E&&cn(E,i(X),i(ee),m())?ln(E,i(X),i(ee)):null));function vt(E,H){return H-=At(i(G)).top,{allDay:!1,date:ce(ce(B(t.date),d().min),f(),Ai(H/y())),resource:m(),dayEl:i(G),disabled:i(P)}}dn(()=>{Xn(i(G),vt)});var we=lo();we.__pointerdown=function(...E){var H,J;(J=i(P)||(H=w().action)==null?void 0:H.select)==null||J.apply(this,E)};var fe=ie(we),Le=ie(fe);{var Xe=E=>{var H=$e(),J=j(H);Ye(J,17,()=>i(We),he=>he.event,(he,Ke)=>{rn(he,{get date(){return t.date},get chunk(){return i(Ke)}})}),L(E,H)};se(Le,E=>{i(P)||E(Xe)})}Q(fe);var Re=re(fe,2),ke=ie(Re);{var ve=E=>{var H=so(),J=j(H);{var he=De=>{rn(De,{get date(){return t.date},get chunk(){return i(ze)[1]}})};se(J,De=>{i(ze)[1]&&De(he)})}var Ke=re(J,2);Ye(Ke,17,()=>i(Ae),De=>De.event,(De,ht)=>{rn(De,{get date(){return t.date},get chunk(){return i(ht)}})});var zt=re(Ke,2);{var it=De=>{rn(De,{get date(){return t.date},get chunk(){return i(ze)[0]}})};se(zt,De=>{i(ze)[0]&&!i(ze)[0].event.allDay&&De(it)})}L(E,H)};se(ke,E=>{i(P)||E(ve)})}Q(Re);var N=re(Re,2),K=ie(N);{var le=E=>{oo(E,{})};se(K,E=>{h()&&i(be)&&!i(P)&&E(le)})}Q(N),Q(we),yt(we,E=>ne(G,E),()=>i(G)),ae(E=>{q(we,1,`${_().day??""} ${E??""}${i(be)?" "+_().today:""}${i(oe)?" "+_().highlight:""}${i(P)?" "+_().disabled:""}`),q(fe,1,_().bgEvents),q(Re,1,_().events),q(N,1,_().extra)},[()=>{var E;return(E=_().weekdays)==null?void 0:E[t.date.getUTCDay()]}]),L(e,we),_e(),r()}tt(["pointerdown"]);function Mn(e,t){ge(t,!0);let n=Oe(t,"longChunks",19,()=>({})),r=Ue(void 0),a=Ue(1),s=k(()=>t.chunk.event),l=k(()=>t.chunk.event.display),d=k(()=>v=>(ft(i(l))?v.width=`calc(${t.chunk.days*100}% + ${t.chunk.days-1}px)`:(v.width=`calc(${t.chunk.days*100}% + ${(t.chunk.days-1)*7}px)`,v["margin-top"]=`${i(s)._margin??i(a)}px`),v));function u(){i(r)&&ne(a,Ki(t.chunk,n(),Bi(i(r))),!0)}return Fr(e,{get chunk(){return t.chunk},get styles(){return i(d)},axis:"x",forceMargin:()=>At(i(r)).top-At(Un(i(r),1)).top,get el(){return i(r)},set el(v){ne(r,v,!0)}}),_e({reposition:u})}var uo=Z("<div><!></div>"),fo=Z('<div role="cell"><div><!></div> <!> <div><!></div></div>');function vo(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(w,"$_today",n),s=()=>o(b,"$highlightedDates",n),l=()=>o(y,"$validRange",n),d=()=>o(f,"$theme",n),u=()=>o(_,"$_interaction",n);let v=Oe(t,"iChunks",19,()=>[]),c=Oe(t,"resource",3,void 0),{highlightedDates:b,theme:f,validRange:y,_interaction:_,_today:w}=Pe("state"),h=Ue(void 0),m=[],S=k(()=>t.chunks.filter(P=>je(P.date,t.date))),g=k(()=>t.bgChunks.filter(P=>je(P.date,t.date))),T=k(()=>je(t.date,a())),M=k(()=>s().some(P=>je(P,t.date))),$=k(()=>Kn(t.date,l()));dn(()=>{Xn(i(h),()=>({allDay:!0,date:t.date,resource:c(),dayEl:i(h),disabled:i($)}))});function p(){i($)||Ir(m,i(S))}var R=fo();R.__pointerdown=function(...P){var X,ee;(ee=i($)||(X=u().action)==null?void 0:X.select)==null||ee.apply(this,P)};var A=ie(R),z=ie(A);{var U=P=>{var X=$e(),ee=j(X);Ye(ee,17,()=>i(g),Ce=>Ce.event,(Ce,ue)=>{Mn(Ce,{get chunk(){return i(ue)}})}),L(P,X)};se(z,P=>{i($)||P(U)})}Q(A);var F=re(A,2);{var V=P=>{var X=uo(),ee=ie(X);Mn(ee,{get chunk(){return v()[0]}}),Q(X),ae(()=>q(X,1,`${d().events??""} ${d().preview??""}`)),L(P,X)};se(F,P=>{v()[0]&&je(v()[0].date,t.date)&&!i($)&&P(V)})}var I=re(F,2),G=ie(I);{var be=P=>{var X=$e(),ee=j(X);Ye(ee,19,()=>i(S),Ce=>Ce.event,(Ce,ue,O)=>{yt(Mn(Ce,{get chunk(){return i(ue)},get longChunks(){return t.longChunks}}),(Ae,We)=>m[We]=Ae,Ae=>m==null?void 0:m[Ae],()=>[i(O)])}),L(P,X)};se(G,P=>{i($)||P(be)})}Q(I),Q(R),yt(R,P=>ne(h,P),()=>i(h)),ae(P=>{q(R,1,`${d().day??""} ${P??""}${i(T)?" "+d().today:""}${i(M)?" "+d().highlight:""}${i($)?" "+d().disabled:""}`),q(A,1,d().bgEvents),q(I,1,d().events)},[()=>{var P;return(P=d().weekdays)==null?void 0:P[t.date.getUTCDay()]}]),L(e,R);var oe=_e({reposition:p});return r(),oe}tt(["pointerdown"]);function ho(e,t){ge(t,!0);const[n,r]=xe(),a=()=>o(h,"$validRange",n),s=()=>o(w,"$filterEventsWithResources",n),l=()=>o(_,"$resources",n),d=()=>o(b,"$_filteredEvents",n),u=()=>o(y,"$hiddenDays",n),v=()=>o(f,"$_iEvents",n);let c=Oe(t,"resource",3,void 0),{_filteredEvents:b,_iEvents:f,hiddenDays:y,resources:_,filterEventsWithResources:w,validRange:h}=Pe("state"),m=[],S=k(()=>br(t.dates[0],a())),g=k(()=>$t(B(br(t.dates.at(-1),a())))),T=k(()=>c()??(s()?l():void 0)),M=k(()=>{let I=[],G=[];for(let oe of d())if(oe.allDay&&cn(oe,i(S),i(g),i(T))){let P=ln(oe,i(S),i(g));ft(oe.display)?G.push(P):I.push(P)}pn(G,u());let be=pn(I,u());return[I,G,be]}),$=k(()=>Wn(i(M),3)),p=k(()=>i($)[0]),R=k(()=>i($)[1]),A=k(()=>i($)[2]);function z(){Ir(m,t.dates)}et(()=>{i(p),x(z)});let U=k(()=>v().map(I=>{let G;return I&&I.allDay&&cn(I,i(S),i(g),c())?(G=ln(I,i(S),i(g)),pn([G],u())):G=null,G}));var F=$e();Se("resize",lt,z);var V=j(F);Ye(V,17,()=>t.dates,bt,(I,G,be)=>{yt(vo(I,{get date(){return i(G)},get chunks(){return i(p)},get bgChunks(){return i(R)},get longChunks(){return i(A)},get iChunks(){return i(U)},get resource(){return c()}}),(oe,P)=>m[P]=oe,oe=>m==null?void 0:m[oe],()=>[be])}),L(e,F),_e(),r()}var mo=Z('<div role="columnheader"><time></time></div>'),go=Z("<div><div><!> <div></div></div></div>"),_o=Z("<div><!> <div></div></div> <!> <!>",1);function Cr(e,t){ge(t,!1);const[n,r]=xe(),a=()=>o(w,"$theme",n),s=()=>o(c,"$_viewDates",n),l=()=>o(y,"$_today",n),d=()=>o(f,"$_intlDayHeaderAL",n),u=()=>o(b,"$_intlDayHeader",n),v=()=>o(_,"$allDaySlot",n);let{_viewDates:c,_intlDayHeader:b,_intlDayHeaderAL:f,_today:y,allDaySlot:_,theme:w}=Pe("state");Yn();var h=_o(),m=j(h),S=ie(m);Nn(S,{children:(p,R)=>{var A=$e(),z=j(A);Ye(z,1,s,bt,(U,F)=>{var V=mo(),I=ie(V);Et(I,(G,be)=>pe==null?void 0:pe(G,be),()=>u().format(i(F))),Q(V),ae((G,be,oe,P)=>{q(V,1,`${a().day??""} ${G??""}${be??""}`),ct(I,"datetime",oe),ct(I,"aria-label",P)},[()=>{var G;return(G=a().weekdays)==null?void 0:G[i(F).getUTCDay()]},()=>je(i(F),l())?" "+a().today:"",()=>dt(i(F),10),()=>d().format(i(F))],yi),L(U,V)}),L(p,A)},$$slots:{default:!0}});var g=re(S,2);Q(m);var T=re(m,2);{var M=p=>{var R=go(),A=ie(R),z=ie(A);Nn(z,{children:(F,V)=>{ho(F,{get dates(){return s()}})},$$slots:{default:!0}});var U=re(z,2);Q(A),Q(R),ae(()=>{q(R,1,a().allDay),q(A,1,a().content),q(U,1,a().hiddenScroll)}),L(p,R)};se(T,p=>{v()&&p(M)})}var $=re(T,2);io($,{children:(p,R)=>{var A=$e(),z=j(A);Ye(z,1,s,bt,(U,F)=>{co(U,{get date(){return i(F)}})}),L(p,A)},$$slots:{default:!0}}),ae(()=>{q(m,1,a().header),q(g,1,a().hiddenScroll)}),L(e,h),_e(),r()}const yo={createOptions(e){e.buttonText.timeGridDay="day",e.buttonText.timeGridWeek="week",e.view="timeGridWeek",e.views.timeGridDay={buttonText:Qi,component:Cr,dayHeaderFormat:{weekday:"long"},duration:{days:1},theme:yr("ec-time-grid ec-day-view"),titleFormat:{year:"numeric",month:"long",day:"numeric"}},e.views.timeGridWeek={buttonText:ji,component:Cr,duration:{weeks:1},theme:yr("ec-time-grid ec-week-view")}},createStores(e){e._slotTimeLimits=Ja(e),e._times=Za(e)}};tt(["click"]);tt(["pointerdown"]);var bo=(e,t)=>{ne(t,e.currentTarget.value,!0)},wo=(e,t)=>{ne(t,new Date(e.currentTarget.value),!0)},Do=(e,t)=>{ne(t,new Date(e.currentTarget.value),!0)},$o=(e,t)=>ne(t,e.currentTarget.value,!0),To=(e,t)=>{var n;return(n=t())==null?void 0:n.closeModal()},Co=Z('<form><div class="form-grid svelte-l5tfc4"><label for="title" class="svelte-l5tfc4">Title</label> <input id="title" type="text" class="svelte-l5tfc4"/> <label for="start" class="svelte-l5tfc4">Start time</label> <input id="start" type="datetime-local" class="svelte-l5tfc4"/> <label for="end" class="svelte-l5tfc4">End time</label> <input id="end" type="datetime-local" class="svelte-l5tfc4"/> <label for="color" class="svelte-l5tfc4">Color</label> <input id="color" type="color" class="svelte-l5tfc4"/></div> <div class="form-actions svelte-l5tfc4"><button type="submit">Confirm</button> <button type="button">Cancel</button></div></form>');function ko(e,t){ge(t,!0);let n=Oe(t,"modal",15),r=Ue(""),a=Ue(""),s=Ue(null),l=Ue(null);yt(Di(e,{title:"Edit Event",children:(d,u)=>{var v=Co(),c=ie(v),b=re(ie(c),2);tn(b),b.__input=[bo,r];var f=re(b,4);tn(f),f.__input=[wo,s];var y=re(f,4);tn(y),y.__input=[Do,l];var _=re(y,4);tn(_),_.__input=[$o,a],Q(c);var w=re(c,2),h=re(ie(w),2);h.__click=[To,n],Q(w),Q(v),ae((m,S)=>{nn(b,t.event.title),nn(f,m),nn(y,S),nn(_,t.event.backgroundColor)},[()=>hr(t.event.start),()=>hr(t.event.end)]),Se("submit",v,async()=>{await $i(n(),t.dbWorker,i(r),i(a),t.event,i(s),i(l),t.updateEvent)}),L(d,v)},$$slots:{default:!0}}),d=>n(d),()=>n()),_e()}tt(["input","click"]);var Eo=Z(`<div class="mobile-instructions alert alert-info mb-3 svelte-13yj3sw"><small><strong>Mobile Tip:</strong> Tap and hold an event for a moment to drag
            or resize it on touch devices.</small></div>`),So=Z("<!> <!> <!>",1);function po(e,t){ge(t,!0);let n=Ue(null),r=Ue(void 0),a=Ue(!1),s=Ue(!1);function l(){typeof window<"u"&&ne(s,window.innerWidth<=768||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),!0)}et(()=>{if(l(),typeof window<"u")return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)});function d(){typeof document<"u"&&(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%")}function u(){typeof document<"u"&&(document.body.style.overflow="",document.body.style.position="",document.body.style.width="")}async function v(g){let T=new Date(g.event.start),M=new Date(g.event.end),$=await Ti(T,M);console.log("Resize toUpdate: ",$),await Ci(t.dbWorker,$.join(", "),`id = ${g.event.id}`)}function c(){ne(a,!0),d()}function b(){ne(a,!1),u()}let f=Er({view:"timeGridWeek",events:t.events,eventDidMount(g){g.el.addEventListener("click",()=>{var T;i(a)||(ne(r,g.event,!0),(T=i(n))==null||T.showModal())})},eventDrop:v,eventResize:v,eventDragStart:c,eventDragStop:b,eventResizeStart:c,eventResizeStop:b,editable:!0,pointer:!0,eventDragMinDistance:i(s)?15:5,dragScroll:!0,views:{timeGridWeek:{pointer:!0,eventDragMinDistance:i(s)?15:5},timeGridDay:{pointer:!0,eventDragMinDistance:i(s)?15:5}}});var y=So(),_=j(y);{var w=g=>{var T=Eo();L(g,T)};se(_,g=>{i(s)&&g(w)})}var h=re(_,2);ko(h,{get dbWorker(){return t.dbWorker},updateEvent:async()=>{await t.refresh()},get modal(){return i(n)},set modal(g){ne(n,g,!0)},get event(){return i(r)},set event(g){ne(r,g,!0)}});var m=re(h,2);const S=k(()=>[yo,Ka]);Aa(m,{get plugins(){return i(S)},get options(){return f}}),L(e,y),_e()}const xo=async e=>{if(!e)return;const t={Relaxing:"#6FCC68",Work:"#68A2CC"},n=[{name:"Reading",project:"Relaxing"},{name:"Gaming",project:"Relaxing"},{name:"FYP",project:"Work"}],r=await Si(e),a=new Set(r.map(c=>c.name));for(const[c,b]of Object.entries(t))a.has(c)||await pi(e,c,b);const s=await xi(e),l=new Set(s.map(c=>c.name));for(const c of n)l.has(c.name)||await Ri(e,c.name);const d=Date.now(),u=2*60*60*1e3,v=[{activityName:"Reading",projectName:"Relaxing",start:d,end:d+u},{activityName:"FYP",projectName:"Work",start:d+u,end:d+2*u},{activityName:"Gaming",projectName:"Relaxing",start:d-3*60*60*1e3,end:d-3*60*60*1e3+u}];for(const c of v)await ki(e,c.activityName,c.projectName,c.end-c.start,c.start,c.end)},Ro=async(e,t,n)=>{if(!i(t)){console.error("Worker not ready yet.");return}xo(i(t)),await n()};var Mo=Z("<button>Add test log</button> <!>",1),Po=Z("<p>Please wait while the calendar loads</p>");function Xo(e,t){ge(t,!0);let n=Ue(null),r=Ue(Er([]));const a=b=>b.map(f=>({id:f.id,title:f.activity,start:new Date(f.start),end:new Date(f.end),backgroundColor:f.project_color}));async function s(){i(n)&&ne(r,a(await Ei(i(n))),!0)}dn(async()=>{const b=await si(()=>import("../chunks/BVjkO3Q2.js"),[],import.meta.url);ne(n,wi(new b.default),!0),await i(n).initWorker(),await s()});var d=$e(),u=j(d);{var v=b=>{var f=Mo(),y=j(f);y.__click=[Ro,n,s];var _=re(y,2);bi(_,()=>i(r),w=>{po(w,{get dbWorker(){return i(n)},get events(){return i(r)},refresh:s})}),L(b,f)},c=b=>{var f=Po();L(b,f)};se(u,b=>{i(n)?b(v):b(c,!1)})}L(e,d),_e()}tt(["click"]);export{Xo as component};
