import{p as We,i as le,b as yt,_ as oi}from"../chunks/B0vD_CDy.js";import{c as be,a as P,f as J,g as Se,d as rt}from"../chunks/DYAZ3xSE.js";import{al as li,t as si,aW as qe,aj as Ye,aX as ci,y as on,aB as Pn,C as ge,aY as Ie,aZ as di,a_ as ui,D as ee,j as r,G as _e,K as ae,g as M,H as te,J as j,w as Yt,z as Z,A as fi,aC as E,f as Be,a$ as vi,I as ie,aA as dn,b0 as Gn,v as hi,b1 as st,F as xe,O as mi,am as In}from"../chunks/CovMCToo.js";import{k as gi}from"../chunks/ozXLM6ea.js";import{w as _i}from"../chunks/B8fJUUNV.js";import{c as Yn}from"../chunks/Dh1SJRbY.js";import{s as V,a as ct,b as Vn,f as hr,r as tn,i as yi,e as nn,d as bi}from"../chunks/CxkTVC9Y.js";import{s as Re,a as o,b as me,d as ze}from"../chunks/GgNxBzVg.js";import{e as Ne,i as bt,s as Pt}from"../chunks/B3QRiNGC.js";import"../chunks/C4pyXiQM.js";import{s as Ln}from"../chunks/Chg3hcGr.js";import{a as Et,f as wi,l as Di}from"../chunks/C-3cOWRw.js";import{i as Xn}from"../chunks/BdBGdeW1.js";import{M as $i}from"../chunks/Ogyqt5yR.js";import{f as mr,h as ki,e as Ci,g as Ti,u as Ei,i as Si,l as xi}from"../chunks/KS9X02YG.js";function wt(e,t,n){var i=li(e,t);i&&i.set&&(e[t]=n,si(()=>{e[t]=null}))}function pi(e){return function(t){return t.key==="Enter"||t.key===" "&&!t.preventDefault()?e.call(this,t):void 0}}function pe(e,t){let n={update(i){typeof i=="string"?e.innerText=i:i!=null&&i.domNodes?e.replaceChildren(...i.domNodes):i!=null&&i.html&&(e.innerHTML=i.html)}};return n.update(t),n}function Cn(e,t){let n=new ResizeObserver(i=>{for(let a of i)t(a)});return n.observe(e),{destroy(){n.unobserve(e)}}}const zn=86400;function ut(e=void 0){return e!==void 0?e instanceof Date?_r(e):Mi(e):_r(new Date)}function Pe(e){if(typeof e=="number")e={seconds:e};else if(typeof e=="string"){let n=0,i=2;for(let a of e.split(":",3))n+=parseInt(a,10)*Math.pow(60,i--);e={seconds:n}}else e instanceof Date&&(e={hours:e.getUTCHours(),minutes:e.getUTCMinutes(),seconds:e.getUTCSeconds()});let t=e.weeks||e.week||0;return{years:e.years||e.year||0,months:e.months||e.month||0,days:t*7+(e.days||e.day||0),seconds:(e.hours||e.hour||0)*60*60+(e.minutes||e.minute||0)*60+(e.seconds||e.second||0),inWeeks:!!t}}function N(e){return new Date(e.getTime())}function ce(e,t,n=1){e.setUTCFullYear(e.getUTCFullYear()+n*t.years);let i=e.getUTCMonth()+n*t.months;for(e.setUTCMonth(i),i%=12,i<0&&(i+=12);e.getUTCMonth()!==i;)It(e);return e.setUTCDate(e.getUTCDate()+n*t.days),e.setUTCSeconds(e.getUTCSeconds()+n*t.seconds),e}function an(e,t,n=1){return ce(e,t,-n)}function $t(e,t=1){return e.setUTCDate(e.getUTCDate()+t),e}function It(e,t=1){return $t(e,-t)}function Xe(e){return e.setUTCHours(0,0,0,0),e}function Fe(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function dt(e,t=19){return e.toISOString().substring(0,t)}function et(e,...t){return t.every(n=>e.getTime()===n.getTime())}function Ri(e,t){let n=t-e.getUTCDay();return e.setUTCDate(e.getUTCDate()+(n>=0?n:n+7)),e}function Er(e,t){let n=t-e.getUTCDay();return e.setUTCDate(e.getUTCDate()+(n<=0?n:n-7)),e}function gr(e){return typeof e=="string"&&e.length<=10}function Hn(e,t){return e.setUTCHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),0),e}function je(e){return e.seconds}function An(e,t){return ce(e,t),e}function Un(e,t,n){if(an(e,t),n.length&&n.length<7)for(;n.includes(e.getUTCDay());)It(e);return e}function _r(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()))}function Mi(e){const t=e.match(/\d+/g);return new Date(Date.UTC(Number(t[0]),Number(t[1])-1,Number(t[2]),Number(t[3]||0),Number(t[4]||0),Number(t[5]||0)))}function Lt(...e){return Object.assign(...e)}function _t(e){return Object.keys(e)}function Pi(e){return Object.entries(e)}function Ii(e){return Math.floor(e)}function Dt(...e){return Math.min(...e)}function gt(...e){return Math.max(...e)}function Li(){return Symbol("ec")}function qn(e){return Array.isArray(e)}function de(e){return typeof e=="function"}function zi(e){return e()}function Sr(e){e.forEach(zi)}function Hi(){}const Fn=e=>e;function xr(e,t,n){n.update(i=>i.set(t,e))}function Ai(e){Sr(e),e.clear()}function Ui(e,t,n){t??(t=e),n.has(t)||n.set(t,setTimeout(()=>{n.delete(t),e()}))}let Kn=Li();function Zn(e,t){e[Kn]=t}function Fi(e){return!!(e!=null&&e[Kn])}function Xt(e){return e[Kn]}function pr(e,t,n,i=[]){let a=document.createElement(e);a.className=t,typeof n=="string"?a.innerText=n:n.domNodes?a.replaceChildren(...n.domNodes):n.html&&(a.innerHTML=n.html);for(let s of i)a.setAttribute(...s);return a}function Wi(e){return e.scrollHeight>e.clientHeight}function zt(e){return e.getBoundingClientRect()}function Wn(e,t){for(;t--;)e=e.parentElement;return e}function Oi(e){return zt(e).height}function Mt(e,t,n=document,i=[]){i.push(n);for(let a of n.elementsFromPoint(e,t)){if(Fi(a))return a;if(a.shadowRoot&&!i.includes(a.shadowRoot)){let s=Mt(e,t,a.shadowRoot,i);if(s)return s}}return null}function Vt(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function Bi(e,t,n,i){return{type:e,title:t,currentStart:n.start,currentEnd:n.end,activeStart:i.start,activeEnd:i.end,calendar:void 0}}function Oe(e){return e=Lt({},e),e.currentStart=Fe(e.currentStart),e.currentEnd=Fe(e.currentEnd),e.activeStart=Fe(e.activeStart),e.activeEnd=Fe(e.activeEnd),e}function Rr(e){return e.startsWith("list")}function Tn(e){return e.includes("Timeline")}let Ni=1;function ln(e){return e.map(t=>{let n={id:"id"in t?String(t.id):`{generated-${Ni++}}`,resourceIds:En(t,"resourceId").map(String),allDay:t.allDay??(gr(t.start)&&gr(t.end)),start:ut(t.start),end:ut(t.end),title:t.title??"",editable:t.editable,startEditable:t.startEditable,durationEditable:t.durationEditable,display:t.display??"auto",extendedProps:t.extendedProps??{},backgroundColor:t.backgroundColor??t.color,textColor:t.textColor,classNames:En(t,"className"),styles:En(t,"style")};if(n.allDay){Xe(n.start);let i=N(n.end);Xe(n.end),(!et(n.end,i)||et(n.end,n.start))&&$t(n.end)}return n})}function En(e,t){let n=e[t+"s"]??e[t]??[];return qn(n)?n:[n]}function Gi(e){return e.map(t=>({events:t.events,url:t.url&&t.url.trimEnd("&")||"",method:t.method&&t.method.toUpperCase()||"GET",extraParams:t.extraParams||{}}))}function sn(e,t,n){let i={start:e.start>t?e.start:t,end:e.end<n?e.end:n,event:e};return i.zeroDuration=et(i.start,i.end),i}function Mr(e){e.sort((t,n)=>t.start-n.start||n.event.allDay-t.event.allDay)}function Yi(e,t,n,i,a,s){let l=a.formatRange(e.start,t&&e.event.display!=="pointer"&&!e.zeroDuration?Hn(N(e.start),e.end):e.start),d;if(n&&(d=de(n)?n({event:Ve(e.event),timeText:l,view:Oe(s)}):n),d===void 0){let f;switch(e.event.display){case"background":f=[];break;case"pointer":f=[yr(l,e,i)];break;default:f=[...e.event.allDay?[]:[yr(l,e,i)],pr("h4",i.eventTitle,e.event.title)]}d={domNodes:f}}return[l,d]}function yr(e,t,n){return pr("time",n.eventTime,e,[["datetime",dt(t.start)]])}function Vi(e,t,n){let i=t.classNames;return e&&(de(e)&&(e=e({event:Ve(t),view:Oe(n)})),i=[...qn(e)?e:[e],...i]),i}function Ve(e){return Pr(e,Fe)}function Sn(e){return Pr(e,N)}function Pr(e,t){return e=Lt({},e),e.start=t(e.start),e.end=t(e.end),e}function xn(e,t){let n={};if(e.length){Mr(e);let i;for(let a of e){let s=[],l=Xe(N(a.start));for(;a.end>l;){if(!t.includes(l.getUTCDay())&&(s.push(N(l)),s.length>1)){let d=l.getTime();n[d]?n[d].chunks.push(a):n[d]={sorted:!1,chunks:[a]}}$t(l)}if(s.length){a.date=s[0],a.days=s.length,a.dates=s,a.start<s[0]&&(a.start=s[0]);let d=$t(N(s.at(-1)));a.end>d&&(a.end=d)}else a.date=Xe(N(a.start)),a.days=1,a.dates=[a.date];i&&et(i.date,a.date)&&(a.prev=i),i=a}}return n}function Xi(e,t,n){e.top=0,e.prev&&(e.top=e.prev.bottom+1),e.bottom=e.top+n;let i=1,a=e.date.getTime();if(t[a]){t[a].sorted||(t[a].chunks.sort((s,l)=>s.top-l.top),t[a].sorted=!0);for(let s of t[a].chunks)if(e.top<s.bottom&&e.bottom>s.top){let l=s.bottom-e.top+1;i+=l,e.top+=l,e.bottom+=l}}return i}function Ir(e,t){var i;e.length=t.length;let n=[];for(let a of e)n.push((i=a==null?void 0:a.reposition)==null?void 0:i.call(a));return n}function cn(e,t,n,i){return e.start<n&&e.end>t?i?(qn(i)||(i=[i]),i.some(a=>e.resourceIds.includes(a.id))):!0:!1}function qt(e){return qi(e)||Lr(e)||Ki(e)}function ft(e){return e==="background"}function qi(e){return e==="preview"}function Lr(e){return e==="ghost"}function Ki(e){return e==="pointer"}function Zi(e){return zr(e,"day")}function Ji(e){return zr(e,"week")}function zr(e,t){return{...e,next:"Next "+t,prev:"Previous "+t}}function br(e){return t=>({...t,view:e})}function Qi(e){let t,n;return e&&({start:t,end:n}=e,t&&(t=Xe(ut(t))),n&&(n=Xe(ut(n)))),{start:t,end:n}}function Jn(e,t){return t.start&&e<t.start||t.end&&e>t.end}function wr(e,t){return t.start&&e<t.start&&(e=t.start),t.end&&e>t.end&&(e=t.end),e}function ji(e){let t=[];return Hr(e,0,t),t}function Hr(e,t,n){let i=[];for(let a of e){let s=ea(a);i.push(s),n.push(s);let l={level:t,children:[],expanded:!0,hidden:!1};Zn(s,l),a.children&&(l.children=Hr(a.children,t+1,n))}return i}function ea(e){return{id:String(e.id),title:e.title||"",eventBackgroundColor:e.eventBackgroundColor,eventTextColor:e.eventTextColor,extendedProps:e.extendedProps??{}}}function ta(e,t){var n;return(n=Ar(e,t))==null?void 0:n.eventBackgroundColor}function na(e,t){var n;return(n=Ar(e,t))==null?void 0:n.eventTextColor}function Ar(e,t){return t.find(n=>e.resourceIds.includes(n.id))}function pn(e,t){return qe([e,t],([n,i])=>{let a=de(i)?{format:i}:new Intl.DateTimeFormat(n,i);return{format:s=>a.format(Fe(s))}})}function Dr(e,t){return qe([e,t],([n,i])=>{let a;if(de(i))a=i;else{let s=new Intl.DateTimeFormat(n,i);a=(l,d)=>{if(l<=d)return s.formatRange(l,d);{let f=s.formatRangeToParts(d,l),v="",c=["startRange","endRange"],b=[!1,!1];for(let h of f){let D=c.indexOf(h.source);D>=0?b[D]||(v+=ra(c[1-D],f),b[D]=!0):v+=h.value}return v}}}return{formatRange:(s,l)=>a(Fe(s),Fe(l))}})}function ra(e,t){let n="";for(let i of t)i.source==e&&(n+=i.value);return n}function ia(e,t,n,i,a){e=N(e);let s=[],l=N(e);ce(e,i.min),ce(l,i.max),n===void 0&&(n=t.seconds<3600?Pe(t.seconds*2):t);let d=N(e);for(;e<l;){for(s.push([dt(e),a.format(e),e>=d]);n.seconds&&e>=d;)ce(d,n);ce(e,t)}return s}function aa(e,t,n,i,a){let s=Pe(e),l=Pe(t);if(n){let d=Pe(Dt(je(s),gt(0,je(l)-zn))),f=Pe(gt(je(l),je(d)+zn)),v=de(n==null?void 0:n.eventFilter)?n.eventFilter:c=>!ft(c.display);e:for(let c of i){let b=ce(N(c),s),h=ce(N(c),l),D=ce(N(c),d),_=ce(N(c),f);for(let w of a)if(!w.allDay&&v(w)&&w.start<_&&w.end>D){if(w.start<b){let u=gt((w.start-c)/1e3,je(d));u<je(s)&&(s.seconds=u)}if(w.end>h){let u=Dt((w.end-c)/1e3,je(f));u>je(l)&&(l.seconds=u)}if(je(s)===je(d)&&je(l)===je(f))break e}}}return{min:s,max:l}}function oa(e){var n;let t={allDayContent:void 0,allDaySlot:!0,buttonText:{today:"today"},customButtons:{},date:new Date,datesSet:void 0,dayHeaderFormat:{weekday:"short",month:"numeric",day:"numeric"},dayHeaderAriaLabelFormat:{dateStyle:"full"},displayEventEnd:!0,duration:{weeks:1},events:[],eventAllUpdated:void 0,eventBackgroundColor:void 0,eventClassNames:void 0,eventClick:void 0,eventColor:void 0,eventContent:void 0,eventDidMount:void 0,eventFilter:void 0,eventMouseEnter:void 0,eventMouseLeave:void 0,eventSources:[],eventTextColor:void 0,eventTimeFormat:{hour:"numeric",minute:"2-digit"},filterEventsWithResources:!1,filterResourcesWithEvents:!1,firstDay:0,flexibleSlotTimeLimits:!1,headerToolbar:{start:"title",center:"",end:"today prev,next"},height:void 0,hiddenDays:[],highlightedDates:[],lazyFetching:!0,loading:void 0,locale:void 0,nowIndicator:!1,resourceLabelContent:void 0,resourceLabelDidMount:void 0,resources:[],selectable:!1,scrollTime:"06:00:00",slotDuration:"00:30:00",slotEventOverlap:!0,slotHeight:24,slotLabelInterval:void 0,slotLabelFormat:{hour:"numeric",minute:"2-digit"},slotMaxTime:"24:00:00",slotMinTime:"00:00:00",slotWidth:72,theme:{allDay:"ec-all-day",active:"ec-active",bgEvent:"ec-bg-event",bgEvents:"ec-bg-events",body:"ec-body",button:"ec-button",buttonGroup:"ec-button-group",calendar:"ec",content:"ec-content",day:"ec-day",dayHead:"ec-day-head",days:"ec-days",disabled:"ec-disabled",event:"ec-event",eventBody:"ec-event-body",eventTime:"ec-event-time",eventTitle:"ec-event-title",events:"ec-events",extra:"ec-extra",handle:"ec-handle",header:"ec-header",hiddenScroll:"ec-hidden-scroll",highlight:"ec-highlight",icon:"ec-icon",line:"ec-line",lines:"ec-lines",minor:"ec-minor",nowIndicator:"ec-now-indicator",otherMonth:"ec-other-month",resource:"ec-resource",sidebar:"ec-sidebar",sidebarTitle:"ec-sidebar-title",today:"ec-today",time:"ec-time",title:"ec-title",toolbar:"ec-toolbar",view:"",weekdays:["ec-sun","ec-mon","ec-tue","ec-wed","ec-thu","ec-fri","ec-sat"],withScroll:"ec-with-scroll"},titleFormat:{year:"numeric",month:"short",day:"numeric"},validRange:void 0,view:void 0,viewDidMount:void 0,views:{}};for(let i of e)(n=i.createOptions)==null||n.call(i,t);return t}function la(e){var n;let t={date:i=>Xe(ut(i)),duration:Pe,events:ln,eventSources:Gi,hiddenDays:i=>[...new Set(i)],highlightedDates:i=>i.map(a=>Xe(ut(a))),resources:ji,scrollTime:Pe,slotDuration:Pe,slotLabelInterval:i=>i!==void 0?Pe(i):void 0,slotMaxTime:Pe,slotMinTime:Pe,validRange:Qi};for(let i of e)(n=i.createParsers)==null||n.call(i,t);return t}function sa(e,t){let n=[];for(let i of _t(e))e[i]!==t[i]&&n.push([i,e[i]]);return n}function ca(e){return qe(e.view,t=>t==null?void 0:t.startsWith("dayGrid"))}function da(e){return qe([e._currentRange,e.firstDay,e.slotMaxTime,e._dayGrid],([t,n,i,a])=>{let s=N(t.start),l=N(t.end);if(a)Er(s,n),Ri(l,n);else if(i.days||i.seconds>zn){ce(It(l),i);let d=It(N(l));d<s&&(s=d)}return{start:s,end:l}})}function ua(e){return qe([e.date,e.duration,e.firstDay],([t,n,i])=>{let a=N(t),s;return n.months?a.setUTCDate(1):n.inWeeks&&Er(a,i),s=ce(N(a),n),{start:a,end:s}})}function fa(e){return qe([e._activeRange,e.hiddenDays],([t,n])=>{let i=[],a=Xe(N(t.start)),s=Xe(N(t.end));for(;a<s;)n.includes(a.getUTCDay())||i.push(N(a)),$t(a);return!i.length&&n.length&&n.length<7&&(e.date.update(l=>{for(;n.includes(l.getUTCDay());)$t(l);return l}),i=on(e._viewDates)),i})}function va(e){return qe([e.date,e._activeRange,e._intlTitle,e._dayGrid],([t,n,i,a])=>a?i.formatRange(t,t):i.formatRange(n.start,It(N(n.end))))}function ha(e){return qe([e.view,e._viewTitle,e._currentRange,e._activeRange],t=>Bi(...t))}function ma(e){let t=Ye([]),n,i=0,a={};return qe([e.events,e.eventSources,e._activeRange,e._fetchedRange,e.lazyFetching,e.loading],(s,l)=>xr(()=>{let[d,f,v,c,b,h]=s;if(!f.length){l(d);return}if(!c.start||c.start>v.start||c.end<v.end||!b){n&&n.abort(),n=new AbortController,de(h)&&!i&&h(!0);let D=()=>{--i===0&&de(h)&&h(!1)},_=[],w=k=>D(),u=k=>{_=_.concat(ln(k)),l(_),D()},m=dt(v.start),x=dt(v.end);for(let k of f){if(de(k.events)){let g=k.events({start:Fe(v.start),end:Fe(v.end),startStr:m,endStr:x},u,w);g!==void 0&&Promise.resolve(g).then(u,w)}else{let g=de(k.extraParams)?k.extraParams():Lt({},k.extraParams);g.start=m,g.end=x,g=new URLSearchParams(g);let p=k.url,y={},C;["GET","HEAD"].includes(k.method)?p+=(p.includes("?")?"&":"?")+g:(y["content-type"]="application/x-www-form-urlencoded;charset=UTF-8",C=String(g)),fetch(p,{method:k.method,headers:y,body:C,signal:n.signal,credentials:"same-origin"}).then(R=>R.json()).then(u).catch(w)}++i}c.start=v.start,c.end=v.end}},a,e._queue),[]).subscribe(t.set),t}function ga(e){let t;e._view.subscribe(i=>t=i);let n={};return qe([e._events,e.eventFilter],(i,a)=>xr(()=>{let[s,l]=i;a(de(l)?s.filter((d,f,v)=>l({event:d,index:f,events:v,view:t})):s)},n,e._queue),[])}function _a(){return ci(ut(),e=>{let t=setInterval(()=>{e(ut())},1e3);return()=>clearInterval(t)})}function ya(e){return qe(e._now,t=>Xe(N(t)))}class ba{constructor(t,n){var l,d;t=t||[];let i=oa(t),a=la(t);i=On(i,a),n=On(n,a);for(let[f,v]of Object.entries(i))this[f]=Ye(v);this._queue=Ye(new Map),this._tasks=new Map,this._auxiliary=Ye([]),this._dayGrid=ca(this),this._currentRange=ua(this),this._activeRange=da(this),this._fetchedRange=Ye({start:void 0,end:void 0}),this._events=ma(this),this._now=_a(),this._today=ya(this),this._intlEventTime=Dr(this.locale,this.eventTimeFormat),this._intlSlotLabel=pn(this.locale,this.slotLabelFormat),this._intlDayHeader=pn(this.locale,this.dayHeaderFormat),this._intlDayHeaderAL=pn(this.locale,this.dayHeaderAriaLabelFormat),this._intlTitle=Dr(this.locale,this.titleFormat),this._bodyEl=Ye(void 0),this._scrollable=Ye(!1),this._recheckScrollable=Ye(!1),this._viewTitle=va(this),this._viewDates=fa(this),this._view=ha(this),this._viewComponent=Ye(void 0),this._filteredEvents=ga(this),this._interaction=Ye({}),this._iEvents=Ye([null,null]),this._iClasses=Ye(Fn),this._iClass=Ye(void 0),this._set=(f,v)=>{Bn(f,this)&&(a[f]&&(v=a[f](v)),this[f].set(v))},this._get=f=>Bn(f,this)?on(this[f]):void 0;for(let f of t)(l=f.createStores)==null||l.call(f,this);n.view&&this.view.set(n.view);let s=new Set([..._t(i.views),..._t(n.views??{})]);for(let f of s){let v=$r(i,i.views[f]??{}),c=$r(v,n,((d=n.views)==null?void 0:d[f])??{}),b=c.component;wa(c,this);for(let h of _t(c)){let{set:D,_set:_=D,...w}=this[h];this[h]={set:["buttonText","theme"].includes(h)?u=>{if(de(u)){let m=u(v[h]);c[h]=m,D(D===_?m:u)}else c[h]=u,D(u)}:u=>{c[h]=u,D(u)},_set:_,...w}}this.view.subscribe(h=>{if(h===f){this._viewComponent.set(b),de(c.viewDidMount)&&Pn().then(()=>c.viewDidMount({view:Oe(on(this._view))}));for(let D of _t(c))this[D]._set(c[D])}})}}}function On(e,t){let n={...e};for(let i of _t(t))i in n&&(n[i]=t[i](n[i]));if(e.views){n.views={};for(let i of _t(e.views))n.views[i]=On(e.views[i],t)}return n}function $r(...e){let t={};for(let n of e){let i={};for(let a of["buttonText","theme"])de(n[a])&&(i[a]=n[a](t[a]));t={...t,...n,...i}}return t}function wa(e,t){_t(e).filter(n=>!Bn(n,t)||n==="view").forEach(n=>delete e[n])}function Bn(e,t){return t.hasOwnProperty(e)&&e[0]!=="_"}var Da=J("<h2></h2>"),$a=J("<button><i></i></button>"),ka=J("<button><i></i></button>"),Ca=J("<button> </button>"),Ta=J("<button></button>"),Ea=J("<button> </button>");function kr(e,t){ge(t,!1);const[n,i]=Re(),a=()=>o(L,"$validRange",n),s=()=>o(p,"$date",n),l=()=>o(y,"$duration",n),d=()=>o(C,"$hiddenDays",n),f=()=>o(u,"$_currentRange",n),v=()=>o(x,"$_viewDates",n),c=()=>o(R,"$theme",n),b=()=>o(m,"$_viewTitle",n),h=()=>o(k,"$buttonText",n),D=()=>o(g,"$customButtons",n),_=()=>o(z,"$view",n);let w=We(t,"buttons",8),{_currentRange:u,_viewTitle:m,_viewDates:x,buttonText:k,customButtons:g,date:p,duration:y,hiddenDays:C,theme:R,validRange:L,view:z}=Ie("state"),U=Xe(ut()),F=Yt(),X=Yt(),H=Yt(),G=Yt(!1);function we(){return r(G)}function oe(){return v().every(ue=>Jn(ue,a()))}function I(){me(p,Un(s(),l(),d()))}function q(){me(p,An(s(),l()))}di(()=>(a(),s(),l(),d(),r(H),f(),Pn),()=>{if(!we()){if(Z(G,!0),Z(F,!1),Z(X,!1),a().start){let ue=N(s());me(p,Un(s(),l(),d())),Z(F,oe()),me(p,ue)}if(a().end){let ue=N(s());me(p,An(s(),l())),Z(X,oe()),me(p,ue)}if(Z(H,U>=f().start&&U<f().end),!r(H)&&(a().start||a().end)){let ue=N(s());me(p,N(U)),Z(H,oe()),me(p,ue)}Pn().then(()=>Z(G,!1))}}),ui(),Xn();var ne=be(),Ce=ee(ne);Ne(Ce,1,w,bt,(ue,W)=>{var He=be(),Ge=ee(He);{var Ae=De=>{var fe=Da();Et(fe,(Le,Ke)=>pe==null?void 0:pe(Le,Ke),b),ae(()=>V(fe,1,(c(),M(()=>c().title)))),P(De,fe)},vt=(De,fe)=>{{var Le=Me=>{var Te=$a(),ve=te(Te);j(Te),ae(()=>{V(Te,1,`${c(),M(()=>c().button)??""} ec-${r(W)??""}`),ct(Te,"aria-label",(h(),M(()=>h().prev))),ct(Te,"title",(h(),M(()=>h().prev))),Te.disabled=r(F),V(ve,1,`${c(),M(()=>c().icon)??""} ec-${r(W)??""}`)}),Se("click",Te,I),P(Me,Te)},Ke=(Me,Te)=>{{var ve=K=>{var se=ka(),S=te(se);j(se),ae(()=>{V(se,1,`${c(),M(()=>c().button)??""} ec-${r(W)??""}`),ct(se,"aria-label",(h(),M(()=>h().next))),ct(se,"title",(h(),M(()=>h().next))),se.disabled=r(X),V(S,1,`${c(),M(()=>c().icon)??""} ec-${r(W)??""}`)}),Se("click",se,q),P(K,se)},O=(K,se)=>{{var S=Q=>{var he=Ca(),Ze=te(he,!0);j(he),ae(()=>{V(he,1,`${c(),M(()=>c().button)??""} ec-${r(W)??""}`),he.disabled=r(H),Ln(Ze,(h(),r(W),M(()=>h()[r(W)])))}),Se("click",he,()=>me(p,N(U))),P(Q,he)},A=(Q,he)=>{{var Ze=it=>{var $e=Ta();fi(()=>Se("click",$e,function(...ht){var at;(at=D()[r(W)].click)==null||at.apply(this,ht)})),Et($e,(ht,at)=>pe==null?void 0:pe(ht,at),()=>D()[r(W)].text),ae(()=>V($e,1,`${c(),M(()=>c().button)??""} ec-${r(W)??""}${D(),r(W),c(),M(()=>D()[r(W)].active?" "+c().active:"")??""}`)),P(it,$e)},Ht=(it,$e)=>{{var ht=at=>{var kt=Ea(),un=te(kt,!0);j(kt),ae(()=>{V(kt,1,`${c(),M(()=>c().button)??""}${_(),r(W),c(),M(()=>_()===r(W)?" "+c().active:"")??""} ec-${r(W)??""}`),Ln(un,(h(),r(W),M(()=>h()[r(W)])))}),Se("click",kt,()=>me(z,r(W))),P(at,kt)};le(it,at=>{r(W)!=""&&at(ht)},$e)}};le(Q,it=>{D(),r(W),M(()=>D()[r(W)])?it(Ze):it(Ht,!1)},he)}};le(K,Q=>{r(W)=="today"?Q(S):Q(A,!1)},se)}};le(Me,K=>{r(W)=="next"?K(ve):K(O,!1)},Te)}};le(De,Me=>{r(W)=="prev"?Me(Le):Me(Ke,!1)},fe)}};le(Ge,De=>{r(W)=="title"?De(Ae):De(vt,!1)})}P(ue,He)}),P(e,ne),_e(),i()}var Sa=J("<div><!></div>"),xa=J("<div></div>"),pa=J("<nav></nav>");function Ra(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(l,"$headerToolbar",n),s=()=>o(d,"$theme",n);let{headerToolbar:l,theme:d}=Ie("state"),f=E(()=>{var b;let c={};for(let h of["start","center","end"])c[h]=((b=a()[h])==null?void 0:b.split(" ").map(D=>D.split(",")))??[];return c});var v=pa();Ne(v,21,()=>_t(r(f)),bt,(c,b)=>{var h=xa();Ne(h,21,()=>r(f)[r(b)],bt,(D,_)=>{var w=be(),u=ee(w);{var m=k=>{var g=Sa(),p=te(g);kr(p,{get buttons(){return r(_)}}),j(g),ae(()=>V(g,1,s().buttonGroup)),P(k,g)},x=k=>{kr(k,{get buttons(){return r(_)}})};le(u,k=>{r(_).length>1?k(m):k(x,!1)})}P(D,w)}),j(h),ae(()=>V(h,1,`ec-${r(b)??""}`)),P(c,h)}),j(v),ae(()=>V(v,1,s().toolbar)),P(e,v),_e(),i()}function Ma(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(u,"$_activeRange",n),s=()=>o(D,"$datesSet",n),l=()=>o(C,"$_view",n),d=()=>o(m,"$_filteredEvents",n),f=()=>o(_,"$eventAllUpdated",n),v=()=>o(y,"$_queue",n),c=()=>o(p,"$_recheckScrollable",n),b=()=>o(k,"$_bodyEl",n),h=()=>o(w,"$_auxiliary",n);let{datesSet:D,eventAllUpdated:_,_auxiliary:w,_activeRange:u,_filteredEvents:m,_scrollable:x,_bodyEl:k,_tasks:g,_recheckScrollable:p,_queue:y,_view:C}=Ie("state");Be(()=>{a(),M(()=>{de(s())&&s()({start:Fe(a().start),end:Fe(a().end),startStr:dt(a().start),endStr:dt(a().end),view:Oe(l())})})}),Be(()=>{d(),M(()=>{de(f())&&Ui(()=>f()({view:Oe(l())}),"eau",g)})}),Be(()=>{v(),M(()=>{Ai(v())})}),Be(()=>{c(),M(()=>{b()&&me(x,Wi(b())),me(p,!1)})});var R=be(),L=ee(R);Ne(L,1,h,bt,(z,U)=>{var F=be(),X=ee(F);Yn(X,()=>r(U),(H,G)=>{G(H,{})}),P(z,F)}),P(e,R),_e(),i()}var Pa=J("<div><!> <!></div> <!>",1);function Ia(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(p,"$_events",n),s=()=>o(k,"$_interaction",n),l=()=>o(C,"$date",n),d=()=>o(R,"$duration",n),f=()=>o(L,"$hiddenDays",n),v=()=>o(x,"$_viewComponent",n),c=()=>o(U,"$theme",n),b=()=>o(y,"$_scrollable",n),h=()=>o(g,"$_iClass",n),D=()=>o(z,"$height",n),_=()=>o(F,"$view",n);let w=We(t,"plugins",19,()=>[]),u=We(t,"options",19,()=>({})),m=new ba(w(),u());vi("state",m);let{_viewComponent:x,_interaction:k,_iClass:g,_events:p,_scrollable:y,date:C,duration:R,hiddenDays:L,height:z,theme:U,view:F}=m,X={...u()};Be(()=>{for(let[O,K]of sa(u(),X))M(()=>{H(O,K)});Lt(X,u())});function H(O,K){return m._set(O,K),this}function G(O){let K=m._get(O);return K instanceof Date?Fe(K):K}function we(){return m._fetchedRange.set({start:void 0,end:void 0}),this}function oe(){return a().map(Ve)}function I(O){for(let K of a())if(K.id==O)return Ve(K);return null}function q(O){return O=ln([O])[0],a().push(O),me(p,a()),Ve(O)}function ne(O){let K=String(O.id),se=a().findIndex(S=>S.id===K);return se>=0?(O=ln([O])[0],ze(p,M(a)[se]=O,M(a)),Ve(O)):null}function Ce(O){O=String(O);let K=a().findIndex(se=>se.id===O);return K>=0&&(a().splice(K,1),me(p,a())),this}function ue(){return Oe(on(m._view))}function W(){var O;return(O=s().action)==null||O.unselect(),this}function He(O,K){let se=Mt(O,K);if(se){let S=Xt(se)(O,K);return S.date=Fe(S.date),S}return null}function Ge(){return me(C,An(l(),d())),this}function Ae(){return me(C,Un(l(),d(),f())),this}let vt=E(v);var De=Pa(),fe=ee(De);let Le;var Ke=te(fe);Ra(Ke,{});var Me=ie(Ke,2);Yn(Me,()=>r(vt),(O,K)=>{K(O,{})}),j(fe);var Te=ie(fe,2);Ma(Te,{}),ae(O=>{V(fe,1,`${c().calendar??""} ${c().view??""}${b()?" "+c().withScroll:""}${h()?" "+c()[h()]:""}`),ct(fe,"role",O),Le=Vn(fe,"",Le,{height:D()})},[()=>Rr(_())?"list":"table"]),P(e,De);var ve=_e({setOption:H,getOption:G,refetchEvents:we,getEvents:oe,getEventById:I,addEvent:q,updateEvent:ne,removeEventById:Ce,getView:ue,unselect:W,dateFromPoint:He,next:Ge,prev:Ae});return i(),ve}var La=J("<div></div>"),za=J("<article><!></article>");function Ha(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(G,"$resources",n),s=()=>o(y,"$eventBackgroundColor",n),l=()=>o(C,"$eventColor",n),d=()=>o(H,"$eventTextColor",n),f=()=>o(we,"$theme",n),v=()=>o(U,"$eventClassNames",n),c=()=>o(oe,"$_view",n),b=()=>o(p,"$displayEventEnd",n),h=()=>o(R,"$eventContent",n),D=()=>o(I,"$_intlEventTime",n),_=()=>o(z,"$eventDidMount",n),w=()=>o(L,"$eventClick",n),u=()=>o(F,"$eventMouseEnter",n),m=()=>o(X,"$eventMouseLeave",n);let x=We(t,"el",15),k=We(t,"classes",3,Fn),g=We(t,"styles",3,Fn),{displayEventEnd:p,eventBackgroundColor:y,eventColor:C,eventContent:R,eventClick:L,eventDidMount:z,eventClassNames:U,eventMouseEnter:F,eventMouseLeave:X,eventTextColor:H,resources:G,theme:we,_view:oe,_intlEventTime:I}=Ie("state"),q=E(()=>t.chunk.event),ne=E(()=>t.chunk.event.display),Ce=E(()=>r(q).backgroundColor??ta(r(q),a())??s()??l()),ue=E(()=>r(q).textColor??na(r(q),a())??d()),W=E(()=>Pi(g()({"background-color":r(Ce),color:r(ue)})).map(S=>`${S[0]}:${S[1]}`).concat(r(q).styles).join(";")),He=E(()=>k()([ft(r(ne))?f().bgEvent:f().event,...Vi(v(),r(q),c())]).join(" ")),Ge=E(()=>Yi(t.chunk,b(),h(),f(),D(),c())),Ae=E(()=>Gn(r(Ge),2)),vt=E(()=>r(Ae)[0]),De=E(()=>r(Ae)[1]);dn(()=>{de(_())&&_()({event:Ve(r(q)),timeText:r(vt),el:x(),view:Oe(c())})});function fe(S,A){return!qt(A)&&de(S)?Q=>S({event:Ve(r(q)),el:x(),jsEvent:Q,view:Oe(c())}):void 0}let Le=E(()=>!ft(r(ne))&&fe(w(),r(ne))||void 0),Ke=E(()=>r(Le)&&pi(r(Le))),Me=E(()=>fe(u(),r(ne))),Te=E(()=>fe(m(),r(ne)));var ve=za();ve.__click=function(...S){var A;(A=r(Le))==null||A.apply(this,S)},ve.__keydown=function(...S){var A;(A=r(Ke))==null||A.apply(this,S)},ve.__pointerdown=function(...S){var A;(A=t.onpointerdown)==null||A.apply(this,S)};{const S=A=>{var Q=La();Et(Q,(he,Ze)=>pe==null?void 0:pe(he,Ze),()=>r(De)),ae(()=>V(Q,1,hr(f().eventBody))),P(A,Q)};var O=te(ve);{var K=A=>{var Q=be(),he=ee(Q);Pt(he,()=>t.body,()=>S,()=>r(Ce),()=>r(ue)),P(A,Q)},se=A=>{S(A)};le(O,A=>{t.body?A(K):A(se,!1)})}j(ve),yt(ve,A=>x(A),()=>x())}ae(()=>{V(ve,1,hr(r(He))),Vn(ve,r(W)),ct(ve,"role",r(Le)?"button":void 0),ct(ve,"tabindex",r(Le)?0:void 0)}),Se("mouseenter",ve,function(...S){var A;(A=r(Me))==null||A.apply(this,S)}),Se("mouseleave",ve,function(...S){var A;(A=r(Te))==null||A.apply(this,S)}),P(e,ve),_e(),i()}rt(["click","keydown","pointerdown"]);function Ur(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(f,"$_iClasses",n),s=()=>o(d,"$_interaction",n);let l=We(t,"el",15),{_interaction:d,_iClasses:f}=Ie("state"),v=E(()=>t.chunk.event),c=E(()=>t.chunk.event.display),b=E(()=>w=>a()(w,r(v)));function h(w){var u,m;return(u=s().action)!=null&&u.draggable(w)?x=>{var k,g;return s().action.drag(w,x,(k=t.forceDate)==null?void 0:k.call(t),(g=t.forceMargin)==null?void 0:g.call(t))}:(m=s().action)==null?void 0:m.noAction}let D=E(()=>!ft(r(c))&&!qt(r(c))?h(r(v)):void 0),_=E(()=>s().resizer);Ha(e,{get chunk(){return t.chunk},get classes(){return r(b)},get styles(){return t.styles},get onpointerdown(){return r(D)},get el(){return l()},set el(u){l(u)},body:(u,m=hi)=>{var x=be(),k=ee(x);{var g=y=>{var C=be(),R=ee(C);Yn(R,()=>r(_),(L,z)=>{z(L,{get chunk(){return t.chunk},get axis(){return t.axis},get forceDate(){return t.forceDate},get forceMargin(){return t.forceMargin},children:(U,F)=>{var X=be(),H=ee(X);Pt(H,m),P(U,X)},$$slots:{default:!0}})}),P(y,C)},p=y=>{var C=be(),R=ee(C);Pt(R,m),P(y,C)};le(k,y=>{r(_)?y(g):y(p,!1)})}P(u,x)},$$slots:{body:!0}}),_e(),i()}rt(["pointerdown","click","keydown"]);rt(["pointerdown","click","keydown"]);function Fr(e,t,n){return e.startEditable??t??e.editable??n}function Aa(e,t,n){return e.durationEditable??t??e.editable??n}let Rn=!1;function Ua(e){Rn||(Rn=!0,window.requestAnimationFrame(()=>{e(),Rn=!1}))}function Cr(e,t,n){return gt(t,Dt(n,e))}function Fa(e,t){ge(t,!1);const[n,i]=Re(),a=()=>o(ve,"$eventStartEditable",n),s=()=>o(Te,"$editable",n),l=()=>o(Or,"$slotDuration",n),d=()=>o($e,"$selectable",n),f=()=>o(qr,"$view",n),v=()=>o(De,"$_bodyEl",n),c=()=>o(fe,"$datesAboveResources",n),b=()=>o(un,"$selectLongPressDelay",n),h=()=>o(A,"$eventLongPressDelay",n),D=()=>o(Ht,"$longPressDelay",n),_=()=>o(Wr,"$selectMinDistance",n),w=()=>o(O,"$eventDragMinDistance",n),u=()=>o(W,"$_iEvents",n),m=()=>o(Q,"$eventResizeStart",n),x=()=>o(K,"$eventDragStart",n),k=()=>o(it,"$resizeConstraint",n),g=()=>o(kt,"$selectConstraint",n),p=()=>o(Ke,"$dragConstraint",n),y=()=>o(Me,"$dragScroll",n),C=()=>o(Br,"$slotHeight",n),R=()=>o(Nr,"$slotWidth",n),L=()=>o(Yr,"$unselectAuto",n),z=()=>o(Vr,"$unselectCancel",n),U=()=>o(ht,"$selectFn",n),F=()=>o(he,"$eventResizeStop",n),X=()=>o(se,"$eventDragStop",n),H=()=>o(Ae,"$_view",n),G=()=>o(Ze,"$eventResize",n),we=()=>o(S,"$eventDrop",n),oe=()=>o(Le,"$dateClick",n),I=()=>o(Xr,"$validRange",n),q=()=>o(vt,"$_dayGrid",n),ne=()=>o(Ge,"$_events",n),Ce=()=>o(at,"$selectBackgroundColor",n),ue=()=>o(Gr,"$unselectFn",n);let{_iEvents:W,_iClass:He,_events:Ge,_view:Ae,_dayGrid:vt,_bodyEl:De,datesAboveResources:fe,dateClick:Le,dragConstraint:Ke,dragScroll:Me,editable:Te,eventStartEditable:ve,eventDragMinDistance:O,eventDragStart:K,eventDragStop:se,eventDrop:S,eventLongPressDelay:A,eventResizeStart:Q,eventResizeStop:he,eventResize:Ze,longPressDelay:Ht,resizeConstraint:it,selectable:$e,select:ht,selectBackgroundColor:at,selectConstraint:kt,selectLongPressDelay:un,selectMinDistance:Wr,slotDuration:Or,slotHeight:Br,slotWidth:Nr,unselect:Gr,unselectAuto:Yr,unselectCancel:Vr,validRange:Xr,view:qr}=Ie("state");const Qn=1,jn=2,er=3,tr=4,fn=5,Kt=6;let Ee,St,B,vn,tt,hn,Je,xt,mn,gn,Ue,ke,ot,Qe,At,Zt,lt,mt,Jt,ye,Qt,jt,_n,Ut=Yt(),Ft,Wt,pt;function nr($){return Fr($,a(),s())}function rr($,T,re,Y){Ee||(Ee=Dn(T)?Qn:Kt,Tt()&&(B=$,yn(T),re&&(tt=re),Y&&(Wt=Y),Jt="dragging",Rt(T)))}function ir($,T,re,Y,nt,Gt,kn){Ee||(Ee=Dn(T)?re?er:jn:Kt,Tt()&&(B=$,yn(T),nt&&(tt=nt),Gt&&(Wt=Gt),Jt=Y==="x"?"resizingX":"resizingY",en()?(ye=N(B.end),mt?(Hn(ye,B.start),ye>=B.end&&It(ye)):(an(ye,l()),ye<B.start&&(ye=B.start),tt=B.start)):(ye=N(B.start),mt?(Hn(ye,B.end),ye<=B.start&&!kn&&$t(ye)):(ce(ye,l()),ye>B.end&&(ye=B.end),tt=B.end,kn||(tt=an(N(tt),l()))),kn&&!mt&&(pt=l())),Rt(T)))}function ar($){Ee||(Ee=Dn($)?d()&&!Rr(f())?tr:fn:Kt,Tt()&&(yn($),Jt="selecting",Qt=mt?Pe({day:1}):l(),B={allDay:mt,start:tt,end:ce(N(tt),Qt),resourceIds:Je?[Je.id]:[]},Rt($)))}function or(){Ee||(Ee=Kt)}function yn($){window.getSelection().removeAllRanges(),mn=Ue=$.clientX,gn=ke=$.clientY;let T=Mt(Ue,ke);({allDay:mt,date:tt,resource:Je}=Xt(T)(Ue,ke)),Tn(f())?ot=At=v():(ot=Wn(T,Je?4:3),At=Wn(T,Je&&(ei()||c())?2:1)),sr(),$.pointerType!=="mouse"&&Z(Ut,setTimeout(()=>{Ee&&(St=!0,Rt($))},(Ct()?b():h())??D()))}function Rt($){if(St||$&&$.pointerType==="mouse"&&jr()>=(Ct()?_():w())){St=!0,Nt($),me(He,Jt),u()[0]||(Ct()?Qr():Jr($,Bt()?m():x()));let T=wn(Zr());if(T){let re;if({allDay:re,date:hn,resource:xt}=T,re===mt){let Y=Ot({},u()[0]),nt=k();lt=Pe((hn-tt)/1e3),en()?(Y.start=ce(N(B.start),lt),Y.start>ye&&(Y.start=ye,lt=Pe((ye-B.start)/1e3))):(Y.end=ce(N(B.end),lt),pt&&ce(Y.end,pt),Bt()?Y.end<ye&&(Y.end=ye,lt=Pe((ye-B.end)/1e3)):Ct()?(Y.end<B.end?(Y.start=an(Y.end,Qt),Y.end=B.end):Y.start=B.start,nt=g()):(Y.start=ce(N(B.start),lt),Je&&(Y.resourceIds=B.resourceIds.filter(Gt=>Gt!==Je.id),Y.resourceIds.push(xt.id)),nt=p()));do{if(nt!==void 0&&(Y=Ot(Sn(B),Y),nt(Ct()?ur(Y,$):fr(Y,B,$))===!1)){ze(W,M(u)[0]=Ot(u()[0],B),M(u));break}ze(W,M(u)[0]=Ot(u()[0],Y),M(u))}while(!1)}}}if(y()){let T=C()*2,re=R();Ua(()=>{ot&&(ke<T&&window.scrollBy(0,gt(-10,(ke-T)/3)),ke<Qe.top+T&&(ot.scrollTop+=gt(-10,(ke-Qe.top-T)/3)),ke>window.innerHeight-T&&window.scrollBy(0,Dt(10,(ke-window.innerHeight+T)/3)),ke>Qe.bottom-T&&(ot.scrollTop+=Dt(10,(ke-Qe.bottom+T)/3)),Tn(f())&&(Ue<Qe.left+re&&(ot.scrollLeft+=gt(-10,(Ue-Qe.left-re)/3)),Ue>Qe.right-re&&(ot.scrollLeft+=Dt(10,(Ue-Qe.right+re)/3))))})}}function bn(){Tt()&&(sr(),Rt())}function Kr($){Tt()&&$.isPrimary&&(Ue=$.clientX,ke=$.clientY,Rt($))}function lr($){if(jt&&L()&&!(z()&&$.target.closest(z()))&&Nt($),Ee&&$.isPrimary){if(St)if(Ct()){if(jt=!0,de(U())){let T=ur(u()[0],$);U()(T)}}else{B.display=vn;let T=Bt()?F():X();de(T)&&T({event:Ve(B),jsEvent:$,view:Oe(H())});let re=Sn(B);if(dr(B,u()[0]),cr(),T=Bt()?G():we(),de(T)){let Y=B,nt=fr(B,re,$);T(Lt(nt,{revert(){dr(Y,re)}}))}}else if((ti()||Ct())&&de(oe())&&!_n){Ue=$.clientX,ke=$.clientY;let T=Mt(Ue,ke);if(T){let{allDay:re,date:Y,resource:nt}=Xt(T)(Ue,ke);oe()({allDay:re,date:Fe(Y),dateStr:dt(Y),dayEl:T,jsEvent:$,view:Oe(H()),resource:nt})}}St=!1,Ee=mn=gn=Ue=ke=B=vn=tt=hn=Je=xt=lt=pt=mt=me(He,ye=Qt=Wt=void 0),ot=At=Qe=Zt=void 0,r(Ut)&&(clearTimeout(r(Ut)),Z(Ut,void 0))}_n=!1}function Zr(){return Mt(Cr(Ue,Ft[0],Ft[1]),Cr(ke,Ft[2],Ft[3]))}function wn($){if($){let T=Xt($)(Ue,ke);if(T.disabled){if(!I().end||T.date<I().end)return wn($.nextElementSibling);if(!I().start||T.date>I().start)return wn($.previousElementSibling)}else return T}return null}function sr(){Qe=zt(ot),Zt=zt(At),Ft=[gt(0,Zt.left+(Tn(f())?1:q()?0:8)),Dt(document.documentElement.clientWidth,Zt.left+At.clientWidth)-2,gt(0,Qe.top),Dt(document.documentElement.clientHeight,Qe.top+ot.clientHeight)-2]}function Jr($,T){de(T)&&T({event:Ve(B),jsEvent:$,view:Oe(H())}),vn=B.display,B.display="preview",ze(W,M(u)[0]=Sn(B),M(u)),Wt!==void 0&&ze(W,M(u)[0]._margin=Wt,M(u)),pt&&ce(u()[0].end,pt),B.display="ghost",me(Ge,ne())}function Qr(){ze(W,M(u)[0]={id:"{select}",allDay:B.allDay,start:B.start,title:"",display:"preview",extendedProps:{},backgroundColor:Ce(),resourceIds:B.resourceIds,classNames:[],styles:[]},M(u))}function cr(){ze(W,M(u)[0]=null,M(u))}function Ot($,T){return $.start=T.start,$.end=T.end,$.resourceIds=T.resourceIds,$}function dr($,T){Ot($,T),me(Ge,ne())}function ur($,T){let{start:re,end:Y}=Ve($);return{start:re,end:Y,startStr:dt($.start),endStr:dt($.end),allDay:mt,view:Oe(H()),resource:Je,jsEvent:T}}function fr($,T,re){let Y;return Bt()?Y=en()?{startDelta:lt,endDelta:Pe(0)}:{startDelta:Pe(0),endDelta:lt}:Y={delta:lt,oldResource:Je!==xt?Je:void 0,newResource:Je!==xt?xt:void 0},Lt(Y,{event:Ve($),oldEvent:Ve(T),view:Oe(H()),jsEvent:re}),Y}function jr(){return Math.sqrt(Math.pow(Ue-mn,2)+Math.pow(ke-gn,2))}function ei(){return Ee===Qn}function Bt(){return Ee===jn||en()}function en(){return Ee===er}function ti(){return Ee===fn}function Ct(){return Ee===tr}function Tt(){return Ee&&Ee<fn}function Dn($){return $.isPrimary&&($.pointerType!=="mouse"||$.buttons&1)}function Nt($){jt&&(jt=!1,cr(),de(ue())&&ue()({jsEvent:$,view:Oe(H())}))}function vr(){_n=!0}Ae.subscribe(Nt);function ni($){if(Tt()){let T=$.target,re=[],Y=()=>Sr(re);re.push(Vt(window,"touchmove",Hi,{passive:!1})),re.push(Vt(T,"touchmove",$n(()=>St))),re.push(Vt(T,"touchend",Y)),re.push(Vt(T,"touchcancel",Y))}}function $n($){return T=>{$()&&T.preventDefault()}}Xn(),Se("pointermove",st,Kr),Se("pointerup",st,lr),Se("pointercancel",st,lr),Se("scroll",st,bn);var ri=E(()=>$n(Tt));Se("selectstart",st,function(...$){var T;(T=r(ri))==null||T.apply(this,$)});var ii=E(()=>$n(()=>r(Ut)));Se("contextmenu",st,function(...$){var T;(T=r(ii))==null||T.apply(this,$)}),Se("touchstart",st,ni,void 0,!0),wt(t,"draggable",nr),wt(t,"drag",rr),wt(t,"resize",ir),wt(t,"select",ar),wt(t,"noAction",or),wt(t,"handleScroll",bn),wt(t,"unselect",Nt),wt(t,"noClick",vr);var ai=_e({draggable:nr,drag:rr,resize:ir,select:ar,noAction:or,handleScroll:bn,unselect:Nt,noClick:vr});return i(),ai}function Wa(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(l,"$_iEvents",n),s=()=>o(d,"$slotDuration",n);let{_iEvents:l,slotDuration:d}=Ie("state"),f=0,v=0;Be(()=>{a()[0]&&_()});function c(){let m=Mt(f,v);if(m){let{allDay:x,date:k,resource:g,disabled:p}=Xt(m)(f,v);if(!p){let y=x?2:1;a()[y]||D(y),ze(l,M(a)[y].start=k,M(a)),ze(l,M(a)[y].end=ce(N(k),s()),M(a)),ze(l,M(a)[y].resourceIds=g?[g.id]:[],M(a));return}}_()}function b(){c()}function h(m){w(m)&&(f=m.clientX,v=m.clientY,c())}function D(m){ze(l,M(a)[m]={id:"{pointer}",title:"",display:"pointer",extendedProps:{},backgroundColor:"transparent",classNames:[],styles:[]},M(a))}function _(){a()[1]&&ze(l,M(a)[1]=null,M(a)),a()[2]&&ze(l,M(a)[2]=null,M(a))}function w(m){return m.isPrimary&&m.pointerType==="mouse"}Se("pointermove",st,h),Se("scroll",st,b);var u=_e({handleScroll:b});return i(),u}var Oa=J("<div></div>"),Ba=J("<div></div>"),Na=J("<!> <!> <!>",1);function Ga(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(h,"$eventDurationEditable",n),s=()=>o(_,"$editable",n),l=()=>o(w,"$_interaction",n),d=()=>o(D,"$eventResizableFromStart",n),f=()=>o(b,"$theme",n);let v=We(t,"forceDate",3,void 0),c=We(t,"forceMargin",3,void 0),{theme:b,eventDurationEditable:h,eventResizableFromStart:D,editable:_,_interaction:w}=Ie("state"),u=E(()=>t.chunk.event),m=E(()=>t.chunk.event.display),x=E(()=>!ft(r(m))&&!qt(r(m))&&Aa(r(u),a(),s()));function k(z){return U=>{var F,X;return l().action.resize(r(u),U,z,t.axis,(F=v())==null?void 0:F(),(X=c())==null?void 0:X(),t.chunk.zeroDuration)}}var g=Na(),p=ee(g);{var y=z=>{var U=Oa(),F=E(()=>k(!0));U.__pointerdown=function(...X){var H;(H=r(F))==null||H.apply(this,X)},ae(()=>V(U,1,`${f().resizer??""} ${f().start??""}`)),P(z,U)};le(p,z=>{r(x)&&d()&&z(y)})}var C=ie(p,2);Pt(C,()=>t.children);var R=ie(C,2);{var L=z=>{var U=Ba(),F=E(()=>k(!1));U.__pointerdown=function(...X){var H;(H=r(F))==null||H.apply(this,X)},ae(()=>V(U,1,f().resizer)),P(z,U)};le(R,z=>{r(x)&&z(L)})}P(e,g),_e(),i()}rt(["pointerdown"]);var Ya=J("<!> <!>",1);function Va(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(w,"$_interaction",n),s=()=>o(c,"$theme",n),l=()=>o(h,"$eventStartEditable",n),d=()=>o(b,"$editable",n),f=()=>o(_,"$_bodyEl",n),v=()=>o(D,"$pointer",n);let{theme:c,editable:b,eventStartEditable:h,pointer:D,_bodyEl:_,_interaction:w,_iClasses:u}=Ie("state");ze(w,M(a).resizer=Ga,M(a)),Be(()=>{s(),l(),d(),me(u,(y,C)=>{let{display:R}=C;return[...y,qt(R)?[s()[R]]:!ft(R)&&Fr(C,l(),d())?[s().draggable]:[]]})}),Be(()=>{if(f())return Vt(f(),"scroll",m)});function m(){var y;for(let C of Object.values(a()))(y=C==null?void 0:C.handleScroll)==null||y.call(C)}var x=Ya(),k=ee(x);yt(Fa(k,{}),y=>ze(w,M(a).action=y,M(a)),()=>{var y;return(y=a())==null?void 0:y.action});var g=ie(k,2);{var p=y=>{yt(Wa(y,{}),C=>ze(w,M(a).pointer=C,M(a)),()=>{var C;return(C=a())==null?void 0:C.pointer})};le(g,y=>{v()&&y(p)})}P(e,x),_e(),i()}const Xa={createOptions(e){e.dateClick=void 0,e.dragConstraint=void 0,e.dragScroll=!0,e.editable=!1,e.eventDragMinDistance=5,e.eventDragStart=void 0,e.eventDragStop=void 0,e.eventDrop=void 0,e.eventDurationEditable=!0,e.eventLongPressDelay=void 0,e.eventResizableFromStart=!1,e.eventResizeStart=void 0,e.eventResizeStop=void 0,e.eventResize=void 0,e.eventStartEditable=!0,e.longPressDelay=1e3,e.pointer=!1,e.resizeConstraint=void 0,e.select=void 0,e.selectBackgroundColor=void 0,e.selectConstraint=void 0,e.selectLongPressDelay=void 0,e.selectMinDistance=5,e.unselect=void 0,e.unselectAuto=!0,e.unselectCancel="",e.theme.draggable="ec-draggable",e.theme.ghost="ec-ghost",e.theme.preview="ec-preview",e.theme.pointer="ec-pointer",e.theme.resizer="ec-resizer",e.theme.start="ec-start",e.theme.dragging="ec-dragging",e.theme.resizingY="ec-resizing-y",e.theme.resizingX="ec-resizing-x",e.theme.selecting="ec-selecting"},createStores(e){e._auxiliary.update(t=>[...t,Va])}};rt(["pointerdown"]);rt(["click"]);function qa(e){return qe([e.slotDuration,e.slotLabelInterval,e._slotTimeLimits,e._intlSlotLabel],t=>ia(Xe(ut()),...t))}function Ka(e){return qe([e.slotMinTime,e.slotMaxTime,e.flexibleSlotTimeLimits,e._viewDates,e._filteredEvents],t=>aa(...t))}function Za(e){if(!e.length)return;Mr(e);let t={columns:[],end:e[0].end};for(let n of e){let i=0;if(n.start<t.end){for(;i<t.columns.length&&!(t.columns[i].at(-1).end<=n.start);++i);n.end>t.end&&(t.end=n.end)}else t={columns:[],end:n.end};t.columns.length<i+1&&t.columns.push([]),t.columns[i].push(n),n.group=t,n.column=i}}function Ja(e){let t="all-day",n;return e?(n=de(e)?e({text:t}):e,typeof n=="string"&&(n={html:n})):n={html:t},n}var Qa=J("<time></time>"),ja=J('<div><div></div> <!></div> <div role="row"><div><!></div> <!></div>',1);function Nn(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(f,"$allDayContent",n),s=()=>o(v,"$slotLabelInterval",n),l=()=>o(c,"$theme",n),d=()=>o(b,"$_times",n);let{allDayContent:f,slotLabelInterval:v,theme:c,_times:b}=Ie("state"),h=E(()=>Ja(a())),D=E(()=>s()&&s().seconds<=0);var _=ja(),w=ee(_),u=te(w);Et(u,(R,L)=>pe==null?void 0:pe(R,L),()=>r(h));var m=ie(u,2);Ne(m,1,d,bt,(R,L,z)=>{var U=Qa();Et(U,(F,X)=>pe==null?void 0:pe(F,X),()=>r(L)[1]),ae(()=>{V(U,1,`${l().time??""}${(z||r(D))&&r(L)[2]?"":" "+l().minor}`),ct(U,"datetime",r(L)[0])}),P(R,U)}),j(w);var x=ie(w,2),k=te(x),g=te(k);{var p=R=>{var L=be(),z=ee(L);Pt(z,()=>t.lines),P(R,L)};le(g,R=>{t.lines&&R(p)})}j(k);var y=ie(k,2);{var C=R=>{var L=be(),z=ee(L);Pt(z,()=>t.children),P(R,L)};le(y,R=>{t.children&&R(C)})}j(x),ae(()=>{V(w,1,l().sidebar),V(u,1,l().sidebarTitle),V(x,1,l().days),V(k,1,l().lines)}),P(e,_),_e(),i()}var eo=J("<div></div>"),to=J("<div><div><!></div></div>");function no(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(h,"$_viewDates",n),s=()=>o(u,"$scrollTime",n),l=()=>o(D,"$_slotTimeLimits",n),d=()=>o(m,"$slotDuration",n),f=()=>o(x,"$slotHeight",n),v=()=>o(k,"$theme",n),c=()=>o(_,"$_times",n);let{_bodyEl:b,_viewDates:h,_slotTimeLimits:D,_times:_,_recheckScrollable:w,scrollTime:u,slotDuration:m,slotHeight:x,theme:k}=Ie("state"),g=xe(void 0);Be(()=>{me(b,r(g))}),Be(()=>{a(),s(),M(p)});function p(){r(g).scrollTop=((s().seconds-l().min.seconds)/d().seconds-.5)*f()}var y=to(),C=te(y),R=te(C);Nn(R,{get children(){return t.children},lines:z=>{var U=be(),F=ee(U);Ne(F,1,c,bt,(X,H)=>{var G=eo();ae(()=>V(G,1,`${v().line??""}${r(H)[2]?"":" "+v().minor}`)),P(X,G)}),P(z,U)},$$slots:{lines:!0}}),j(C),j(y),yt(y,L=>Z(g,L),()=>r(g)),Et(y,(L,z)=>Cn==null?void 0:Cn(L,z),()=>()=>me(w,!0)),ae(()=>{V(y,1,v().body),V(C,1,v().content)}),P(e,y),_e(),i()}function rn(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(v,"$slotDuration",n),s=()=>o(b,"$_slotTimeLimits",n),l=()=>o(c,"$slotHeight",n),d=()=>o(f,"$slotEventOverlap",n);let{slotEventOverlap:f,slotDuration:v,slotHeight:c,_slotTimeLimits:b}=Ie("state"),h=E(()=>t.chunk.event.display),D=E(()=>_=>{let w=a().seconds,u=s().min.seconds,m=(t.chunk.start-t.date)/1e3,x=(t.chunk.end-t.date)/1e3,k=(m-u)/w*l(),g=(x-m)/w*l()||l(),p=(s().max.seconds-m)/w*l();return _.top=`${k}px`,_["min-height"]=`${g}px`,_.height=`${g}px`,_["max-height"]=`${p}px`,(!ft(r(h))&&!qt(r(h))||Lr(r(h)))&&(_["z-index"]=`${t.chunk.column+1}`,_.left=`${100/t.chunk.group.columns.length*t.chunk.column}%`,_.width=`${100/t.chunk.group.columns.length*(d()?.5*(1+t.chunk.group.columns.length-t.chunk.column):1)}%`),_});Ur(e,{get chunk(){return t.chunk},get styles(){return r(D)},axis:"y"}),_e(),i()}var ro=J("<div></div>");function io(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(D,"$_now",n),s=()=>o(_,"$_today",n),l=()=>o(c,"$slotDuration",n),d=()=>o(w,"$_slotTimeLimits",n),f=()=>o(b,"$slotHeight",n),v=()=>o(h,"$theme",n);let{slotDuration:c,slotHeight:b,theme:h,_now:D,_today:_,_slotTimeLimits:w}=Ie("state"),u=E(()=>(a()-s())/1e3),m=E(()=>{let k=l().seconds,g=d().min.seconds;return(r(u)-g)/k*f()});var x=ro();ae(()=>{V(x,1,v().nowIndicator),Vn(x,`top:${r(m)??""}px`)}),P(e,x),_e(),i()}var ao=J("<!> <!> <!>",1),oo=J('<div role="cell"><div><!></div> <div><!></div> <div><!></div></div>');function lo(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(X,"$_today",n),s=()=>o(g,"$highlightedDates",n),l=()=>o(U,"$validRange",n),d=()=>o(H,"$_slotTimeLimits",n),f=()=>o(R,"$filterEventsWithResources",n),v=()=>o(z,"$resources",n),c=()=>o(x,"$_filteredEvents",n),b=()=>o(k,"$_iEvents",n),h=()=>o(y,"$slotDuration",n),D=()=>o(C,"$slotHeight",n),_=()=>o(L,"$theme",n),w=()=>o(F,"$_interaction",n),u=()=>o(p,"$nowIndicator",n);let m=We(t,"resource",3,void 0),{_filteredEvents:x,_iEvents:k,highlightedDates:g,nowIndicator:p,slotDuration:y,slotHeight:C,filterEventsWithResources:R,theme:L,resources:z,validRange:U,_interaction:F,_today:X,_slotTimeLimits:H}=Ie("state"),G=xe(void 0),we=E(()=>et(t.date,a())),oe=E(()=>s().some(S=>et(S,t.date))),I=E(()=>Jn(t.date,l())),q=E(()=>ce(N(t.date),d().min)),ne=E(()=>ce(N(t.date),d().max)),Ce=E(()=>m()??(f()?v():void 0)),ue=E(()=>{if(r(I))return[[],[]];let S=[],A=[];for(let Q of c())if((!Q.allDay||ft(Q.display))&&cn(Q,r(q),r(ne),r(Ce))){let he=sn(Q,r(q),r(ne));switch(Q.display){case"background":A.push(he);break;default:S.push(he)}}return Za(S),[S,A]}),W=E(()=>Gn(r(ue),2)),He=E(()=>r(W)[0]),Ge=E(()=>r(W)[1]),Ae=E(()=>r(I)?[]:b().map(S=>S&&cn(S,r(q),r(ne),m())?sn(S,r(q),r(ne)):null));function vt(S,A){return A-=zt(r(G)).top,{allDay:!1,date:ce(ce(N(t.date),d().min),h(),Ii(A/D())),resource:m(),dayEl:r(G),disabled:r(I)}}dn(()=>{Zn(r(G),vt)});var De=oo();De.__pointerdown=function(...S){var A,Q;(Q=r(I)||(A=w().action)==null?void 0:A.select)==null||Q.apply(this,S)};var fe=te(De),Le=te(fe);{var Ke=S=>{var A=be(),Q=ee(A);Ne(Q,17,()=>r(Ge),he=>he.event,(he,Ze)=>{rn(he,{get date(){return t.date},get chunk(){return r(Ze)}})}),P(S,A)};le(Le,S=>{r(I)||S(Ke)})}j(fe);var Me=ie(fe,2),Te=te(Me);{var ve=S=>{var A=ao(),Q=ee(A);{var he=$e=>{rn($e,{get date(){return t.date},get chunk(){return r(Ae)[1]}})};le(Q,$e=>{r(Ae)[1]&&$e(he)})}var Ze=ie(Q,2);Ne(Ze,17,()=>r(He),$e=>$e.event,($e,ht)=>{rn($e,{get date(){return t.date},get chunk(){return r(ht)}})});var Ht=ie(Ze,2);{var it=$e=>{rn($e,{get date(){return t.date},get chunk(){return r(Ae)[0]}})};le(Ht,$e=>{r(Ae)[0]&&!r(Ae)[0].event.allDay&&$e(it)})}P(S,A)};le(Te,S=>{r(I)||S(ve)})}j(Me);var O=ie(Me,2),K=te(O);{var se=S=>{io(S,{})};le(K,S=>{u()&&r(we)&&!r(I)&&S(se)})}j(O),j(De),yt(De,S=>Z(G,S),()=>r(G)),ae(S=>{V(De,1,`${_().day??""} ${S??""}${r(we)?" "+_().today:""}${r(oe)?" "+_().highlight:""}${r(I)?" "+_().disabled:""}`),V(fe,1,_().bgEvents),V(Me,1,_().events),V(O,1,_().extra)},[()=>{var S;return(S=_().weekdays)==null?void 0:S[t.date.getUTCDay()]}]),P(e,De),_e(),i()}rt(["pointerdown"]);function Mn(e,t){ge(t,!0);let n=We(t,"longChunks",19,()=>({})),i=xe(void 0),a=xe(1),s=E(()=>t.chunk.event),l=E(()=>t.chunk.event.display),d=E(()=>v=>(ft(r(l))?v.width=`calc(${t.chunk.days*100}% + ${t.chunk.days-1}px)`:(v.width=`calc(${t.chunk.days*100}% + ${(t.chunk.days-1)*7}px)`,v["margin-top"]=`${r(s)._margin??r(a)}px`),v));function f(){r(i)&&Z(a,Xi(t.chunk,n(),Oi(r(i))),!0)}return Ur(e,{get chunk(){return t.chunk},get styles(){return r(d)},axis:"x",forceMargin:()=>zt(r(i)).top-zt(Wn(r(i),1)).top,get el(){return r(i)},set el(v){Z(i,v,!0)}}),_e({reposition:f})}var so=J("<div><!></div>"),co=J('<div role="cell"><div><!></div> <!> <div><!></div></div>');function uo(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(w,"$_today",n),s=()=>o(b,"$highlightedDates",n),l=()=>o(D,"$validRange",n),d=()=>o(h,"$theme",n),f=()=>o(_,"$_interaction",n);let v=We(t,"iChunks",19,()=>[]),c=We(t,"resource",3,void 0),{highlightedDates:b,theme:h,validRange:D,_interaction:_,_today:w}=Ie("state"),u=xe(void 0),m=[],x=E(()=>t.chunks.filter(I=>et(I.date,t.date))),k=E(()=>t.bgChunks.filter(I=>et(I.date,t.date))),g=E(()=>et(t.date,a())),p=E(()=>s().some(I=>et(I,t.date))),y=E(()=>Jn(t.date,l()));dn(()=>{Zn(r(u),()=>({allDay:!0,date:t.date,resource:c(),dayEl:r(u),disabled:r(y)}))});function C(){r(y)||Ir(m,r(x))}var R=co();R.__pointerdown=function(...I){var q,ne;(ne=r(y)||(q=f().action)==null?void 0:q.select)==null||ne.apply(this,I)};var L=te(R),z=te(L);{var U=I=>{var q=be(),ne=ee(q);Ne(ne,17,()=>r(k),Ce=>Ce.event,(Ce,ue)=>{Mn(Ce,{get chunk(){return r(ue)}})}),P(I,q)};le(z,I=>{r(y)||I(U)})}j(L);var F=ie(L,2);{var X=I=>{var q=so(),ne=te(q);Mn(ne,{get chunk(){return v()[0]}}),j(q),ae(()=>V(q,1,`${d().events??""} ${d().preview??""}`)),P(I,q)};le(F,I=>{v()[0]&&et(v()[0].date,t.date)&&!r(y)&&I(X)})}var H=ie(F,2),G=te(H);{var we=I=>{var q=be(),ne=ee(q);Ne(ne,19,()=>r(x),Ce=>Ce.event,(Ce,ue,W)=>{yt(Mn(Ce,{get chunk(){return r(ue)},get longChunks(){return t.longChunks}}),(He,Ge)=>m[Ge]=He,He=>m==null?void 0:m[He],()=>[r(W)])}),P(I,q)};le(G,I=>{r(y)||I(we)})}j(H),j(R),yt(R,I=>Z(u,I),()=>r(u)),ae(I=>{V(R,1,`${d().day??""} ${I??""}${r(g)?" "+d().today:""}${r(p)?" "+d().highlight:""}${r(y)?" "+d().disabled:""}`),V(L,1,d().bgEvents),V(H,1,d().events)},[()=>{var I;return(I=d().weekdays)==null?void 0:I[t.date.getUTCDay()]}]),P(e,R);var oe=_e({reposition:C});return i(),oe}rt(["pointerdown"]);function fo(e,t){ge(t,!0);const[n,i]=Re(),a=()=>o(u,"$validRange",n),s=()=>o(w,"$filterEventsWithResources",n),l=()=>o(_,"$resources",n),d=()=>o(b,"$_filteredEvents",n),f=()=>o(D,"$hiddenDays",n),v=()=>o(h,"$_iEvents",n);let c=We(t,"resource",3,void 0),{_filteredEvents:b,_iEvents:h,hiddenDays:D,resources:_,filterEventsWithResources:w,validRange:u}=Ie("state"),m=[],x=E(()=>wr(t.dates[0],a())),k=E(()=>$t(N(wr(t.dates.at(-1),a())))),g=E(()=>c()??(s()?l():void 0)),p=E(()=>{let H=[],G=[];for(let oe of d())if(oe.allDay&&cn(oe,r(x),r(k),r(g))){let I=sn(oe,r(x),r(k));ft(oe.display)?G.push(I):H.push(I)}xn(G,f());let we=xn(H,f());return[H,G,we]}),y=E(()=>Gn(r(p),3)),C=E(()=>r(y)[0]),R=E(()=>r(y)[1]),L=E(()=>r(y)[2]);function z(){Ir(m,t.dates)}Be(()=>{r(C),M(z)});let U=E(()=>v().map(H=>{let G;return H&&H.allDay&&cn(H,r(x),r(k),c())?(G=sn(H,r(x),r(k)),xn([G],f())):G=null,G}));var F=be();Se("resize",st,z);var X=ee(F);Ne(X,17,()=>t.dates,bt,(H,G,we)=>{yt(uo(H,{get date(){return r(G)},get chunks(){return r(C)},get bgChunks(){return r(R)},get longChunks(){return r(L)},get iChunks(){return r(U)},get resource(){return c()}}),(oe,I)=>m[I]=oe,oe=>m==null?void 0:m[oe],()=>[we])}),P(e,F),_e(),i()}var vo=J('<div role="columnheader"><time></time></div>'),ho=J("<div><div><!> <div></div></div></div>"),mo=J("<div><!> <div></div></div> <!> <!>",1);function Tr(e,t){ge(t,!1);const[n,i]=Re(),a=()=>o(w,"$theme",n),s=()=>o(c,"$_viewDates",n),l=()=>o(D,"$_today",n),d=()=>o(h,"$_intlDayHeaderAL",n),f=()=>o(b,"$_intlDayHeader",n),v=()=>o(_,"$allDaySlot",n);let{_viewDates:c,_intlDayHeader:b,_intlDayHeaderAL:h,_today:D,allDaySlot:_,theme:w}=Ie("state");Xn();var u=mo(),m=ee(u),x=te(m);Nn(x,{children:(C,R)=>{var L=be(),z=ee(L);Ne(z,1,s,bt,(U,F)=>{var X=vo(),H=te(X);Et(H,(G,we)=>pe==null?void 0:pe(G,we),()=>f().format(r(F))),j(X),ae((G,we,oe,I)=>{V(X,1,`${a().day??""} ${G??""}${we??""}`),ct(H,"datetime",oe),ct(H,"aria-label",I)},[()=>{var G;return(G=a().weekdays)==null?void 0:G[r(F).getUTCDay()]},()=>et(r(F),l())?" "+a().today:"",()=>dt(r(F),10),()=>d().format(r(F))],mi),P(U,X)}),P(C,L)},$$slots:{default:!0}});var k=ie(x,2);j(m);var g=ie(m,2);{var p=C=>{var R=ho(),L=te(R),z=te(L);Nn(z,{children:(F,X)=>{fo(F,{get dates(){return s()}})},$$slots:{default:!0}});var U=ie(z,2);j(L),j(R),ae(()=>{V(R,1,a().allDay),V(L,1,a().content),V(U,1,a().hiddenScroll)}),P(C,R)};le(g,C=>{v()&&C(p)})}var y=ie(g,2);no(y,{children:(C,R)=>{var L=be(),z=ee(L);Ne(z,1,s,bt,(U,F)=>{lo(U,{get date(){return r(F)}})}),P(C,L)},$$slots:{default:!0}}),ae(()=>{V(m,1,a().header),V(k,1,a().hiddenScroll)}),P(e,u),_e(),i()}const go={createOptions(e){e.buttonText.timeGridDay="day",e.buttonText.timeGridWeek="week",e.view="timeGridWeek",e.views.timeGridDay={buttonText:Zi,component:Tr,dayHeaderFormat:{weekday:"long"},duration:{days:1},theme:br("ec-time-grid ec-day-view"),titleFormat:{year:"numeric",month:"long",day:"numeric"}},e.views.timeGridWeek={buttonText:Ji,component:Tr,duration:{weeks:1},theme:br("ec-time-grid ec-week-view")}},createStores(e){e._slotTimeLimits=Ka(e),e._times=qa(e)}};rt(["click"]);rt(["pointerdown"]);var _o=(e,t)=>{Z(t,e.currentTarget.value,!0)},yo=(e,t)=>{Z(t,new Date(e.currentTarget.value),!0)},bo=(e,t)=>{Z(t,new Date(e.currentTarget.value),!0)},wo=(e,t)=>{Z(t,e.currentTarget.value,!0)},Do=J("<option> </option>"),$o=(e,t)=>Z(t,e.currentTarget.value,!0),ko=async(e,t,n)=>{var i;await Ci(t.dbWorker,t.event.id),t.updateEvent(),(i=n())==null||i.closeModal()},Co=(e,t)=>{var n;return(n=t())==null?void 0:n.closeModal()},To=J('<form><div class="form-grid svelte-8ayusl"><label for="title" class="svelte-8ayusl">Title</label> <input id="title" type="text" class="svelte-8ayusl"/> <label for="start" class="svelte-8ayusl">Start time</label> <input id="start" type="datetime-local" class="svelte-8ayusl"/> <label for="end" class="svelte-8ayusl">End time</label> <input id="end" type="datetime-local" class="svelte-8ayusl"/> <label for="project" class="svelte-8ayusl">Project</label> <select id="project" class="svelte-8ayusl"></select> <label for="color" class="svelte-8ayusl">Color</label> <input id="color" type="color" class="svelte-8ayusl"/></div> <div class="form-actions svelte-8ayusl"><button type="button">Delete</button> <button type="submit">Confirm</button> <button type="button">Cancel</button></div></form>');function Eo(e,t){ge(t,!0);let n=We(t,"modal",15),i=xe(""),a=xe(""),s=xe(null),l=xe(null),d=xe(""),f=xe("");Be(()=>{var v;(v=t.event)!=null&&v.backgroundColor&&Promise.all([wi(t.dbWorker,t.event.backgroundColor)]).then(c=>{Z(d,c[0].name,!0)})}),Be(()=>{var v;if(r(d)&&t.projects){const c=t.projects.find(b=>b.name===r(d));c&&Z(f,c.color,!0)}else Z(f,((v=t.event)==null?void 0:v.backgroundColor)||"",!0)}),yt($i(e,{title:"Edit Event",children:(v,c)=>{var b=To(),h=te(b),D=ie(te(h),2);tn(D),D.__input=[_o,i];var _=ie(D,4);tn(_),_.__input=[yo,s];var w=ie(_,4);tn(w),w.__input=[bo,l];var u=ie(w,4);u.__change=[wo,d],Ne(u,21,()=>t.projects,y=>y.name,(y,C)=>{var R=Do(),L=te(R,!0);j(R);var z={};ae(()=>{Ln(L,r(C).name),z!==(z=r(C).name)&&(R.value=(R.__value=r(C).name)??"")}),P(y,R)}),j(u);var m;yi(u);var x=ie(u,4);tn(x),x.__input=[$o,a],j(h);var k=ie(h,2),g=te(k);g.__click=[ko,t,n];var p=ie(g,4);p.__click=[Co,n],j(k),j(b),ae((y,C)=>{nn(D,t.event.title),nn(_,y),nn(w,C),m!==(m=r(d))&&(u.value=(u.__value=r(d))??"",bi(u,r(d))),nn(x,r(f)||t.event.backgroundColor)},[()=>mr(t.event.start),()=>mr(t.event.end)]),Se("submit",b,async()=>{await ki(n(),t.dbWorker,r(i),r(a),t.event,r(s),r(l),r(d),t.updateEvent)}),P(v,b)},$$slots:{default:!0}}),v=>n(v),()=>n()),_e()}rt(["input","change","click"]);var So=J(`<div class="mobile-instructions alert alert-info mb-3 svelte-13yj3sw"><small><strong>Mobile Tip:</strong> Tap and hold an event for a moment to drag
            or resize it on touch devices.</small></div>`),xo=J("<!> <!> <!>",1);function po(e,t){ge(t,!0);let n=xe(In([]));Di(t.dbWorker).then(g=>Z(n,g,!0));let i=xe(null),a=xe(void 0),s=xe(!1),l=xe(!1);function d(){typeof window<"u"&&Z(l,window.innerWidth<=768||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),!0)}Be(()=>{if(d(),typeof window<"u")return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)});function f(){typeof document<"u"&&(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%")}function v(){typeof document<"u"&&(document.body.style.overflow="",document.body.style.position="",document.body.style.width="")}async function c(g){let p=new Date(g.event.start),y=new Date(g.event.end),C=await Ei(p,y);console.log("Resize toUpdate: ",C),await Si(t.dbWorker,C.join(", "),`id = ${g.event.id}`)}function b(){Z(s,!0),f()}function h(){Z(s,!1),v()}let D=In({view:"timeGridWeek",events:t.events,eventClick(g){var p;Z(a,g.event,!0),(p=r(i))==null||p.showModal()},async dateClick(){var g;Z(a,await Ti(t.dbWorker),!0),(g=r(i))==null||g.showModal()},eventDrop:c,eventResize:c,eventDragStart:b,eventDragStop:h,eventResizeStart:b,eventResizeStop:h,editable:!0,pointer:!0,eventDragMinDistance:r(l)?15:5,dragScroll:!0,views:{timeGridWeek:{pointer:!0,eventDragMinDistance:r(l)?15:5},timeGridDay:{pointer:!0,eventDragMinDistance:r(l)?15:5}}});var _=xo(),w=ee(_);{var u=g=>{var p=So();P(g,p)};le(w,g=>{r(l)&&g(u)})}var m=ie(w,2);Eo(m,{get dbWorker(){return t.dbWorker},get projects(){return r(n)},updateEvent:async()=>{await t.refresh()},get modal(){return r(i)},set modal(g){Z(i,g,!0)},get event(){return r(a)},set event(g){Z(a,g,!0)}});var x=ie(m,2);const k=E(()=>[go,Xa]);Ia(x,{get plugins(){return r(k)},get options(){return D}}),P(e,_),_e()}var Ro=J("<p>Please wait while the calendar loads</p>");function Vo(e,t){ge(t,!0);let n=xe(null),i=xe(In([]));const a=b=>b.map(h=>({id:h.id,title:h.activity,start:new Date(h.start),end:new Date(h.end),backgroundColor:h.project_color}));async function s(){r(n)&&Z(i,a(await xi(r(n))),!0)}dn(async()=>{const b=await oi(()=>import("../chunks/BYbjoqHL.js"),[],import.meta.url);Z(n,_i(new b.default),!0),await r(n).initWorker(),await s()});var d=be(),f=ee(d);{var v=b=>{var h=be(),D=ee(h);gi(D,()=>r(i),_=>{po(_,{get dbWorker(){return r(n)},get events(){return r(i)},refresh:s})}),P(b,h)},c=b=>{var h=Ro();P(b,h)};le(f,b=>{r(n)?b(v):b(c,!1)})}P(e,d),_e()}export{Vo as component};
